function embedhtml5(Ce,Kc){function De(){function C(a){return(""+a).toLowerCase()}function ca(a,b){if(!a)return a;var e,g,c=0,d=0,f=a.length;for(e=0;f>e&&(g=a.charCodeAt(e),32>=g);e++)c++;for(e=f-1;e>0&&(g=a.charCodeAt(e),32>=g);e--)d++;return void 0===b&&(e=a.charAt(c),g=a.charAt(f-d-1),("'"==e&&"'"==g||'"'==e&&'"'==g)&&3==a.split(e).length)&&(c++,d++),a=a.slice(c,f-d)}function za(a){return 0<=_[294].indexOf(String(a).toLowerCase())}function lb(a,b){return _[441]==b?Number(a):_[61]==b?za(a):_[64]==b?null==a?null:String(a):a}function Ca(a){return(0|1e3*Number(a))/1e3}function Lc(a,b,c,d){a.__defineGetter__(b,c),void 0!==d&&a.__defineSetter__(b,d)}function fb(a,b,c){var d="_"+b;a[d]=c,a.__defineGetter__(b,function(){return a[d]}),a.__defineSetter__(b,function(b){b=lb(b,typeof c),b!=a[d]&&(a[d]=b,a.haschanged=!0)})}function la(a){a&&a.preventDefault()}function O(a,b,c,d){a&&a.addEventListener(b,c,d)}function V(a,b,c,d){a&&a.removeEventListener(b,c,d)}function ja(a){var b=Q.createElement(1==a?"img":2==a?_[431]:"div");return b&&1==a&&"off"!=Hd&&(b.crossOrigin=Hd),b}function mb(a){return function(){return a.apply(a,arguments)}}function Mb(a){return a.split("<").join("&lt;").split(">").join("&gt;")}function ma(a,b){var c="("+(255&a>>16)+","+(255&a>>8)+","+(255&a);return void 0!==b?"rgba"+c+","+b+")":"rgb"+c+")"}function Jc(a){return a.split("[").join("<").split("<<").join("[").split("]").join(">").split(">>").join("]")}function gc(a,b){for(a=Number(a),b=Number(b);0>a;)a+=360;for(;a>360;)a-=360;var c=Math.abs(b-a),d=Math.abs(b-(a-360)),e=Math.abs(b-(a+360));return c>d&&e>d?a-=360:c>e&&d>e&&(a+=360),a}function fc(a){if(a){var b=a.indexOf("?");b>=0&&(a=a.slice(0,b)),b=a.indexOf("#"),b>=0&&(a=a.slice(0,b))}return a}function vc(a){a=fc(a);var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");return c>b&&(b=c),a.slice(b+1)}function wc(a,b){var c=String(a).charCodeAt(0);return c>=48&&57>=c?(na(3,b+_[138]),!1):!0}function Xb(a,b,c,d){for(;32>=a.charCodeAt(b);)b++;for(;32>=a.charCodeAt(c-1);)c--;var e=a.charCodeAt(b);if(37==e)a=N(a.slice(b+1,c),d);else if(103==e&&"get("==a.slice(b,b+4)){for(b+=4;32>=a.charCodeAt(b);)b++;for(c=a.lastIndexOf(")");32>=a.charCodeAt(c-1);)c--;a=N(a.slice(b,c),d)}else d=a.charCodeAt(b),39!=d&&34!=d||d!=a.charCodeAt(c-1)||(b++,c--),a=a.slice(b,c);return a}function Eb(a){var c,e,f,d,g,b=[];if(null==a||void 0==a)return b;for(d=0,g=0,a=C(a),e=a.length,c=0;e>c;c++)f=a.charCodeAt(c),40==f?g++:41==f?g--:46==f&&0==g&&(b.push(a.slice(d,c)),d=c+1);return b.push(a.slice(d)),b}function oa(a,b){a=C(a);var c,d,e,f;for(e=Nb[a],null!=e&&void 0!==e&&""!=e&&fd(e,null,b),f=Nb.getArray(),d=f.length,c=0;d>c;c++)e=f[c][a],null!=e&&void 0!==e&&""!=e&&fd(e,null,b)}function S(a,b,c,d,e){var i,j,k,l,m,f=null,h=Eb(a),g=h.length;if(1==g&&d&&(f=h[0],void 0!==d[f]))return d[f]=_[61]==typeof d[f]?za(b):b,void 0;for(i=s,f=null,g>1&&(f=h[g-1]),a=0;g>a;a++){if(j=h[a],k=a==g-1,l=null,m=j.indexOf("["),m>0&&(l=Xb(j,m+1,j.length-1,d),j=j.slice(0,m)),m=!1,void 0===i[j]){if(c)break;k||(null==l?i[j]=new hc:(i[j]=new nb(hc),m=!0))}else m=!0;if(m&&0==k&&i[j]&&1==i[j].isArray&&null!=l){if(k=null,i=i[j],k=c?i.getItem(l):i.createItem(l)){if(a==g-2&&"name"==f){b=C(b),l!=b&&(null==b||"null"==b||""==b?i.removeItem(l):i.renameItem(l,b));break}i=k;continue}break}if(k)i[j]=1==e?b:lb(b,typeof i[j]);else if(i=i[j],null==i)break}}function xf(a){var d,b,c,e,f;if(a&&"null"!=a){if(_[64]==typeof a)for(b=a.split("&"),c=b.length,a={},d=0;c>d;d++)e=b[d].split("="),a[e[0]]=e[1];for(f in a)"xml"!=f&&S(f,a[f])}}function N(a,b,c){var e,g,h,i,j,f=Eb(a),d=f.length;if(1==d&&_[263]==f[0])return b?b._type+"["+b.name+"]":"";if(1==d&&b&&(e=f[0],b.hasOwnProperty(e)))return b[e];for(g=s,a=0;d>a&&(e=f[a],h=a==d-1,i=null,j=e.indexOf("["),j>0&&(i=Xb(e,j+1,e.length-1,b),e=e.slice(0,j)),g&&void 0!==g[e]);a++){if(null!=i&&(j=g[e])&&j.isArray){if(e=j.getItem(i)){if(h)return e;g=e;continue}break}if(h)return g[e];g=g[e]}return!0===c?void 0:null}function fd(a,b,c){$.callaction(a,b,c)}function Ce(a,b,c){fd(a,b?N(b):null,c?za(c):null)}function na(a,b){!Ee&&(a>0||s.debugmode)&&(b=["DEBUG","INFO",_[412],"ERROR",_[304]][a]+": "+b,G.log(b),a>2&&s.showerrors&&setTimeout(function(){try{G.showlog(!0)}catch(a){}},500))}function Aa(a,b){var c,d,e,g,h;Ee||(a=""+a,c=0<C(a).indexOf("load"),a=Mb(a).split("[br]").join("<br/>"),d=La.createItem(_[371]),e=La.createItem(_[366]),d.sprite||(d.create(),G.controllayer.appendChild(d.sprite)),e.sprite||(e.create(),G.controllayer.appendChild(e.sprite)),d.loaded=!0,d.align=_[60],d.width="100%",d.height="100%",d.alpha=.5,d.keep=!0,g=d.sprite.style,g.backgroundColor=_[23],g.zIndex=99999998,c&&(e.visible=!1),e.loaded=!0,e.align=_[135],e.y=0,e.width="105%",h=f.ie||f.android?-2:2,e.height=h+46/P,e.keep=!0,g=e.sprite.style,g.backgroundColor=_[23],g.color=_[35],g.fontFamily=f.realDesktop&&!f.ie?_[50]:_[55],g.fontSize="12px",g.margin="-2px",g.border=_[212],b||(b=_[237]),e.sprite.innerHTML=_[148]+b+"<br/>"+a+_[266],g.zIndex=99999999,g[gd]=_[175],e.jsplugin={onresize:function(){var a=e.sprite.childNodes[0].clientHeight;e.height=h+Math.max(46,a)/P,0>=a&&(e.imageheight=1)}},d.updatepos(),e.updatepos(),c&&setTimeout(function(){try{e.visible=!0}catch(a){}},500))}function De(){Sa.removeelements(!0),Fe.stop(),va.unregister(),G.remove()}function wf(){this.caller=this.args=this.cmd=null,this.breakable=!1}function ic(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;if(null==a||""==a)return null;for(d=0,e=0,f=0,g=0,h=0,i=0,j=0,k=0,l="",l=0;l=a.charCodeAt(h),l>0&&32>=l;)h++;for(m=[],e=a.length,d=h;e>d;d++)if(l=a.charCodeAt(d),0==k&&0==j&&40==l)f++;else if(0==k&&0==j&&41==l){if(g++,f==g){for(i=d+1,l=a.slice(h,i),m.push(l),h=i;l=a.charCodeAt(h),l>0&&32>=l;)h++;if(l=a.charCodeAt(h),59!=l){i=e;break}for(h++;l=a.charCodeAt(h),59==l||l>0&&32>=l;)h++;d=h}}else 34==l?0==j?j=1:1==j&&(j=0):39==l?0==j?j=2:2==j&&(j=0):91==l&&0==j?k++:93==l&&0==j&&k--;for(i!=e&&(l=a.slice(h,e),0<l.length&&m.push(l)),a=null,e=m.length,d=0;e>d;d++){if(l=m[d],j=l.indexOf("["),g=l.indexOf("]"),f=l.indexOf("("),j>0&&g>0&&f>j&&g>f&&(f=l.indexOf("(",g)),h=g=null,f>0?(g=l.slice(0,f),h=ca(l.slice(f+1,l.lastIndexOf(")")),!1),0>=h.length&&(h=null)):(g=l,h=null),g=ca(g),i=[],null!=h){for(k=h.length,f=0,o=-1,p=-1,q=j=0,l=null,n=0;k>n;n++)l=h.charCodeAt(n),0==j&&40==l?f++:0==j&&41==l?f--:34==l?1==j&&o>=0?(o=-1,j=0):0==j&&(o=n,j=1):39==l&&(2==j&&p>=0?(p=-1,j=0):0==j&&(p=n,j=2)),44==l&&0==f&&0==j&&(l=ca(h.slice(q,n)),i.push(l),q=n+1);0==f&&(l=ca(h.slice(q,n)),i.push(l))}null==a&&(a=[]),f=new wf,f.cmd=c?g:C(g),f.args=i,f.caller=b,a.push(f)}return a}function xc(){this.z=this.y=this.x=0,this.to_euler_xyz=function(){var a=new xc;return a.x=-Math.atan2(-this.y,Math.sqrt(this.x*this.x+this.z*this.z))/U,a.y=Math.atan2(this.x,this.z)/U+180,a}}function jc(a){return _[112]!==typeof Float32Array?new Float32Array(void 0!==a?a:16):void 0!==a?a:Array(16)}function hd(a,b){var c=jc(),d=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=b[8],m=b[9],n=b[10],o=b[11],p=b[12],q=b[13],r=b[14],s=b[15],t=a[0],u=a[1],v=a[2],w=a[3];return c[0]=t*d+u*h+v*l+w*p,c[1]=t*e+u*i+v*m+w*q,c[2]=t*f+u*j+v*n+w*r,c[3]=t*g+u*k+v*o+w*s,t=a[4],u=a[5],v=a[6],w=a[7],c[4]=t*d+u*h+v*l+w*p,c[5]=t*e+u*i+v*m+w*q,c[6]=t*f+u*j+v*n+w*r,c[7]=t*g+u*k+v*o+w*s,t=a[8],u=a[9],v=a[10],w=a[11],c[8]=t*d+u*h+v*l+w*p,c[9]=t*e+u*i+v*m+w*q,c[10]=t*f+u*j+v*n+w*r,c[11]=t*g+u*k+v*o+w*s,t=a[12],u=a[13],v=a[14],w=a[15],c[12]=t*d+u*h+v*l+w*p,c[13]=t*e+u*i+v*m+w*q,c[14]=t*f+u*j+v*n+w*r,c[15]=t*g+u*k+v*o+w*s,c}function Ge(a,b,c){return jc([a,0,0,0,0,b,0,0,0,0,c,0,0,0,0,1])}function He(a){var j,b=a[0],c=a[1],d=a[2],e=a[4],f=a[5],g=a[6],h=a[8],i=a[9];return a=a[10],j=1/(b*f*a+c*g*h+e*i*d-h*f*d-e*c*a-i*g*b),jc([(f*a-i*g)*j,(-c*a+i*d)*j,(c*g-f*d)*j,0,(-e*a+h*g)*j,(b*a-h*d)*j,(-b*g+e*d)*j,0,(e*i-h*f)*j,(-b*i+h*c)*j,(b*f-e*c)*j,0,0,0,0,1])}function Mc(a,b){var c=b.x,d=b.y,e=b.z;b.x=c*a[0]+d*a[4]+e*a[8],b.y=c*a[1]+d*a[5]+e*a[9],b.z=c*a[2]+d*a[6]+e*a[10]}function be(a,b){var c=b[0],d=b[1],e=b[2];b[0]=c*a[0]+d*a[4]+e*a[8],b[1]=c*a[1]+d*a[5]+e*a[9],b[2]=c*a[2]+d*a[6]+e*a[10]}function yf(a,b,c){var d,e,f;return d=-b*U,b=Math.cos(d),e=Math.sin(d),d=-a*U,a=Math.cos(d),f=Math.sin(d),d=-c*U,c=Math.cos(d),d=Math.sin(d),jc([a*c-f*e*d,a*d+f*e*c,-f*b,0,-b*d,b*c,e,0,f*c+a*e*d,f*d-a*e*c,a*b,0,0,0,0,1])}function Nc(a){""!=a.loader.src&&(a.loader=ja(1),a.loader.kobject=a)}function kc(a,b,c,d){return a=(""+a).split(c),d=d?d:[0,0,0,0],c=a.length,4==c?(d[0]=0|a[0]*b+.5,d[1]=0|a[1]*b+.5,d[2]=0|a[2]*b+.5,d[3]=0|a[3]*b+.5):3==c?(d[0]=0|a[0]*b+.5,d[1]=d[3]=0|a[1]*b+.5,d[2]=0|a[2]*b+.5):2==c?(d[0]=d[2]=0|a[0]*b+.5,d[1]=d[3]=0|a[1]*b+.5):d[0]=d[1]=d[2]=d[3]=0|a[0]*b+.5,d}function zf(a){var b=a&&a._poly;b&&(b.setAttribute("fill",ma(a.fillcolor,a.fillalpha)),b.setAttribute(_[426],ma(a.bordercolor,a.borderalpha)),b.setAttribute(_[262],a.borderwidth*P))}function $g(a){var i,j,k,l,m,n,r,o,q,b=p.r_rmatrix,c=p.r_zoom,d=p.r_zoff,e=.5*Pa,f=.5*ia+p.r_yoff,g=p._stereographic?10-d:1-d*(1-Math.min(p.fisheye*p.fisheye,1)),h=a._poly;if(h||(i=G.svglayer,i||(i=document.createElementNS(_[74],"svg"),i.setAttribute(_[41],"100%"),i.setAttribute(_[26],"100%"),i.style.position=_[0],i.style.left=0,i.style.top=0,G.svglayer=i,G.hotspotlayer.appendChild(i)),h=document.createElementNS(_[74],_[413]),i.appendChild(h),h.kobject=a,a._poly=h,zf(a),h.style.opacity=Number(a._alpha)*yc,a._assignEvents(h),setTimeout(function(){a.loading=!1,a.loaded=!0,$.callaction(a.onloaded,a)},7)),i=a.point.getArray(),j=i.length,k=[],j>2&&a._visible){for(o=new xc,q=new xc,m=i[j-1],n=(180-Number(m.ath))*U,m=Number(m.atv)*U,o.x=1e3*Math.cos(m)*Math.cos(n),o.z=1e3*Math.cos(m)*Math.sin(n),o.y=1e3*Math.sin(m),Mc(b,o),l=0;j>l;l++)m=i[l],n=(180-Number(m.ath))*U,m=Number(m.atv)*U,q.x=1e3*Math.cos(m)*Math.cos(n),q.z=1e3*Math.cos(m)*Math.sin(n),q.y=1e3*Math.sin(m),Mc(b,q),q.z>=g?(o.z>=g||(r=(g-o.z)/(q.z-o.z),m=c/(g+d),n=(o.x+(q.x-o.x)*r)*m+e,m=(o.y+(q.y-o.y)*r)*m+f,k.push(n.toFixed(2)+","+m.toFixed(2))),m=c/(q.z+d),n=q.x*m+e,m=q.y*m+f,k.push(n.toFixed(2)+","+m.toFixed(2))):o.z>=g&&(r=(g-q.z)/(o.z-q.z),m=c/(g+d),n=(q.x+(o.x-q.x)*r)*m+e,m=(q.y+(o.y-q.y)*r)*m+f,k.push(n.toFixed(2)+","+m.toFixed(2))),o.x=q.x,o.y=q.y,o.z=q.z;2<k.length&&k.push(k[0]),h.style.pointerEvents=a._enabled?_[227]:"none",h.style.cursor=a._handcursor?_[24]:_[7],h.style.visibility=a._visible?_[16]:_[5]}h.setAttribute(_[460],k.join(" "))}function Yb(a,b){var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,Q,R,S,T,V,c=Ha.getArray(),d=c.length,g=p.r_rmatrix,h=Pa,i=ia,j=P,k=.5*h,l=.5*i,m=p.r_zoom,n=p.r_hlookat,o=p.r_vlookat,q=p.r_vlookatA,r=p.r_yoff,s=p.r_zoff,t=p._camroll,e=p._stereographic,u=50;for(s>0&&(e?u-=s:(u=20-s,-125>u&&(u=-125))),v=0,w=0,e=0,void 0!==b&&(e=b,d=e+1),x=lc,y=f.realDesktop&&250>m?1.5:0,z=id,id=!1,A=ah,B=bh,A[1]=k,A[5]=Af,A[9]=n,A[15]=x+","+x+","+x,x=Ta,C=new xc;d>e;e++)D=c[e],D&&(E=D.sprite,E&&(z&&D.sprite&&(F=Number(D._alpha)*yc,E.style.opacity=F,D._poly&&(D._poly.style.opacity=F)),F=a||D.poschanged||D.forceupdate,null==D._url&&0<D.point.count&&F?($g(D),D.poschanged=!1):D._visible&&D.loaded&&F&&(D.poschanged=!1,F=Number(D._flying),v=(1-F)*Number(D._ath),w=(1-F)*Number(D._atv),F>0&&(v+=F*gc(n,D._ath),w+=F*gc(o,D._atv)),G=!1,H=(180-v)*U,I=w*U,C.x=1e3*Math.cos(I)*Math.cos(H),C.z=1e3*Math.cos(I)*Math.sin(H),C.y=1e3*Math.sin(I),Mc(g,C),J=!1,K=C.x,L=C.y,H=C.z,H>=u-s&&(M=m/(H+s),K*=M,L=L*M+r,J=8e3>Math.abs(K)&&8e3>Math.abs(L),K+=k,L+=l),D._distorted?(E.style.pointerEvents=H+s>=50&&D._enabled?"auto":"none",G=!0,H=(I=D._scale)?D._scale:1,D._hszscale=H,H=H*(1-F)+F*(H/(m/(i/2))),D._scale=1,D.updatepluginpos(),D._scale=I,N=D.pixelwidth,O=D.pixelheight,Q=I=1,D._use_css_scale&&(I=N/D.imagewidth,Q=O/D.imageheight),R=.5*-O,S=String(D._edge),K=L=0,T=D._oxpix,V=D._oypix,L+=.5*-N/I,K+=R/Q,0<=S.indexOf("left")?L+=+N/2/I:0<=S.indexOf(_[3])&&(L+=-N/2/I),0<=S.indexOf("top")?K+=+O/2/Q:0<=S.indexOf(_[2])&&(K+=-O/2/Q),O=-500,N=D._deepscale,2==Gb&&(N*=15),N/=1+F+y,(f.firefox||6<f.iosversion&&.1>D.scale)&&(N=10/(1+F)),s>0&&(N=1),H*=N,O*=N,T*=N,V*=N,(s>0||f.firefox)&&(G=J),A[3]=l+r*(1-F),A[7]=-(q*(1-F)+o*F),A[11]=Ca(-v),A[13]=Ca(w),A[17]=O,A[19]=Ca(D._rotate+F*t),A[21]=T,A[23]=V,D.inverserotation?(A[25]="Y("+Ca(D.ry),A[27]="X("+Ca(D.rx),A[29]="Z("+Ca(-D.rz)):(A[25]="Z("+Ca(D.rz),A[27]="X("+Ca(-D.rx),A[29]="Y("+Ca(-D.ry)),A[31]=H*I,A[33]=H*Q,A[35]=L,A[37]=K,E.style[x]=A.join("")):H>=u&&(H=1,J)&&((D.zoom||D.distorted)&&(H*=Number(2*(1-F)*M+F*P)/P),D.updatepluginpos(),N=D.pixelwidth,O=D.pixelheight,Q=I=1,D._use_css_scale&&(I=N/D.imagewidth,Q=O/D.imageheight),v=K,w=L,0==D.accuracy&&(v=Math.round(v),w=Math.round(w)),S=String(D._edge),K=L=0,T=D._oxpix*H,V=D._oypix*H,0<=S.indexOf("left")?L+=+N/2/I:0<=S.indexOf(_[3])&&(L+=-N/2/I),0<=S.indexOf("top")?K+=+O/2/Q:0<=S.indexOf(_[2])&&(K+=-O/2/Q),J=2*H*(Math.max(N,O)*D._scale+Math.max(T,V)),(v+J>0||w+J>0||h>v-J||i>w-J)&&(D._use_css_scale?H*=j:(N*=j,O*=j,L*=j,K*=j),G=-(N/I)/2,J=-(O/Q)/2,D._istextfield&&0==D.accuracy&&(v|=0,w|=0,G|=0,J|=0,T|=0,V|=0,L|=0,K|=0),B[1]=Ca(v),B[3]=Ca(w),B[5]=Ca(G),B[7]=Ca(J),B[9]=Ca(D._rotate-t*(1-F)),B[11]=T,B[13]=V,B[15]=H*I,B[17]=H*Q,B[19]=Ca(L),B[21]=Ca(K),F=B.join(""),F=2>Gb&&.5<Number(D.zorder2)&&!f.edge?_[291]+(999999999e3+D._zdeep)+"px) "+F:_[222]+F,E.style[Ta]=F,G=!0)),0==D.forceupdate&&(F=G?"":"none",F!=E.style.display&&(E.style.display=F)),D.forceupdate=!1)))}function ch(a,b,c,d){function e(){var a=ja(),b=a.style;b.marginTop=b.marginBottom=p[17]*u+n,b.height=1+n,b.backgroundColor=ma(p[18]),"none"!=p[19]&&(b.borderBottom=_[293]+ma(p[19])),v.appendChild(a)}function g(a){var b=a.changedTouches;return(b&&0<b.length?b[0]:a).pageY}function h(a,b,e){var j,h=ja(),i=h.style;return i.padding=p[20]*u+n,i.border=p[21]+_[21]+ma(p[22]),i.borderRadius=p[23]*u+n,i.marginTop=p[24]*u+n,i.marginBottom=p[24]*u+n,f.androidstock&&(i[_[73]]=_[53]),va.touch&&O(h,f.browser.events.touchstart,function(a){if(la(a),a.stopPropagation(),e&&b){h.onmouseover();var c=g(a),d=0|parseInt(t.style.top),i=!1,j=f.browser.events.touchmove,k=f.browser.events.touchend,l=function(a){if(a=g(a)-c,r>ia){var b=0|d+a;ia-r-10>b?b=ia-r-10:b>10&&(b=10),t.style.top=b+n}15<Math.abs(a)&&(h.onmouseout(),i=!0)},m=function(){V(B,j,l,!0),V(B,k,m,!0),0==i&&h.onclick()};O(B,j,l,!0),O(B,k,m,!0)}},!0),e&&b?(i.cursor=_[24],h.onmousedown=function(a){a.stopPropagation()},h.onmouseover=function(){i=this.style,i.background=ma(p[25]),i.border=p[21]+_[21]+ma(p[26]),i.color=ma(p[27])},h.onmouseout=function(){i=this.style,i.background="none",i.border=p[21]+_[21]+ma(p[22]),i.color=ma(p[4])},h.oncontextmenu=function(a){la(a),a.stopPropagation(),h.onclick()},h.onclick=function(){d?(i=t.style,i.opacity=1,i.transition=_[94],i.opacity=0,setTimeout(c,300)):c(),$.callaction(e)}):(0==b&&(i.color=ma(p[5])),i.cursor=_[7]),j=ja(),j.style.marginLeft=p[28]*u+n,j.style.marginRight=p[29]*u+n,j.innerHTML=a,h.appendChild(j),v.appendChild(h),j}function i(){function a(){return.4>Math.random()?" ":_[128]}var b=h("About"+a()+"the"+a()+_[36]+a()+_[380]+a()+_[326],!0,function(){$.openurl(_[191])});try{new MutationObserver(function(){var a=B.getComputedStyle(b);9>Math.min(0|parseInt(a.width),0|parseInt(a.height))&&(s={},Aa(_[93]))}).observe(b,{attributes:!1,childList:!0,characterData:!0,subtree:!0})}catch(c){}}function j(){h(G.fullscreen?o.exitfs:o.enterfs,!0,function(){s.fullscreen=!s.fullscreen})}function k(){var a=f.android;h((F?"":_[122]+s.version+_[209]+s.build+_[228])+(a?_[410]:"")+f.infoString+Ua.infoString+(a?_[369]:""),!0,null)}function l(){Da&&Da[2]&&h(Da[2],!0,function(){$.openurl(Da[3])})}function m(){var c=t.getBoundingClientRect(),e=c.width,c=c.height,f=b;if(e>0&&c>0){for(r=c,d&&(a-=e>>1,a+e>Pa&&(a=Pa-e-10),10>a&&(a=10));a+e>Pa;)a-=e/2;0>a&&(a=0),b+c>ia&&(b=d?ia-c-10:b-c),0>b&&(d?b=ia-c>>1:f>ia/2?(b=f-c,0>b&&(b=4)):(b=f,b+c>ia&&(b=ia-4-c))),q=t.style,q.left=(0|a)+n,q.top=(0|b)+n,d&&(q.transition=_[94],q.opacity=1)}else 10>++L&&setTimeout(m,32)}var p,q,r,t,u,v,x,y,A,E,w,z,D,F,H,I,J,K,L,n="px",o=s.contextmenu;if(d&&0==o.touch)return null;for(p=null,o.customstyle&&(_[103]==f.browser.domain||0==f.realDesktop||f.realDesktop&&0!=(16&ka))&&(p=C(o.customstyle).split("|"),30!=p.length&&(p=null)),null==p&&(p=(f.mac?"default|14|default|0xFFFFFF|0x000000|0xBBBBBB|0|0|5|2|2|8|0x66000000|0|0|1|4|5|0xEEEEEE|none|1|0|0|0|3|0xEEEEEE|0|0|20|12":f.desktop?"default|default|150%|0xFFFFFF|0x000000|0xBBBBBB|1|0xBBBBBB|0|2|2|8|0x66000000|0|0|2|2|5|0xE0E0E0|none|4|0|0|0|3|0xEEEEEE|0|0|18|12":"Helvetica|16|default|0x55000000|0xFFFFFF|0x555555|1|0xFFFFFF|8|0|0|8|0x44000000|0|0|4|4|6|0x555555|none|4|0|0|0|3|0xEEEEEE|0|0|12|12").split("|")),q=null,r=0,t=ja(),t.onselectstart=_[232],f.desktop&&f.chrome&&(t.style.opacity=.999),(f.linux||f.android)&&(p[1]=12),q=t.style,q.position=_[0],q.zIndex=99999999999,u=1,f.androidstock?u=f.pixelratio:f.chrome&&40>f.chromeversion&&(q[Ta]=_[19]),_[7]!=p[0]?q.fontFamily=p[0]:q.font="menu",_[7]!=p[1]&&(q.fontSize=p[1]*u*(f.android?1.2:1)+n),_[7]!=p[2]&&(q.lineHeight=p[2]),q.background=ma(p[3],(255-(p[3]>>24))/255),q.color=ma(p[4]),q.border=p[6]+_[21]+ma(p[7]),q.borderRadius=p[8]*u+n,q.minWidth=150+n,q.textAlign="left",q[gd]=p[9]+"px "+p[10]+"px "+p[11]+"px "+ma(p[12],(p[12]>>24)/255),v=ja(),q=v.style,q.border=p[13]+_[21]+ma(p[14]),q.paddingTop=p[15]*u+n,q.paddingBottom=p[16]*u+n,va.touch&&O(v,f.browser.events.touchstart,function(a){la(a),a.stopPropagation()},!1),t.appendChild(v),w=o.item.getArray(),z=0,D=w.length,F=0!=(16&ka),H=F,I=F,J=!1,K=!1,E=0;D>E;E++)(x=w[E])&&(y=x.caption)&&(y=Jc(unescape(y)),x.separator&&z>0&&e(),A=C(y),_[36]==A?0==H&&(H=!0,i(),z++):Da&&_[361]==A?0==I&&(I=!0,l(),z++):_[102]==A?(J=!0,f.fullscreensupport&&(j(),z++)):_[274]==A?(K=!0,k(),z++):(A=x.visible&&(!x.showif||$.resolvecondition(null,x.showif)))?(h(y,x.enabled,x.onclick),z++):0==A&&x.separator&&z>0&&v.removeChild(v.lastChild));return Da&&0==I&&(z>0&&(e(),z=0),l()),0==H&&(z>0&&e(),i(),z++),0==J&&1==o.fullscreen&&f.fullscreensupport&&(j(),z++),0==K&&1==o.versioninfo&&(z>0&&e(),k(),z++),0==z?null:(q=t.style,q.left=_[115],q.top="10px",L=0,d&&(q.opacity=0),setTimeout(m,16),t)}function dh(){var c,d,a=p.haschanged,b=!1;Zb++,Ob.frame=Zb,Ua.fps(),c=G.resizeCheck(),d=$.processAnimations(),a|=p.haschanged,(f.webgl||!f.ios||f.ios&&5<=f.iosversion)&&(d=!1),d|=Ie,Ie=!1,d&&(p._hlookat+=((1&Zb)-.5)/(1+p.r_zoom),a=!0),a|=Sa.handleloading(),0==$.blocked&&(a|=va.handleFrictions(),Sa.checkautorotate(p.haschanged)&&(a=b=!0)),p.continuousupdates&&(a=b=!0),a||c?(Ua.startFrame(),Sa.updateview(b,!0),Ua.finishFrame()):(p.haschanged&&p.updateView(),Yb(!1)),Sa.updateplugins(c),f.desktop&&Sa.checkHovering()}var Ja,Q,B,Va,U,kd,Je,Ea,Id,s,Pb,pb,Pa,ia,P,Ke,Ud,qb,wa,aa,Ob,Nb,ie,Ha,K,z,La,p,ab,cb,Zb,Le,ka,Me,ld,Da,Hd,Jd,Ie,rb,f,sb,md,Bf,Gb,Kd,Cf,Ee,Ta,Df,Ne,je,gd,Ef,Oc,hc,nb,qa,Ff,Hf,If,Jf,Oe,Pe,ea,eh,Gf,Z,Kf,Lf,Mf,Nf,Of,Pf,Qf,tb,ha,$,G,Rf,Pc,Qe,Sf,nc,Tf,Uf,zc,Vf,Se,Wf,x,Xf,Qb,Te,Qc,db,bb,Wa,Fa,ub,Rc,Yf,Zf,Sc,Ue,Re,Tc,nd,va,$f,Ve,Ac,Ld,bg,od,cg,vb,Xc,dg,rd,fg,gg,eg,Xe,sd,ig,Yc,Ye,Ze,ud,vd,Md,$e,jg,kg,lg,ng,wd,og,ke,bf,xd,Kb,cf,Qa,Fc,gb,da,R,Bc,Bb,hg,cc,yd,mg,pg,bd,Vc,pd,ib,zb,Dc,Xa,Cc,ad,ag,fa,Ec,Sb,Ab,jb,af,Uc,Ba,Ma,Zc,Nd,$c,We,oc,Rb,hb,ac,qd,xb,yb,Ib,$b,Wc,Hb,wb,Jb,bc,td,qg,Na,M,pc,df,Cb,qc,le,zd,Sa,me,sg,tg,rg,ug,ef,wg,xg,ff,yg,oe,vg,Ya,ra,xa,ba,Ad,ne,Ua,zg,fh,Gg,hf,Hg,jf,Ig,Jg,re,gh,hh,jh,Kg,Mg,Pg,Qg,Ng,nf,te,Ga,ce,Og,kf,Tg,Ug,of,ue,Vg,pf,dc,Xd,ve,ih,we,qf,xe,sc,ec,Cd,ye,rf,Dd,Ra,eb,Za,Tb,Bd,Rg,pe,qe,Ag,Bg,Cg,Dg,Eg,Fg,gf,ya,Vd,Ub,Pd,rc,Wd,mf,de,lf,Od,se,Lg,Sg,sf,ee,Wg,Xg,tf,ze,kh,lh,mh,Gd,nh,id,yc,oh,Af,lc,ah,bh,ph,Fe,Yg,uf,vf,Zg,Be,jd=this;try{!Object.prototype.__defineGetter__&&Object.defineProperty({},"x",{get:function(){return!0}}).x&&(Object.defineProperty(Object.prototype,_[193],{enumerable:!1,configurable:!0,value:function(a,b){Object.defineProperty(this,a,{get:b,enumerable:!0,configurable:!0})}}),Object.defineProperty(Object.prototype,_[192],{enumerable:!1,configurable:!0,value:function(a,b){Object.defineProperty(this,a,{set:b,enumerable:!0,configurable:!0})}}))}catch(qh){}Ja=navigator,Q=document,B=window,Va=Math.PI,U=Va/180,kd=Number.NaN,Je=0,Ea=B.performance&&B.performance.now?function(){return B.performance.now()-Je}:function(){return(new Date).getTime()-Je},Je=Ea(),Id=String.fromCharCode,s=null,Pb=0,pb=0,Pa=0,ia=0,P=1,Ke=1,Ud=0,qb=null,wa=null,aa=null,Ob=null,Nb=null,ie=null,Ha=null,K=null,z=null,La=null,p=null,ab=null,cb=null,Zb=0,Le=60,ka=14,Me=null,ld=[_[312],_[458]],Da=null,Hd="",Jd=null,Ie=!1,rb=0,f={runDetection:function(a){function b(){var a=screen.width,b=screen.height,c=f.topAccess?top:B,d=c.innerWidth,e=c.innerHeight,c=0|c.orientation,g=a/(b+1),h=d/(e+1);return(g>1&&1>h||1>g&&h>1)&&(g=a,a=b,b=g),j.width=a,j.height=b,j.orientation=c,f.window={width:d,height:e},a/=d,f.pagescale=a}var d,g,h,j,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,D,E,F,G,H,c="multires flash html5 html mobile tablet desktop ie edge webkit ios iosversion iphone ipod ipad retina hidpi android androidstock blackberry touchdevice gesturedevice fullscreensupport windows mac linux air standalone silk".split(" "),i=Q.documentElement,e=c.length;for(d=0;e>d;d++)g=c[d],f[g]=!1;f.html5=f.html=!0,f.iosversion=0,f.css3d=!1,f.webgl=!1,f.topAccess=!1,f.simulator=!1,f.multiressupport=!1,f.panovideosupport=!1,j=f.screen={};try{top&&top.document&&(f.topAccess=!0)}catch(k){}l=Ja.platform,c=C(l),g=Ja.userAgent,m=C(g),n=d="",0<=c.indexOf("win")?f.windows=!0:0<=c.indexOf("mac")?f.mac=!0:0<=c.indexOf("linux")&&(f.linux=!0),o=B.devicePixelRatio,p=o>=2,e=1,q=0<=c.indexOf("ipod"),r=0<=c.indexOf(_[39]),s=0<=c.indexOf("ipad"),t=r||q||s,h=m.indexOf("silk/"),u=0<=m.indexOf(_[395])||0<=m.indexOf(_[134]),v=0>h&&!u&&0<=m.indexOf(_[393]),w=!1,x=!1,y=!1,z=g.indexOf(_[133]),A=g.indexOf(_[394]),D=!1,E=(t||v||h)&&(f.windows||f.mac),u&&(z=A=-1),c=!1,F=0,Ke=b(),t?(f.ios=!0,d=l,h=g.indexOf("OS "),h>0&&(h+=3,F=g.slice(h,g.indexOf(" ",h)).split("_").join("."),d+=_[416]+F,f.iosversion=parseFloat(F),F>="6.0"&&(r&&!p||q&&p))&&(f._iOS6_canvas_bug=!0),w=r||q,x=s,F=Math.max(screen.width,screen.height),f.iphone=r||q,f.iphone5=r&&F>500,f.ip6p=r&&F>735,f.ipod=q,f.ipad=s,f.retina=p,(r||q)&&(e/=2)):v?(h=g.indexOf(_[418]),F=parseFloat(g.slice(h+8)),f.android=!0,f.linux=!1,f.androidversion=F,d=g.slice(h,g.indexOf(";",h)),w=0<C(m).indexOf(_[62]),x=!w,F=g.indexOf(")"),F>5&&(h=g.slice(0,F).lastIndexOf(";"),h>5&&(p=g.indexOf(_[450],h),p>0&&(F=p),d+=" ("+g.slice(h+2,F)+")")),A>0&&isNaN(o)&&(o=Ke),x&&o>1?(f.hidpi=!0,e=o,(z>=0||A>0)&&(f.hidpi=!1,e=1)):w&&(f.hidpi=o>1,e=o/2,.5>e&&(e=.5),z>=0&&(f.hidpi=!1,e=.5),A>0||E)&&(f.hidpi=!1,e=.5)):((0<=m.indexOf(_[295])||0<=m.indexOf(_[296])||0<=m.indexOf("bb10"))&&(D=!0,f.blackberry=!0,d=_[277],c=!0),h>=0?(D=!0,f.silk=!0,d=_[267]+parseFloat(m.slice(h+5)).toFixed(2),y=!1,w=0<=m.indexOf(_[62]),x=!w,c=!0):0<=m.indexOf("ipad")||0<=m.indexOf(_[39])?y=D=!0:0<=m.indexOf(_[437])?(x=!0,d+=_[443]):0<=m.indexOf(_[62])?(w=!0,d+=_[449],e=.5):y=!0),q=Ja.vendor&&0<=Ja.vendor.indexOf("Apple"),r=B.opera,p=!1,y&&(d=_[246]),h=g.indexOf(_[396]),h>0&&(q||r||v)&&(h+=8,F=g.slice(h,g.indexOf(" ",h)),q?(f.safari=!0,f.safariversion=F,n=_[459]):(v&&(n=_[217],c=!0),r&&(f.opera=!0,f.operaversion=F,n="Opera")),n+=" "+F),t&&(h=g.indexOf(_[447]),h>0&&(f.safari=!0,h+=6,F=parseFloat(g.slice(h,g.indexOf(" ",h))),f.crios=F,n=_[388]+F.toFixed(1))),h=z,h>=0||B.chrome&&!u?(F=parseFloat(g.slice(h+7)),f.chrome=!0,f.chromeversion=F,n=_[133]+(isNaN(F)?"":" "+F.toFixed(1)),h=m.indexOf("opr/"),h>0&&(n=_[425]+parseFloat(g.slice(h+4)).toFixed(1)+_[335]),v&&28>F&&(c=!0),v&&o>1&&20>F&&!E&&(f.hidpi=!0,e=o,w&&(e/=2))):(h=A,0>h&&(h=g.indexOf(_[435])),h>=0&&(F=parseFloat(g.slice(1+g.indexOf("/",h))),f.firefox=!0,f.firefoxversion=F,n=_[373]+(isNaN(F)?"":F.toFixed(1)),v&&35>F&&(c=!0)),h=g.indexOf("MSIE "),(p=h>=0||u)&&(y=f.ie=!0,x=!1,n=_[187],0<m.indexOf(_[359])||0<m.indexOf(_[230])?(w=!0,y=!1,n=_[407]+n,e=.5):0<m.indexOf("arm;")&&1<Ja.msMaxTouchPoints&&(x=!0,y=!1,n=_[420]+n,c=!0,e=1),h>=0?(F=g.slice(h+4,g.indexOf(";",h)),f.ieversion=parseFloat(F),n+=F):(h=g.indexOf("rv:"),h>=0?(F=parseFloat(g.slice(h+3)),!isNaN(F)&&F>=10&&100>F&&(f.ieversion=F,n+=" "+F.toFixed(1))):(h=m.indexOf(_[134]),h>=0&&(n=_[223],f.edge=!0,F=parseFloat(g.slice(h+6)),isNaN(F)||(f.ieversion=F,n+=" "+(F+8).toFixed(5))))),d=n,n="")),f.android&&(f.androidstock=!(f.chrome||f.firefox||f.opera)),0<(h=m.indexOf(_[404]))&&(F=parseFloat(m.slice(h+7)),!isNaN(F)&&F>0&&(f.webkit=!0,f.webkitversion=F)),f.pixelratio=isNaN(o)?1:o,m={},G=ja(),o=function(a){var b,c,d;for(b=["ms","Moz",_[439],"O"],c=0;5>c;c++)if(d=c>0?b[c-1]+a.slice(0,1).toUpperCase()+a.slice(1):a,void 0!==G.style[d])return d;return null},m.find=o,m.prefix=p?"ms":f.firefox?"moz":f.safari||f.chrome||f.androidstock?_[66]:"",m.perspective=o(_[278]),m.transform=o(_[330]),m.backgroundsize=o(_[225]),m.boxshadow=o(_[328]),m.boxshadow_style=_[213]==m.boxshadow?_[180]:_[255]==m.boxshadow?_[208]:_[308],v&&"4.0">f.androidversion&&(m.perspective=null),m.perspective&&(f.css3d=!0,_[188]==m.perspective&&B.matchMedia&&(o=B.matchMedia(_[165])))&&(f.css3d=1==o.matches),G=null,o=f,u=null;try{for(H=ja(2),z=0;4>z&&!(u=H.getContext([_[70],_[79],_[111],_[108]][z]));z++);}catch(I){}o.webgl=null!=u,o={},o.useragent=g,o.platform=l,o.domain=null,o.location=B.location.href,H=o.events={},o.css=m,(t||v||void 0!==i.ontouchstart||D)&&(f.touchdevice=!0,f.gesturedevice=!0),l=0,(Ja.msPointerEnabled||Ja.pointerEnabled)&&f.ie&&(t=Ja.msMaxTouchPoints||Ja.maxTouchPoints,Ja.msPointerEnabled&&(l=2),Ja.pointerEnabled&&(l=1),f.touchdevice=t>0,f.gesturedevice=t>1),H.touchstart=[_[307],_[286],_[245]][l],H.touchmove=[_[109],_[288],_[234]][l],H.touchend=[_[116],_[325],_[275]][l],H.touchcancel=[_[272],_[233],_[210]][l],H.gesturestart=[_[264],_[90],_[90]][l],H.gesturechange=[_[248],_[87],_[87]][l],H.gestureend=[_[300],_[96],_[96]][l],H.pointerover=[_[8],_[8],_[28]][l],H.pointerout=[_[9],_[9],_[29]][l],f.pointerEvents=f.opera||f.ie&&11>f.ieversion?!1:!0,n&&(d+=" - "+n),f.realDesktop=y,a=a.vars?C(a.vars.simulatedevice):null,_[350]==a&&(0<=g.indexOf(_[126])||0<=g.indexOf("iPod")?a=_[39]:0<=g.indexOf("iPad")&&(a="ipad")),f.touchdeviceNS=f.touchdevice,a=_[39]==a?1:"ipad"==a?2:0,a>0&&(f.simulator=!0,f.crios=0,d+=" - "+(1==a?_[126]:"iPad")+_[320],e=a/2,w=1==a,x=2==a,y=!1,f.ios=!0,f.iphone=w,f.ipad=x,f.touchdevice=!0,f.gesturedevice=!0),f.browser=o,f.infoString=d,f.mobile=w,f.tablet=x,f.desktop=y,f.touch=f.gesturedevice,f.mouse=y,f.getViewportScale=b,P=e,0==f.simulator&&0!=Q.fullscreenEnabled&&0!=Q.mozFullScreenEnabled&&0!=Q.webkitFullScreenEnabled&&0!=Q.webkitFullscreenEnabled&&0!=Q.msFullscreenEnabled&&(a=[_[189],_[169],_[162],_[163],_[176]],d=-1,e=null,g=_[194],i[a[0]]?(e="",d=0):i[a[1]]?(e="moz",d=1):i[a[2]]?(e=_[66],d=2):i[a[3]]?(e=_[66],d=3):i[a[4]]&&(e="MS",g=_[195],d=4),d>=0&&0==c&&(f.fullscreensupport=!0,H.fullscreenchange=e+g,H.requestfullscreen=a[d])),f.buildList(),delete f.runDetection},buildList:function(){var a,b="|all";for(a in f)a==C(a)&&f[a]&&(b+="|"+a);f.haveList=b+"|"},checkSupport:function(a){var b,c,d,e,g,h;for(a=C(a).split("no-").join("!").split(".or.").join("|").split(".and.").join("+").split("|"),d=a.length,b=0;d>b;b++){for(e=a[b].split("+"),g=!1,c=0;c<e.length;c++)if(g=e[c],h=!1,33==g.charCodeAt(0)&&(g=g.slice(1),h=!0),0==g.indexOf("ios")&&f.ios)if(3==g.length||f.iosversion>=parseFloat(g.slice(3))){if(h){g=!1;break}g=!0}else{if(!h){g=!1;break}g=!0}else if(0<=f.haveList.indexOf("|"+g+"|")){if(h){g=!1;break}g=!0}else{if(!h){g=!1;break}g=!0}if(g)return!0}return!1}},sb=0,md=0,Bf=0,Gb=0,Kd=0,Cf=0,Ee=!1,Ta=null,Df=null,Ne=null,je=null,gd=null,Ef=!1,Oc=0,hc=function(){var a=this;a._type="base",a.registerattribute=function(b,c,d,e){b=C(b),d&&e?(a.hasOwnProperty(b)&&(c=lb(a[b],typeof c)),a.__defineGetter__(b,e),a.__defineSetter__(b,d),d(c)):a[b]=a.hasOwnProperty(b)?lb(a[b],typeof c):c},a.createobject=function(b){b=C(b);try{return a.hasOwnProperty(b)?a[b]:a[b]=new hc}catch(c){}return null},a.removeobject=a.removeattribute=function(b){b=C(b);try{a[b]=null,delete a[b]}catch(c){}},a.createarray=function(b){return b=C(b),a[b]&&a[b].isArray?a[b]:a[b]=new nb(hc)},a.removearray=function(b){b=C(b),a[b]&&a[b].isArray&&(a[b]=null,delete a[b])},a.getattributes=function(){var d,b=[],c=["index",_[375]];for(d in a)_[11]!=typeof a[d]&&-1==c.indexOf(d)&&"_"!=d.charAt(0)&&b.push(d);return b}},nb=function(a,b){var c=[],d={};this.isArray=!0,this.isDynArray=1==b,this.__defineGetter__("count",function(){return c.length}),this.__defineSetter__("count",function(a){0==a?(c=[],d={}):c.length=a}),this.createItem=function(b,e){var f=-1,g=null,f=String(b).charCodeAt(0);if(f>=48&&57>=f){if(e)return null;f=parseInt(b,10),g=c[f],(null==g||void 0==g)&&(g=null!=a?new a:{},g.name="n"+f,g.index=f,c[f]=g,d[g.name]=g)}else b=C(b),g=d[b],(null==g||void 0==g)&&(g=e?e:null!=a?new a:{},f=c.push(g)-1,g.index=f,g.name=b,c[f]=g,d[b]=g);return g},this.getItem=function(a){var b=-1,b=String(a).charCodeAt(0);return b>=48&&57>=b?(b=parseInt(a,10),a=c[b]):a=d[C(a)],a},this.getArray=function(){return c},this.renameItem=function(a,b){var e=-1,e=String(a).charCodeAt(0);e>=48&&57>=e?(e=parseInt(a,10),e=c[e]):e=d[C(a)],e&&(delete d[e.name],b=C(b),e.name=b,d[b]=e)},this.removearrayitem=this.removeItem=function(a){var e,b=-1;if(b=null,a=String(a),b=String(a).charCodeAt(0),b>=48&&57>=b?(b=parseInt(a,10),b=c[b]):b=d[C(a)],b)for(d[b.name]=null,delete d[b.name],c.splice(b.index,1),e=c.length,a=b.index;e>a;a++)c[a].index--;return b}},qa={},Ff=function(a){for(var d,e,f,g,h,b=eh,c=[],i=a.length,j=0,k=0;i>j;)d=b.indexOf(a.charAt(j++)),e=b.indexOf(a.charAt(j++)),g=b.indexOf(a.charAt(j++)),h=b.indexOf(a.charAt(j++)),d=d<<2|e>>4,e=(15&e)<<4|g>>2,f=(3&g)<<6|h,c[k++]=d,64!=g&&(c[k++]=e),64!=h&&(c[k++]=f);return c},Hf=function(a,b){var c,d,e,g,f=[];if(f.length=256,80==b||82==b){for(d=15,g=_[86],82==b&&Me&&(d=127,g=Me),c=7&a[65],e=0;128>e;e++)f[2*e]=a[e],f[2*e+1]=String(g).charCodeAt(e&d);d=a.length-128-c,c+=128}else if(71==b){for(c=a[4],d=15&(a[c]^c)|(63&(a[2+c]^c)>>2)<<4|(63&(a[1+c]^c)>>1)<<10|(63&(a[3+c]^c))<<16,e=0;256>e;e++)f[e]=a[e]^a[256+d+c+2*e];c=256}return Gf.srand(f,256),Gf.flip(a,c,d)},If=function(a,b,c){var d,e,f;if(null==a)return null;for(1==b&&s.basedir&&0>a.indexOf("://")&&0!=a.indexOf("/")&&(a=s.basedir+a),a=a.split("\\").join("/"),null==ea.firstxmlpath&&(ea.firstxmlpath=""),null==ea.currentxmlpath&&(ea.currentxmlpath=""),null==ea.swfpath&&(ea.swfpath=""),null==ea.htmlpath&&(ea.htmlpath=""),b=a.indexOf("%");b>=0;)if(d=a.indexOf("%",b+1),d>b){if(e=a.slice(b+1,d),f=null,36==e.charCodeAt(0)){if(e=N(e.slice(1)),null!=e){e=""+e,a=47==e.charCodeAt(0)||0<e.indexOf("://")?e+a.slice(d+1):a.slice(0,b)+e+a.slice(d+1),b=a.indexOf("%");continue}}else switch(e){case _[370]:f=1==c?"":ea.firstxmlpath;break;case _[302]:f=ea.currentxmlpath;break;case _[411]:f=1==c?"":ea.swfpath;break;case _[367]:f=1==c?"":ea.htmlpath;break;case _[414]:f=1==c?"":s.basedir}null!=f?(d++,"/"==a.charAt(d)&&d++,a=f+a.slice(d),b=a.indexOf("%")):b=a.indexOf("%",b+1)}else b=-1;return a},Jf=function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;if(0<=(d=b.indexOf(_[281]))&&(e=b.indexOf(_[271]))>d&&(b=b.slice(d+11,e),d=b.indexOf(_[344]),d>=0&&(b=b.slice(d+9,-3))),e=null,f=b.slice(0,8),d=b.slice(8),c=!0===c&&64&ka||!c&&32&ka,"KENC"!=f.slice(0,4))return c?(a&&Aa(a+_[27]),null):b;if(g=!1,h=b=0,h=0,i=!1,b=String(f).charCodeAt(4),(80==b||82==b||71==b)&&(h=String(f).charCodeAt(5),85==h&&(h=String(f).charCodeAt(6),i=90==h,66==h||i)&&(g=!0)),!g)return a&&na(3,a+_[150]),null;if(c&&80==b)return a&&Aa(a+_[27]),null;if(a=null,i){a=b,e=String.fromCharCode,f=1,c=d.length,j=b=null,k=h=g=i=0,l=0,m=0,n=0;try{e.apply(null,new Uint8Array(4).subarray(2))}catch(o){f=0}for(e=f?Uint8Array:Array,b=new e(4*c/5);c>i;)h=d.charCodeAt(i++)-35,k=d.charCodeAt(i++)-35,l=d.charCodeAt(i++)-35,m=d.charCodeAt(i++)-35,n=d.charCodeAt(i++)-35,h>56&&h--,k>56&&k--,l>56&&l--,m>56&&m--,n>56&&n--,n+=85*(85*(85*(85*h+k)+l)+m),b[g++]=255&n>>24,b[g++]=255&n>>16,b[g++]=255&n>>8,b[g++]=255&n;for(b=Hf(b,a),j=new e(b[2]<<16|b[1]<<8|b[0]),c=8+(b[6]<<16|b[5]<<8|b[4]),i=8,g=0;c>i;){for(h=b[i++],k=h>>4,l=k+240;255===l;k+=l=b[i++]);for(m=i+k;m>i;)j[g++]=b[i++];if(i===c)break;for(n=g-(b[i++]|b[i++]<<8),k=15&h,l=k+240;255===l;k+=l=b[i++]);for(m=g+k+4;m>g;)j[g++]=j[n++]
}b.length=0,e=d=Oe(j)}else a=Ff(d),a=Hf(a,b),null!=a&&(e=Oe(a));return e},Oe=function(a){for(var b="",c=0,d=0,e=0,f=0,g=a.length;g>c;)d=a[c],128>d?(b+=Id(d),c++):d>191&&224>d?(e=a[c+1],b+=Id((31&d)<<6|63&e),c+=2):(e=a[c+1],f=a[c+2],d=(15&d)<<12|(63&e)<<6|63&f,65279!=d&&(b+=Id(d)),c+=3);return b},Pe=function(a,b,c){void 0!==b?b(a,c):Aa(a+_[77]+c+")")},ea=qa,eh=_[139],ea.firstxmlpath=null,ea.currentxmlpath=null,ea.swfpath=null,ea.htmlpath=null,ea.parsePath=If,ea.DMcheck=function(a){var b,c,d;if(256&ka&&(b=Q.domain)&&Jd){if(a=a.toLowerCase(),c=a.indexOf("://"),!(c>0))return b==Jd;if(c+=3,d=a.indexOf("/",c),d>0)return a=a.slice(c,d),c=a.indexOf(":"),c>1&&(a=a.slice(0,c)),a==b}return!0},Gf=new function(){var a,b,c;this.srand=function(d,e){var f,g,h,i,j=[];for(j.length=256,f=0;256>f;f++)j[f]=f;for(g=f=0;256>f;f++)g=255&g+j[f]+d[f%e],i=j[f],j[f]=j[g],j[g]=i;for(h=g=f=0;256>h;h++)f=255&f+1,g=255&g+j[f],i=j[f],j[f]=j[g],j[g]=i;a=j,b=f,c=g},this.flip=function(d,e,f){var h,i,j,k,l,g=[];for(g.length=f,j=a,k=b,l=c,h=0;f>h;h++,e++)k=255&k+1,l=255&l+j[k],g[h]=d[e]^a[255&j[k]+j[l]],i=j[k],j[k]=j[l],j[l]=i;return b=k,c=l,g}},ea.loadimage=function(a,b,c){var d=ja(1);return d.addEventListener("load",function(){b&&b(d)}),d.addEventListener(_[42],function(){c&&c(null,!1)},!1),d.addEventListener("abort",function(){c&&c(null,!0)},!1),d.src=a,d},ea.loadfile=function(a,b,c){ea.loadfile2(a,null,b,c)},ea.loadxml=function(a,b,c){ea.loadfile2(a,_[34],b,c,!0)},ea.loadfile2=function(a,b,c,d,e){var g,h,i,j,k,l,m;if(e=!0===e,g={errmsg:!0},g.rqurl=a,a=If(a),h=g.url=a,i=e,j=function(a,f,h){!0===e?c(f,h):(f=Jf(a,f,_[88]==b),g.data=f,null!=f?c&&c(g):d&&d(g))},k=e?d:function(b,c){d&&d(g),g.errmsg&&na(3,a+_[77]+c+")")},0==ea.DMcheck(h))Pe(h,k,_[200]);else{if(l=null,m=!1,f.ie&&""==Q.domain)try{l=new ActiveXObject(_[186]),m=!0}catch(n){l=null}null==l&&(l=new XMLHttpRequest),void 0!==l.overrideMimeType&&b&&l.overrideMimeType(b),l.onreadystatechange=function(){var a,b,c;4==l.readyState&&(a=l.status,b=l.responseText,0==a&&b||200==a||304==a?i?(c=null,c=m?(new DOMParser).parseFromString(b,_[34]):l.responseXML,j(h,c,a)):j(h,b):Pe(h,k,l.status))};try{l.open("GET",h,!0),l.send(null)}catch(o){Pe(h,k,o)}}},ea.resolvecontentencryption=Jf,ea.b64u8=function(a){return Oe(Ff(a))},ea.decodeLicense=function(){return null},Z={},Kf=function(a){var b,c,e,d=a.childNodes;for(c=d.length,b=0;c>b;b++)if(e=d.item(b))switch(e.nodeType){case 1:Kf(e);break;case 8:a.removeChild(e),b--,c--}},Lf=function(a,b){var c,d,e=a.childNodes,f=-1;if(d=e.length,d>=1)for(c=0;d>c;c++)if(C(e[c].nodeName)==b){f=c;break}return f>=0?e[f]:null},Mf=function(a,b,c){var d,e,g,h,i,j,l,k,m,n,o,p;for(k=0,m=a.length,n=new XMLSerializer,o=0;m>o;o++)if((d=a[o])&&d.nodeName&&"#text"!=d.nodeName&&(e=d.nodeName,e=C(e),e=null==b&&_[36]==e?null:b?b+"."+e:e,g=d.attributes,!(g&&g.devices&&0==f.checkSupport(g.devices[tb])))){if(l=(h=g&&g.name?g.name[tb]:null)?!0:!1,c){if(_[400]==e&&16&c)continue;if((_[25]==e||"layer"==e)&&4&c)continue;if(_[1]==e&&128&c)continue;if(_[69]==e&&65536&c)continue;if(64&c&&h)if(_[25]==e||"layer"==e){if(p=La.getItem(h),p&&p._pCD&&p.keep)continue}else if(_[1]==e&&(p=Ha.getItem(h))&&p._pCD&&p.keep)continue}if(e)if(l){if(_[12]==e||"data"==e||"scene"==e){if(Kf(d),l=null,(_[12]==e||"data"==e)&&d.childNodes&&1<=d.childNodes.length)for(p=0;p<d.childNodes.length;p++)if(4==d.childNodes[p].nodeType){l=d.childNodes[p].nodeValue;break}if(null==l&&(l=n.serializeToString(d),l=l.slice(l.indexOf(">")+1,l.lastIndexOf("</")),_[12]==e&&(l=l.split(_[456]).join('"').split(_[461]).join("'").split(_[128]).join(String.fromCharCode(160)).split("&amp;").join("&"))),S(e+"["+h+_[32],l),g)for(p=g.length,l=0;p>l;l++)if(i=g[l],j=C(i.nodeName),i=i[tb],"name"!=j){if(k=j.indexOf("."),k>0){if(!f.checkSupport(j.slice(k+1)))continue;j=j.slice(0,k)}j=e+"["+h+"]."+C(j),S(j,i)}continue}if(e=e+"["+h+"]",!wc(h,e))continue;S(e+".name",h)}else(h=N(e))&&h.isArray&&!h.isDynArray&&(h="n"+String(h.count),e=e+"["+h+"]",S(e+".name",h));if(g)for(p=g.length,l=0;p>l;l++)if(i=g[l],j=C(i.nodeName),i=i[tb],h=e?e+".":"","name"!=j){if(k=j.indexOf("."),k>0){if(!f.checkSupport(j.slice(k+1)))continue;j=j.slice(0,k)}j=h+C(j),S(j,i)}d.childNodes&&0<d.childNodes.length&&Mf(d.childNodes,e,c)}},Nf=function(a,b){var d,f,g,i,h,j,k,l,m,c=null,e=a.length;for(d=0;e>d;d++)if(c=a[d],!(c&&c.nodeName&&_[12]==C(c.nodeName))){if(f=c.attributes)for(h=f.length,g=0;h>g;g++)if(j=f[g],i=C(j.nodeName),k=i.indexOf("."),k>0&&(i=i.slice(0,k)),_[377]==i){for(i=j[tb],k=i.split("|"),m=k.length,l=0;m>l;l++)i=k[l],""!=i&&0>i.indexOf("://")&&47!=i.charCodeAt(0)&&(k[l]=b+i);j[tb]=k.join("|")}else k=i.indexOf("url"),(0==k||k>0&&k==i.length-3)&&(i=j[tb],0<i.indexOf("://")||47==i.charCodeAt(0)||""!=i&&(i=b+i),j[tb]=i);c.childNodes&&0<c.childNodes.length&&Nf(c.childNodes,b)}},Of=function(a,b){var c=fc(b),d=c.lastIndexOf("/"),e=c.lastIndexOf("\\");e>d&&(d=e),d>0&&(c=c.slice(0,d+1),Nf(a,c))},Pf=function(a,b){var e,f,d,c=Lf(a,_[336]);if(c){for(d="",f=c.childNodes.length,e=0;f>e;e++)d+=c.childNodes[e].nodeValue;return(c=qa.resolvecontentencryption(b,d))?(c=(new DOMParser).parseFromString(c,_[34]))&&c.documentElement&&_[31]==c.documentElement.nodeName?(na(3,b+_[20]),null):c:(Aa(b+_[27]),null)}return 32&ka?(Aa(b+_[27]),null):a},Qf=function(a,b){var c,d,e,g,h,i,j,k,l,m,n;if(null!=Z.xmlIncludeNode){if(e=fc(a.url),(d=a.responseXML)&&d.documentElement&&_[31]==d.documentElement.nodeName)return Aa(e+_[20]),void 0;if(d=Pf(d,a.url),null==d)return;if(Of(d.childNodes,e),c=d.childNodes,g=Z.xmlIncludeNode.parentNode,null!=g.parentNode){if(h=0,e=c.length,e>1)for(d=0;e>d;d++)if(_[36]==C(c[d].nodeName)){h=d;break}d=null,void 0===Z.xmlDoc.importNode?(i=function(a,b){var c,d,e;switch(a.nodeType){case 1:if(e=Z.xmlDoc.createElement(a.nodeName),a.attributes&&0<a.attributes.length)for(c=0,d=a.attributes.length;d>c;)e.setAttribute(a.attributes[c].nodeName,a.getAttribute(a.attributes[c++].nodeName));if(b&&a.childNodes&&0<a.childNodes.length)for(c=0,d=a.childNodes.length;d>c;)e.appendChild(i(a.childNodes[c++],b));return e;case 3:case 4:case 8:return Z.xmlDoc.createTextNode(a.nodeValue)}},d=i(c[h],!0)):d=Z.xmlDoc.importNode(c[h],!0),g.insertBefore(d,Z.xmlIncludeNode),g.removeChild(Z.xmlIncludeNode)}else Z.xmlDoc=d;Z.xmlAllNodes=[],Z.addNodes(Z.xmlDoc.childNodes),Z.xmlIncludeNode=null}for(g=!1,e=Z.xmlAllNodes.length,d=0;e>d;d++)if(c=Z.xmlAllNodes[d],h=null,null!=c.nodeName){if(h=C(c.nodeName),_[389]==h){for(h=c.attributes,k=h.length,l=!1,j=0;k>j;j++)m=h[j],_[423]==m.nodeName&&0==f.checkSupport(m[tb])&&(l=!0);if(0==l)for(j=0;k>j;j++)m=h[j],"url"==C(m.nodeName)&&(g=!0,l=m[tb],Z.xmlIncludeNode=c,n=qa.parsePath(l),qa.loadxml(n,function(a,c){a?Qf({url:n,responseXML:a},b):200==c?Aa(n+_[20]):Aa(n+_[72])}))}if(g)break}0==g&&b()},tb="value",Z.resolvexmlencryption=Pf,Z.resolvexmlincludes=function(a,b){var c=a.childNodes;Z.xmlDoc=a,Z.xmlAllNodes=[],Z.addNodes(c),Of(c,s.xml.url),Z.xmlIncludeNode=null,Qf(null,b)},Z.parsexml=Mf,Z.xmlDoc=null,Z.xmlAllNodes=null,Z.xmlIncludeNode=null,Z.addNodes=function(a){var b,c,d;for(d=a.length,c=0;d>c;c++)(b=a[c])&&b.nodeName&&_[12]!=C(b.nodeName)&&(Z.xmlAllNodes.push(b),b.childNodes&&0<b.childNodes.length&&Z.addNodes(b.childNodes))},Z.findxmlnode=Lf,ha={linear:function(a,b,c){return c*a+b},easeinquad:function(a,b,c){return c*a*a+b},easeoutquad:function(a,b,c){return-c*a*(a-2)+b}},ha[_[7]]=ha.easeoutquad,ha.easeinoutquad=function(a,b,c){return(1>(a/=.5)?c/2*a*a:-c/2*(--a*(a-2)-1))+b},ha.easeinback=function(a,b,c){return c*a*a*(2.70158*a-1.70158)+b},ha.easeoutback=function(a,b,c){return c*((a-=1)*a*(2.70158*a+1.70158)+1)+b},ha.easeinoutback=function(a,b,c){var d=1.70158;return 1>(a*=2)?c/2*a*a*(((d*=1.525)+1)*a-d)+b:c/2*((a-=2)*a*(((d*=1.525)+1)*a+d)+2)+b},ha.easeincubic=function(a,b,c){return c*a*a*a+b},ha.easeoutcubic=function(a,b,c){return c*((a-=1)*a*a+1)+b},ha.easeinquart=function(a,b,c){return c*a*a*a*a+b},ha.easeoutquart=function(a,b,c){return-c*((a=a/1-1)*a*a*a-1)+b},ha.easeinquint=function(a,b,c){return c*a*a*a*a*a+b},ha.easeoutquint=function(a,b,c){return c*((a=a/1-1)*a*a*a*a+1)+b},ha.easeinsine=function(a,b,c){return-c*Math.cos(a*(Va/2))+c+b},ha.easeoutsine=function(a,b,c){return c*Math.sin(a*(Va/2))+b},ha.easeinexpo=function(a,b,c){return 0==a?b:c*Math.pow(2,10*(a-1))+b-.001*c},ha.easeoutexpo=function(a,b,c){return 1==a?b+c:1.001*c*(-Math.pow(2,-10*a)+1)+b},ha.easeincirc=function(a,b,c){return-c*(Math.sqrt(1-a*a)-1)+b},ha.easeoutcirc=function(a,b,c){return c*Math.sqrt(1-(a=a/1-1)*a)+b},ha.easeoutbounce=function(a,b,c){return 1/2.75>a?7.5625*c*a*a+b:2/2.75>a?c*(7.5625*(a-=1.5/2.75)*a+.75)+b:2.5/2.75>a?c*(7.5625*(a-=2.25/2.75)*a+.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+.984375)+b},ha.easeinbounce=function(a,b,c){return c-ha.easeoutbounce(1-a,0,c)+b},ha.getTweenfu=function(a){return a=C(a),""==a||"null"==a?a=_[48]:void 0===ha[a]&&(a=_[48]),ha[a]},$={},function(){function a(a,b,c){var d,f,e=a.length;for(c=1!=c,d=0;e>d;d++)f=String(a[d]),c&&"null"==(""+f).toLowerCase()?a[d]=null:")"==f.charAt(f.length-1)&&"get("==f.slice(0,4).toLowerCase()&&(f=String(N(ca(f.slice(4,f.length-1)),b)),a[d]=f)}function b(a,b){var c,d,e,f=0,g=0,h=0;for(e="",c=0,d=a.length;d>c;)e=a.charCodeAt(c),32>=e||(34==e?0==h?h=1:1==h&&(h=0):39==e?0==h?h=2:2==h&&(h=0):0==h&&(91==e?(0==g&&(g=c+1),f++):93==e&&f>0&&(f--,0==f)&&((e=Xb(a,g,c,b))&&(a=a.slice(0,g)+e+a.slice(c),c=g+e.length+1,d=a.length),g=0))),c++;return a}function c(a,b){var d,e,f,g,h,c="";for(f=a.length,h=b.length,e=0;f>e;e++)d=a.charAt(e),"%"==d?(e++,d=a.charCodeAt(e)-48,d>=0&&9>=d?(f>e+1&&(g=a.charCodeAt(e+1)-48,g>=0&&9>=g&&(e++,d=10*d+g)),c=h>d?c+String(b[d]):c+"null"):c=-11==d?c+"%":c+("%"+a.charAt(e))):c+=d;return c}function d(a,b,d,e){d=Array.prototype.slice.call(d),d.splice(0,0,a),b=c(b,d),k.callaction(b,e,!0)}function e(a){var d,b=v,c=b.length;for(d=0;c>d;d++)if(b[d].id==a){b.splice(d,1);break}}function f(a){var c,d,b=a.length;return 2==b||3==b?(c=N(a[b-2],k.actioncaller),d=N(a[b-1],k.actioncaller),null==c&&(c=a[b-2]),null==d&&(d=a[b-1]),[a[0],parseFloat(c),parseFloat(d)]):null}function g(a,b,c){var d=1==b.length?N(b[0],c):b[1],d=0==a?escape(d):unescape(d);S(b[0],d,!1,c,!0)}function t(a,b){var c=null,c=C(a),d=c.charCodeAt(0),e=!1;return 33==d&&(e=!0,a=a.slice(1),c=c.slice(1),d=c.charCodeAt(0)),40==d&&41==c.charCodeAt(c.length-1)?c=k.resolvecondition(null,a.slice(1,-1)):(c="null"!=c?N(a,b,!0):null,void 0===c?(d=Number(a),isNaN(d)||(c=d)):_[64]==typeof c&&(d=C(c),"true"==d?c=!0:_[18]==d?c=!1:"null"==d?c=null:(d=Number(c),isNaN(d)||(c=d)))),e&&(c=!c),c}function l(a){var b=a.position;1==a.motionmode?(b*=a.Tmax,b<=a.T1?b*=a.accelspeed/2*b:b>a.T1&&b<=a.T1+a.T2?b=a.S1+(b-a.T1)*a.Vmax:(b-=a.T1+a.T2,b=a.Vmax*b+a.breakspeed/2*b*b+a.S1+a.S2),b=0!=a.Smax?b/a.Smax:1):2==a.motionmode&&(b=a.tweenfu(b,0,1)),p.hlookat=a.startH+b*(a.destH-a.startH),p.vlookat=a.startV+b*(a.destV-a.startV),p.fov=a.startF+b*(a.destF-a.startF)}function r(a,b){var c=N(a,b);return null==c&&(c=a),c}function n(a){var b=a.waitfor;"load"==b?Sa.isLoading()&&(a.position=0):_[68]==b&&Sa.isBlending()&&(a.position=0)}function q(a){var g,b=a.varname,c=parseFloat(a.startval),d=parseFloat(a.endval),e=null!=a.startval?0<String(a.startval).indexOf("%"):!1,f=null!=a.endval?0<String(a.endval).indexOf("%"):!1;f?e||(c=0):e&&0==d&&(f=!0),e=0,e=a.position,g=a.tweenmap,0<=b.indexOf(_[44],b.lastIndexOf(".")+1)?(c=parseInt(a.startval),d=parseInt(a.endval),e>=1?e=d:(e=g(e,0,1),e=Math.min(Math.max((c>>24)+e*((d>>24)-(c>>24)),0),255)<<24|Math.min(Math.max((255&c>>16)+e*((255&d>>16)-(255&c>>16)),0),255)<<16|Math.min(Math.max((255&c>>8)+e*((255&d>>8)-(255&c>>8)),0),255)<<8|Math.min(Math.max((255&c)+e*((255&d)-(255&c)),0),255))):e=e>=1?d:g(e,c,d-c),S(b,f?e+"%":e,!0,a.actioncaller),null!=a.updatefu&&k.callaction(a.updatefu,a.actioncaller)}var v,m,u,h,z,sa,k=$;k.busy=!1,k.blocked=!1,k.queue=[],k.actioncaller=null,v=[],m=[],u=null,h=0,z=function(){this.id=null,this.blocking=!1,this.position=this.maxruntime=this.starttime=0,this.updatefu=this.actioncaller=this.donecall=this.process=null},k.isblocked=function(){if(k.blocked){var a=u;if(!a)return!0;u=null,k.stopall(),"break"!=C(a)&&k.callaction(a),k.processactions()}return!1},k.actions_autorun=function(a,b){var e,f,c=s.action.getArray(),d=[],g=null;for(f=c.length,e=0;f>e;e++)(g=c[e])&&g.autorun==a&&!g._arDone&&(g._arDone=!0,d.push(g));if(f=d.length,f>0){for(c="",e=0;f>e;e++)g=d[e],c+=_[401]+g.name+");";k.callaction(c,null,b),k.processactions()}},k.callwith=function(a,b){var d,c=N(a,k.actioncaller);c&&(d=c._type,(_[25]==d||_[1]==d)&&k.callaction(b,c))},k.callaction=function(a,b,c){var d,e,f,g;if(a&&"null"!=a&&""!=a)if(d=typeof a,_[11]===d)a();else if(_[124]!==d&&(a=ic(a,b))){for(d=a.length,e=0<k.queue.length,f=!1,b=0;d>b;b++)g=a[b],_[283]==g.cmd&&(f=!0),g.breakable=f,1==c?k.queue.splice(b,0,g):k.queue.push(g);0==e&&k.processactions()}},sa=!1,k.processactions=function(){var b,d,e,f,g,h,i;if(!sa){for(sa=!0,b=null,d=null,e=null,f=null,g=0,h=k.queue;null!=h&&0<h.length;){if(k.busy||k.blocked)return sa=!1,void 0;if(g++,g>1e5){na(2,_[86]),h.length=0;break}b=h.shift(),d=String(b.cmd),e=b.args,b=b.caller,k.actioncaller=b,"eimfunction"===d?new Function(d+"('"+e[1]+"');")():b&&b._busyonloaded&&b._destroyed||"//"==d.slice(0,2)||("call"==d&&(d=C(e.shift())),a(e,b,"set"==d),void 0!==k[d]?k[d].apply(k[d],e):b&&void 0!==b[d]?(f=b[d],_[11]===typeof f?f.apply(f,e):k.callaction(b[d],b,!0)):((_[12]==d||"call"==d)&&(d=C(e.shift())),f=null,null!=(f=N(d))?(i=typeof f,_[11]===i?f.apply(f,e):_[124]===i?na(2,_[85]+Mb(d)):(e.splice(0,0,d),f=c(f,e),k.callaction(f,b,!0))):(f=N(_[415]+d+_[32]))?(e.splice(0,0,d),f=c(f,e),k.callaction(f,b,!0)):na(2,_[85]+Mb(d))))}k.blocked||(u=null),k.actioncaller=null,sa=!1}},k.processAnimations=function(a){var e,g,h,b=!1,c=v,d=c.length,f=Ea();for(a=1==a,e=0;d>e;e++)g=c[e],g&&(h=0<g.maxruntime?(f-g.starttime)/1e3/g.maxruntime:1,isNaN(h)&&(h=1),h>1&&(h=1),g.position=h,null!=g.process&&(b=!0,g.process(g),h=g.position),(h>=1||a)&&(c.splice(e,1),d--,e--,g.blocking?(k.blocked=!1,k.processactions()):g.donecall&&0==a&&k.callaction(g.donecall,g.actioncaller)));return k.blocked&&(b=!1),b},k.fromcharcode=function(){var a=arguments;2==a.length&&S(a[0],String.fromCharCode(r(a[1],k.actioncaller)),!1,k.actioncaller)},k.stopmovements=function(){va.stopFrictions(4)},k.stopall=function(){var a,d,c=k.queue,b=c.length;for(a=0;b>a;a++)d=c[a],d&&d.breakable&&(d.cmd="//");v=[],k.blocked=!1},k.breakall=function(){k.processAnimations(!0)},k.oninterrupt=function(a){u=a},k.delayedcall=function(){var a=arguments,b=a.length,c=0;3==b&&(c++,b--),2==b&&(b=new z,b.maxruntime=Number(a[c]),b.donecall=a[c+1],b.starttime=Ea(),b.actioncaller=k.actioncaller,b.id=c>0?"ID"+C(a[0]):"DC"+ ++h,e(b.id),v.push(b))},k.stopdelayedcall=function(a){e("ID"+C(a))},k.set=function(){var a=arguments;2==a.length&&S(a[0],a[1],!1,k.actioncaller)},k.copy=function(){var b,a=arguments;2==a.length&&(b=N(a[1],k.actioncaller),S(a[0],void 0===b?null:b,!1,k.actioncaller))},k.push=function(){var a=arguments;1==a.length&&m.push(N(a[0],k.actioncaller))},k.pop=function(){var a=arguments;1==a.length&&S(a[0],m.pop(),!1,k.actioncaller)},k[_[434]]=function(){var e,f,g,a=arguments,b=a.length,c=a[0],d=C(N(c,k.actioncaller));if(1==b)S(c,!za(d),!0,k.actioncaller);else if(b>=3)for(b--,e=1;b>=e;e++)if(f=C(a[e]),g=!1,isNaN(Number(d))||isNaN(Number(f))?d==f&&(g=!0):Number(d)==Number(f)&&(g=!0),g){e++,e>b&&(e=1),S(c,a[e],!0,k.actioncaller);break}},k.roundval=function(){var b,c,a=arguments;1<=a.length&&(b=Number(N(a[0],k.actioncaller)),c=2==a.length?parseInt(a[1]):0,b=0==c?Math.round(b).toString():b.toFixed(c),S(a[0],b,!1,k.actioncaller,!0))},k.tohex=function(){var c,a=arguments,b=a.length;b>0&&(c=parseInt(N(a[0],k.actioncaller)).toString(16).toUpperCase(),b>2&&(c=(_[353]+c).slice(-parseInt(a[2]))),b>1&&(c=a[1]+c),S(a[0],c,!1,k.actioncaller,!0))},k.tolower=function(){var a=arguments;1==a.length&&S(a[0],C(N(a[0],k.actioncaller)),!1,k.actioncaller,!0)},k.toupper=function(){var a=arguments;1==a.length&&S(a[0],(""+N(a[0],k.actioncaller)).toUpperCase(),!1,k.actioncaller,!0)},k.inc=function(){var c,a=arguments,b=a.length;b>=1&&(c=Number(N(a[0],k.actioncaller))+(b>1?Number(a[1]):1),b>3&&c>Number(a[2])&&(c=Number(a[3])),S(a[0],c,!0,k.actioncaller))},k.dec=function(){var c,a=arguments,b=a.length;b>=1&&(c=Number(N(a[0],k.actioncaller))-(b>1?Number(a[1]):1),b>3&&c<Number(a[2])&&(c=Number(a[3])),S(a[0],c,!0,k.actioncaller))},k.add=function(){var a=f(arguments);a&&S(a[0],a[1]+a[2],!1,k.actioncaller)},k.sub=function(){var a=f(arguments);a&&S(a[0],a[1]-a[2],!1,k.actioncaller)},k.mul=function(){var a=f(arguments);a&&S(a[0],a[1]*a[2],!1,k.actioncaller)},k.div=function(){var a=f(arguments);a&&S(a[0],a[1]/a[2],!1,k.actioncaller)},k.mod=function(){var b,c,a=f(arguments);a&&(b=a[1],c=0|b,b+=-c+c%(0|a[2]),S(a[0],b,!1,k.actioncaller))},k.pow=function(){var a=f(arguments);a&&S(a[0],Math.pow(a[1],a[2]),!1,k.actioncaller)},k.clamp=function(){var b,c,d,e,a=arguments;3==a.length&&(b=k.actioncaller,c=Number(N(a[0],b)),d=Number(a[1]),e=Number(a[2]),d>c&&(c=d),c>e&&(c=e),S(a[0],c,!1,b))},k.remapfovtype=function(){var c,d,e,a=arguments,b=a.length;(3==b||5==b)&&(c=k.actioncaller,d=Number(N(a[0],c)),e=3==b?s.area.pixelwidth:Number(N(a[3],c)),b=3==b?s.area.pixelheight:Number(N(a[4],c)),d=p.fovRemap(d,a[1],a[2],e,b),S(a[0],d,!1,c))},k.screentosphere=function(){var b,c,a=arguments;4==a.length&&(b=k.actioncaller,c=p.screentosphere(Number(N(a[0],b)),Number(N(a[1],b))),S(a[2],c.x,!1,b),S(a[3],c.y,!1,b))},k.spheretoscreen=function(){var b,c,a=arguments;4==a.length&&(b=k.actioncaller,c=p.spheretoscreen(Number(N(a[0],b)),Number(N(a[1],b))),S(a[2],c.x,!1,b),S(a[3],c.y,!1,b))},k.screentolayer=function(){var b,c,d,e,f,g,h,i,j,a=arguments;5==a.length&&(b=k.actioncaller,c=La.getItem(a[0]),c&&(d=Number(N(a[1],b)),e=Number(N(a[2],b)),f=kd,g=kd,h=c.sprite,h&&(i=P,g=G.viewerlayer.getBoundingClientRect(),j=h.getBoundingClientRect(),f=d*i-(j.left-g.left+h.clientLeft+h.scrollLeft),g=e*i-(j.top-g.top+h.clientTop+h.scrollTop),c.scalechildren&&(i=1),f/=c._finalxscale*i,g/=c._finalyscale*i),S(a[3],f,!1,b),S(a[4],g,!1,b)))},k.layertoscreen=function(){var b,c,d,e,f,g,h,i,j,l,a=arguments;5==a.length&&(b=k.actioncaller,c=La.getItem(a[0]),c&&(d=Number(N(a[1],b)),e=Number(N(a[2],b)),f=kd,g=kd,h=c.sprite,h&&(g=P,i=c.scalechildren?g:1,j=G.viewerlayer.getBoundingClientRect(),l=h.getBoundingClientRect(),f=d*c._finalxscale/i+(l.left-j.left+h.clientLeft+h.scrollLeft)/g,g=e*c._finalyscale/i+(l.top-j.top+h.clientTop+h.scrollTop)/g),S(a[3],f,!1,b),S(a[4],g,!1,b)))},k.escape=function(){g(0,arguments,k.actioncaller)},k.unescape=function(){g(1,arguments,k.actioncaller)},k.txtadd=function(){var b,a=arguments,c=a.length,d=2==c?String(N(a[0],k.actioncaller)):"";for("null"==d&&(d=""),b=1;c>b;b++)d+=a[b];S(a[0],d,!1,k.actioncaller,!0)},k.subtxt=function(){var c,a=arguments,b=a.length;b>=2&&(c=N(a[1],k.actioncaller),c=null==c?String(a[1]):String(c),c=c.substr(b>2?Number(a[2]):0,b>3?Number(a[3]):void 0),S(a[0],c,!1,k.actioncaller,!0))},k.indexoftxt=function(){var a=arguments,b=a.length;b>=3&&(b=String(a[1]).indexOf(String(a[2]),b>3?Number(a[3]):0),S(a[0],b,!1,k.actioncaller,!0))},k.txtreplace=function(){var c,d,a=arguments,b=a.length;(3==b||4==b)&&(b=3==b?0:1,c=N(a[b],k.actioncaller),c&&(d=a[b+2],c=c.split(a[b+1]).join(d)),S(a[0],c,!1,k.actioncaller,!0))},k.showlog=function(){var a=arguments,a=!(1==a.length&&0==za(a[0]));G.showlog(a)},k.trace=function(){var b,f,g,a=arguments,c=a.length,d="",e=k.actioncaller;for(b=0;c>b;b++)f=a[b],g=N(f,e),d=null!=g?d+g:d+f;na(1,d)},k[_[430]]=function(){var b,e,f,g,h,i,j,l,m,n,a=arguments,c=a.length,d=k.actioncaller;for(b=0;c>b;b++)a:if(e=d,f=void 0,g=void 0,h=void 0,i=Eb(a[b]),g=i.length,1==g&&e&&(h=i[0],e.hasOwnProperty(h)))e[h]=null,delete e[h];else for(j=s,f=0;g>f&&(h=i[f],l=f==g-1,m=null,n=h.indexOf("["),n>0&&(m=Xb(h,n+1,h.length-1,e),h=h.slice(0,n)),void 0!==j[h]);f++){if(null!=m&&(n=j[h],n.isArray)){if(h=n.getItem(m)){if(l)break a;j=h;continue}break}if(l){j[h]=null,delete j[h];break a}j=j[h]}},k.error=function(a){Aa(a)},k.openurl=function(){var a=arguments;B.open(a[0],0<a.length?a[1]:_[429])},k.loadscene=function(){var b,c,d,a=arguments;0<a.length&&(b=a[0],c=N(_[127]+b+_[32]),d=N(_[127]+b+_[349]),d&&(d+=";"),null==c?na(3,'loadscene() - scene "'+b+'" not found'):(s.xml.scene=b,Sa.loadxml(_[356]+c+_[345],a[1],a[2],a[3],d)))},k.js=function(b){var d,c=ic(b,null,!0);if(c){if(c=c[0],a(c.args,k.actioncaller),d=!1,_[11]==typeof B[c.cmd]){d=!0;try{B[c.cmd].apply(B[c.cmd],c.args)}catch(e){d=!1}}if(0==d){c=c.cmd+(0<c.args.length?"('"+c.args.join("','")+"');":"();");try{eval(c)}catch(h){na(2,'js() - calling Javascript "'+b+'" failed: '+h)}}}},k.setfov=function(){var a=arguments;1==a.length&&(p.fov=Number(a[0]))},k.lookat=function(){var a=arguments;2<=a.length&&(p.hlookat=Number(a[0]),p.vlookat=Number(a[1]),2<a.length&&(p.fov=Number(a[2])))},k.adjusthlookat=function(){var a=arguments;1==a.length&&(p.hlookat=gc(p.hlookat,Number(a[0])))},k.loop=function(){d("loop",_[164],arguments,k.actioncaller)},k.asyncloop=function(){d(_[323],_[145],arguments,k.actioncaller)},k["for"]=function(){d("for",_[142],arguments,k.actioncaller)},k.asyncfor=function(){d(_[372],"if(%5!=NEXTLOOP,%1);if(%2,%4;%3;delayedcall(0,asyncfor(%1,%2,%3,%4,NEXTLOOP)););",arguments,k.actioncaller)},k.resolvecondition=function(){var g,h,i,j,l,m,n,o,p,q,r,a=arguments,b=a.length,c=null,d=null,e=!1,f=k.actioncaller;if(2==b||3==b){for(c=C(a[0]),d=2==b?a[1]:a[2],("null"==c||""==c)&&(c=null),(null==d||""==d)&&(d=_[18]),g=e=null,h=null,i=null,j=null,e=d,h=e.length,j=i=0,d=!1,l=0,m=0,n=0,o=!1,p=[],q=0,r=0,g=0;h>g;g++)r=e.charCodeAt(g),32>=r&&0==o?(j>0&&(p[q++]=e.substr(i,j),j=0),d=!1):((61==r||33==r&&61==e.charCodeAt(g+1)||62==r||60==r)&&0==o?0==d&&(j>0?(p[q++]=e.substr(i,j),j=0):0==q&&(p[q++]=""),d=!0,i=g):(91==r?(l++,o=!0):93==r?(l--,0==l&&0==n&&(o=!1)):40==r?(m++,o=!0):41==r?(m--,0==m&&0==n&&(o=!1)):39!=r&&34!=r||0!=n?r==n&&(n=0,0==l&&(o=!1)):(n=r,o=!0),d&&(j>0&&(p[q++]=e.substr(i,j),j=0),d=!1,i=g),0==j&&(i=g)),j++);for(j>0&&(p[q++]=e.substr(i,j)),2==q&&(p[q++]=""),d=p,l=d.length,m=0,n=[],e=ca(d[0]),i=t(e,f);l>0;)1==l?(n.push(i),l=0):2==l?(n.push(i),l=0):(h=d[m+1].toUpperCase(),g=ca(d[m+2]),j=t(g,f),"==="==h||"!=="==h||"OR"==h||"AND"==h||(void 0===i&&(i=e),void 0===j&&(j=g)),"==="==h||"=="==h||"EQ"==h?i=i==j:"!=="==h||"!="==h?i=i!=j:"<="==h||"LE"==h?i=j>=i:">="==h||"GE"==h?i=i>=j:">"==h||"&GT;"==h||"GT"==h?i=i>j:"<"==h||"&LT;"==h||"LT"==h?i=j>i:(n.push(i),n.push(h),3==l&&(n.push(j),m++,l--),i=j),m+=2,l-=2);for(l=n.length,m=0,i=n[0];l>1;)2>=l?l=0:(h=n[m+1],j=n[m+2],"OR"==h?i=i||j:"AND"==h?i=i&&j:(i=!1,na(3,_[178]+h)),m+=2,l-=2);e=i?!0:!1,null!=c&&(3==b&&(a=C(a[1]),b=za(N(c,f)),"and"==a?e=b&&e:"or"==a?e=b||e:"xor"==a&&(e=!(b&&e)&&(b||e))),S(c,e,!1,f))}return e},k["if"]=function(){var a=arguments,b=k.actioncaller;2<=a.length&&(k.resolvecondition(null,a[0])?k.callaction(a[1],b,!0):3==a.length&&k.callaction(a[2],b,!0))},k.ifnot=function(){var a=arguments;k["if"](a[0],a[2],a[1])},k.stoplookto=function(){e(_[63])},k.lookto=function(){var d,f,g,h,i,j,m,n,o,q,r,s,t,b=arguments,c=b.length;if(c>=2&&(d=k.actioncaller,f=new z,k.stopmovements(),e(_[63]),f.id=_[63],f.actioncaller=d,1==za(b[5])?(f.blocking=!1,f.donecall=b[6]):(f.blocking=!0,k.blocked=!0),c>4&&void 0===b[4]&&c--,c>3&&void 0===b[3]&&c--,c>2&&void 0===b[2]&&c--,g=Number(b[0]),h=Number(b[1]),i=c>2?Number(b[2]):p.fov,j=c>3?b[3]:null,m=c>4?za(b[4]):!0,!isNaN(g)&&!isNaN(h)&&!isNaN(i))){if(n=1,b=720,c=-720,o=720,q=p.hlookat,r=q,s=p.vlookat,t=p.fov,m){for(;-90>h||h>90;)-90>h?(h=-180-h,g+=180):h>90&&(h=180-h,g-=180);for(;0>q;)q+=360;for(;q>360;)q-=360;for(;0>g;)g+=360;for(;g>360;)g-=360;for(;-180>s;)s+=360;for(;s>180;)s-=360;q=gc(q,g),s=gc(s,h),m=q-r,q-=m,g-=m}f.startH=q,f.startV=s,f.startF=t,f.destH=g,f.destV=h,f.destF=i,g=Math.sqrt((g-q)*(g-q)+(h-s)*(h-s)+(i-t)*(i-t)),j&&((j=ic(j))&&(j=j[0]),j&&(h=j.cmd,i=j.args,a(i,d),_[462]==h?(n=0,o=360,1==j.args.length&&(o=parseFloat(i[0]))):_[463]==h?(n=1,0<j.args.length&&(b=parseFloat(i[0])),1<j.args.length&&(c=parseFloat(i[1])),2<j.args.length&&(o=parseFloat(i[2])),b=+Math.abs(b),c=-Math.abs(c),o=+Math.abs(o)):"tween"==h&&(n=2,f.tweenfu=ha.getTweenfu(i[0]),f.maxruntime=parseFloat(i[1]),isNaN(f.maxruntime)&&(f.maxruntime=.5)))),f.motionmode=n,0==n?f.maxruntime=g/o:1==n&&(d=g,n=o*o/(2*b),j=o/b,g=-(o*o)/(2*c),h=-o/c,i=d-(n+g),q=i/o,0>q&&(o=Math.sqrt(2*d*b*c/(c-b)),n=o*o/(2*b),j=o/b,g=-(o*o)/(2*c),h=-o/c,q=i=0),s=j+q+h,f.accelspeed=b,f.breakspeed=c,f.Vmax=o,f.Tmax=s,f.Smax=d,f.T1=j,f.T2=q,f.T3=h,f.S1=n,f.S2=i,f.S3=g,f.maxruntime=s),f.starttime=Ea(),f.process=l,v.push(f)}},k.looktohotspot=function(){var d,e,a=arguments,b=k.actioncaller,c=Ha.getItem(1>a.length?b?b.name:"":a[0]);c&&(b=c.ath,d=c.atv,e=30,e=c.getcenter(),b=e.x,d=e.y,e=e.z,c=Number(a[1]),isNaN(c)||(e=c),c=p.fovmin,c>e&&(e=c),k.lookto(b,d,e,a[2],a[3]))},k.moveto=function(){var a=arguments;2<=a.length&&k.lookto(a[0],a[1],p.fov,a[2])},k.zoomto=function(){var a=arguments;1<=a.length&&k.lookto(p.hlookat,p.vlookat,a[0],a[1])},k.getlooktodistance=function(){var c,d,e,f,g,h,a=arguments,b=a.length;b>=3&&(c=k.actioncaller,d=Number(r(a[1],c)),e=Number(r(a[2],c)),f=p.hlookat,g=p.vlookat,5==b&&(f=Number(r(a[3],c)),g=Number(r(a[4],c))),isNaN(d)||isNaN(e)||isNaN(f)||isNaN(g)||(b=Math.PI,h=b/180,d=b-d*h,f=b-f*h,g*=h,e*=h,d=Math.acos(Math.cos(g)*Math.cos(f)*Math.cos(e)*Math.cos(d)+Math.sin(g)*Math.sin(e)+Math.cos(g)*Math.sin(f)*Math.cos(e)*Math.sin(d))/h,S(a[0],d,!1,c)))},k.wait=function(){var b,c,a=arguments;if(1==a.length){if(a=a[0],b=C(a),"load"==b||_[68]==b)a=0;else{if(b="time",a=Number(a),isNaN(a))return;0>=a&&(b=_[68],a=0)}c=new z,c.waitfor=b,c.maxruntime=a,c.process=n,c.starttime=Ea(),c.actioncaller=k.actioncaller,c.id="WAIT"+ ++h,c.blocking=!0,k.blocked=!0,v.push(c)}},k.tween=function(){var d,f,g,h,i,j,l,m,a=arguments,c=a.length;if(c>=2)if(d=k.actioncaller,f=new z,g=C(a[0]),0<g.indexOf("|")){for(c=a[0].split("|"),d=a[1].split("|"),f=a[3]?a[3].split("|"):[a[3]],h=c.length,i=d.length,j=f.length,l=parseFloat(a[2]),(0>l||isNaN(l))&&(l=.5),g=0;i>g;g++)d[g]=ca(d[g]);for(g=0;j>g;g++)f[g]=ca(f[g]);for(g=0;h>g;g++)k.tween(ca(c[g]),d[g%i],l,f[g%j],g==h-1?a[4]:null,g==h-1?a[5]:null)}else h=g,j=a[1],i=!1,d&&0>g.indexOf(".")&&d.hasOwnProperty(g)&&(h=d._type+"["+d.name+"]."+g,i=!0),0==i&&0<g.indexOf("[")&&(h=g=b(g,d),h=h.split(_[132]).join(_[120])),f.id=h,f.varname=g,f.actioncaller=d,f.startval=i?d[g]:N(g,d),(null==f.startval||""==f.startval)&&(f.startval=0),f.endval=j,g=c>2?String(a[2]):"0.5",0<g.indexOf("(")&&(l=ic(g))&&(m=l[0],_[368]==m.cmd&&(l=Number(m.args[0]),g=Number(m.args[1]),j=Math.abs(parseFloat(j)-parseFloat(f.startval)),g=g*j/l)),g=parseFloat(g),isNaN(g)&&(g=.5),f.maxruntime=g,f.tweenmap=ha.getTweenfu(c>3?a[3]:_[48]),c>4&&("wait"==C(a[4])?(f.blocking=!0,k.blocked=!0):(j=a[4])&&(0==i&&0<j.indexOf("[")&&(j=b(j,d)),f.donecall=j)),c>5&&(f.updatefu=a[5]),f.starttime=Ea(),f.process=q,e(h),v.push(f)},k.stoptween=function(){var f,g,a=k.actioncaller,c=arguments,d=c.length;for(f=0;d>f;f++)if(g=C(c[f]),0<g.indexOf("|"))k.stoptween.apply(k.stoptween,g.split("|"));else{if(a&&0>g.indexOf(".")){if(e(a._type+"["+a.name+"]."+g))continue}else 0<g.indexOf("[")&&(g=b(g,a)),g=g.split(_[132]).join(_[120]);e(g)}},k.invalidatescreen=function(){md=Ea(),p.haschanged=!0},k.updatescreen=function(){p.haschanged=!0},k.updateobject=function(){M&&M.updateFOV&&M.updateFOV(M,[Number(K.hfov),Number(K.vfov),Number(K.voffset)]),p.haschanged=!0},k.loadpano=function(a,b,c,d,e){s.xml.scene=null,Sa.loadpano(a,b,c,d,e)},k.loadxml=function(a,b,c,d,e){s.xml.scene=null,Sa.loadxml(a,b,c,d,e)},k.fscommand=function(){},k.freezeview=function(){},k.reloadpano=function(){},k.addlensflare=function(){},k.removelensflare=function(){},k.SAcall=function(a){var d,e,f,g,h,b=N(_[12]);if((a=ic(a))&&b)for(e=a.length,d=0;e>d;d++)f=a[d],f&&(g=f.cmd,h=b.getItem(g),h&&1==za(h.secure)?(f=f.args,f.splice(0,0,g),k.callaction(c(h.content,f))):na(2,_[357]+g+_[244]))}}(),G={},Rf=function(a){a=_[158]+a,B.console?B.console.log(a):alert(a)},Pc=function(a,b,c,d,e,f){var g=ja(),h=g.style;return h.position=_[0],"LT"==a?(h.left=b,h.top=c):(h.left=b,h.bottom=c),h.width=d,h.height=e,h.overflow=_[5],!1===f&&(h.webkitUserSelect=h.MozUserSelect=h.msUserSelect=h.oUserSelect=h.userSelect="none"),g},Qe=function(a){(x.fullscreen=a)&&(B.activekrpanowindow=db.id),oa(1==a?_[190]:_[198])},Sf=function(a){Qb&&(la(a),x.onResize(a),setTimeout(zc,250))},nc=function(a,b){for(var c=a.style,d=b.length,e=0,e=0;d>e;e+=2)c[b[e]]=b[e+1]},Tf=function(){Qe(!!(Q.fullscreenElement||Q.mozFullScreenElement||Q.webkitIsFullScreen||Q.webkitFullscreenElement||Q.msFullscreenElement))},Uf=function(){if(Qb){var a=B.innerHeight,b=pb;b>a?x.__scrollpage_yet=!0:x.__scrollpage_yet&&(x.__scrollpage_yet=!1,zc()),a!=b&&x.onResize(null)}},zc=function(){var c,d,a=B.innerWidth,b=B.innerHeight;x.__scrollpage_yet&&b==pb&&(x.__scrollpage_yet=!1),c=screen.height-64,d=268,26<=f.crios&&(c+=44,d=300),(320==a&&b!=c||a==screen.height&&b!=d)&&B.scrollTo(0,0)},Vf=function(){if(8==f.iosversion&&f.ipad){var a=screen.width,b=screen.height,c=B.innerWidth,d=B.innerHeight,e=db.clientHeight;(Math.min(c,d)==Math.min(a,b)&&Math.max(c,d)==Math.max(a,b)||e>d)&&(Re^=1,B.scrollTo(0,Re),setTimeout(Vf,60))}},Se=function(a,b){la(a);var c="none"==Wa.style.display?"":"none";void 0!==b&&(c=1==b?"":"none"),Wa.style.display=c,Fa.scrollTop=Fa.scrollHeight},Wf=function(){nd&&(bb.removeChild(nd),nd=null);var a,b=ja();a=25,f.androidstock&&(a*=f.pixelratio),nc(b,[_[59],_[0],"left","50%","top","50%",_[44],_[35],_[114],a+"px",_[45],"none",_[137],_[7],_[240],"none"]),a=b.style,a.zIndex=999999,a.opacity=.67,a=ja(),nc(a,"position;relative;left;-50%;top;-25px;fontFamily;sans-serif;textShadow;#000000 1px 1px 2px;lineHeight;110%".split(";")),a.innerHTML=_[360]+(Da&&Da[1]&&6<ca(Da[1],!1).length?Da[1]:_[149])+_[341],bb.appendChild(b),nd=b},x=G,x.fullscreen=!1,Xf=!0,Qb=!1,Te=!1,x.__scrollpage_yet=!1,Qc=null,db=null,bb=null,x.htmltarget=null,x.viewerlayer=null,x.controllayer=null,x.panolayer=null,x.pluginlayer=null,Wa=x.hotspotlayer=null,Fa=null,ub=null,Rc=null,Yf=0,Zf=0,Sc=!1,Ue=!1,x.build=function(a){function b(){Se(null,!1)}var g,h,i,j,k,c=a.target,d=a.id,e=Q.getElementById(c);if(!e)return Rf(_[151]+c),!1;for(c=null,g=d,h=1;c=Q.getElementById(d);){if(_[206]!=g)return Rf(_[146]+d),!1;h++,d=g+h}return c=ja(),c.id=d,c.style.position=_[113],c.style.overflow=_[5],c.style.lineHeight=_[37],c.style.fontWeight=_[37],c.style.fontStyle=_[37],c.tabIndex=-1,c.style.outline=0,d=_[23],a.bgcolor&&(d=a.bgcolor),a=C(a.wmode),(_[53]==a||_[464]==a)&&(d=null,s.bgcolor=4278190080),null!=d&&(c.style.background=d,s.bgcolor=parseInt(d.slice(1),16)),e.appendChild(c),db=c,x.htmltarget=e,x.viewerlayer=c,bb=Pc("LT",0,0,"100%","100%",!1),nc(bb,"msTouchAction none touchAction none msContentZooming none contentZooming none -webkit-tap-highlight-color transparent".split(" ")),x.controllayer=bb,d=Pc("LT",0,0,"100%","100%"),x.panolayer=d,nc(d,[_[224],"none"]),e=Pc("LT",0,0,"100%","100%",!1),0==f.ie&&nc(e,[Df,_[52]]),a=e,f.android&&f.firefox&&(g=Pc("LT",0,0,"1px","1px"),g.style.background=_[197],g.style.pointerEvents="none",g.style.zIndex=999999999,g.style[Ta]=_[19],e.appendChild(g)),g=f.androidstock?f.pixelratio:1,h=156*g,i=(f.mobile?8:13)*g,j=f.androidstock||f.android&&f.chrome?6:8,Wa=Pc("LB",0,0,"100%",h+"px",!0),Wa.style.display="none",!0!==f.opera&&!f.edge&&(2>Gb&&(Wa.style[Ta]=_[19]),f.ios&&0==f.simulator||f.android&&f.chrome)&&(Wa.style[Ta]=_[19]),f.ie&&(Wa.style.zIndex=999999999),k=Pc("LT",0,0,"100%","100%",!0),k.style.opacity=.67,f.android&&f.opera&&(k.style.borderTop=_[155]),nc(k,[_[204],_[23],gd,_[379]+j+_[319],_[110],j+"px",_[398],.67]),Fa=Q.createElement("pre"),j=null,f.mac&&(j=_[235]+(B.chrome?"1px":"0")),f.realDesktop?(Fa.style.fontFamily=_[50],Fa.style.fontSize="11px",j&&(Fa.style.fontSize="13px",Fa.style.textShadow=j)):(Fa.style.fontFamily=_[55],Fa.style.fontSize=i+"px"),nc(Fa,[_[59],_[0],"left","5px","top","0px",_[43],"left",_[287],0,_[269],f.realDesktop?"16px":0,_[314],0,_[238],0,_[106],"none",_[67],0,_[110],(f.realDesktop?10:8)+"px",_[41],"100%",_[26],h-10+"px",_[362],"auto",_[182],"none",_[399],"block",_[348],"left",_[309],_[354],_[45],"none",_[44],_[35]]),ub=ja(),j&&(ub.style.textShadow=j),nc(ub,[_[59],_[0],_[3],0,_[2],0,_[118],"0 4px",_[26],h-10+"px",_[196],"none",_[242],"none",_[137],_[24],_[73],_[53],_[305],f.realDesktop?_[50]:_[55],_[114],(f.realDesktop?10:0|9*g)+"px",_[44],_[35]]),ub.innerHTML="CLOSE",O(ub,_[109],la,!0),O(ub,_[116],b,!0),O(ub,_[6],b,!0),Wa.appendChild(k),Wa.appendChild(Fa),Wa.appendChild(ub),c.appendChild(bb),bb.appendChild(d),0<f.iosversion&&5>f.iosversion&&(a=ja(),a.style.position=_[0],e.appendChild(a),bb.style.webkitTransformStyle=_[52],e.style.webkitTransformStyle="flat"),bb.appendChild(e),f.ios&&(d=ja(),d.style.position=_[0],d.style.webkitTransformStyle=_[52],a.appendChild(d)),c.appendChild(Wa),x.pluginlayer=e,x.hotspotlayer=a,f.fullscreensupport&&O(Q,f.browser.events.fullscreenchange,Tf),Rc=[c.style.width,c.style.height],x.onResize(null),O(B,_[136],x.onResize,!1),f.iphone&&f.safari&&O(B,_[129],Uf,!1),O(B,_[81],Sf,!1),!0
},x.setFullscreen=function(a){if(f.fullscreensupport)if(a)db[f.browser.events.requestfullscreen]();else try{Q.exitFullscreen&&Q.exitFullscreen(),Q.mozCancelFullScreen&&Q.mozCancelFullScreen(),Q.webkitCancelFullScreen&&Q.webkitCancelFullScreen(),Q.webkitExitFullscreen&&Q.webkitExitFullscreen(),Q.msExitFullscreen&&Q.msExitFullscreen()}catch(b){}else{var c=Q.body,d=c.style,e=db.style;a?(x.fsbkup=[d.padding,d.margin,d.overflow,c.scrollTop,c.scrollLeft,B.pageYOffset],d.padding="0 0",d.margin="0 0",d.overflow=_[5],c.scrollTop="0",c.scrollLeft="0",c.appendChild(db),e.position=_[0],e.left=0,e.top=0,e.width="100%",e.height="100%",va.domUpdate(),B.scrollTo(0,0),Qe(!0)):(a=x.fsbkup)&&(x.htmltarget.appendChild(db),d.padding=a[0],d.margin=a[1],d.overflow=a[2],c.scrollTop=a[3],c.scrollLeft=a[4],e.position=_[113],va.domUpdate(),B.scrollTo(0,a[5]),x.fsbkup=null,Qe(!1))}},Re=0,x.onResize=function(a,b){var c,d,e,g,h,i,j,k,l,m;for(Sc=b,la(a),c=db,d="100%",e="100%",null==Rc&&(Rc=[c.style.width,c.style.height]),Rc&&(d=Rc[0],e=Rc[1],""==d&&(d="100%"),""==e&&(e="100%"),Rc=null),g=jd.so,g&&(g.width&&(d=g.width),g.height&&(e=g.height)),x.fullscreen&&(d=e="100%"),h=c.parentNode,i=0,j=c;;){if(i=j.offsetHeight,f.ie&&x.fullscreen&&20>i&&(i=0),!(1>=i))break;if(j=j.parentNode,null==j){i=B.innerHeight;break}}for(g=0,j=c;j&&"body"!=C(j.nodeName);)g++,j=j.parentNode;h=h?h.offsetHeight:B.innerHeight,k=c.clientWidth,j=d,c=e,0<String(d).indexOf("%")?d=parseFloat(d)*k/100:(d=parseFloat(d),j=d+"px"),0<String(e).indexOf("%")?e=parseFloat(e)*i/100:(e=parseFloat(e),c=e+"px"),1>e&&(e=100),i=screen.width,k=screen.height,f.iphone&&320==i&&4>f.iosversion&&480>k&&(k=480),l=B.innerWidth,m=B.innerHeight,f.ios&&2>=g&&0==x.fullscreen&&(26<=f.crios&&h>m&&(m=e=h),Vf(),7<=f.iosversion&&e>m&&(e=m,Qb=Te=!0,setTimeout(zc,10))),Xf&&(Xf=!1,f.iphone?(320==l&&m>=k-124?m=k-124:l==k&&m>=208&&(m=208),2>=g&&(l==d&&m&&(320==d&&e==k-124||d==k&&(208==e||320==e))&&(Qb=!0),26<=f.crios&&(320==d||d==k)&&(Qb=!0))):f.ipad&&28<=f.crios&&2>=g&&(d>e!=i>k&&(g=i,i=k,k=g),d==i&&e==k-20&&(Te=Qb=!0))),Qb&&(Te?(d=l,e=m):320==B.innerWidth?(d=320,e=k-64,f.crios&&(e+=44)):(d=k,e=320==B.innerHeight?320:268,26<=f.crios&&(e=300)),j=d+"px",c=e+"px"),f.getViewportScale(),g=j,va&&va.focusLoss(),Qb&&null==Qc&&(Qc=setInterval(zc,4e3),setTimeout(zc,250)),h=!1,(Pb!=d||pb!=e||Sc)&&(h=!0,Sc=!1,Pb=d,pb=e),ab&&(ab._pxw=ab.pixelwidth=ab.imagewidth=Pb/P,ab._pxh=ab.pixelheight=ab.imageheight=pb/P),cb&&(cb._pxw=cb.pixelwidth=cb.imagewidth=Pb/P,cb._pxh=cb.pixelheight=cb.imageheight=pb/P),h&&(qb&&qb.calc(Pb,pb),oa(_[57]),h=!1),qb?(h|=qb.calc(Pb,pb),bb.style.left=qb.pixelx*P+"px",bb.style.top=qb.pixely*P+"px",bb.style.width=Pa+"px",bb.style.height=ia+"px",d=Pa,e=ia):(Pa=Pb,ia=pb),Ud=Math.max(4*e/3,d),db.style.width=g,db.style.height=c,Ua.size(d,e),Ue=!0,h&&oa(_[57]),Sa.updateview(!1,!0),x.resizeCheck(!0),Sc=!1},x.resizeCheck=function(a){var b=!1,c=db,d=c.clientWidth,c=c.clientHeight;return(d!=Yf||c!=Zf||a||qb&&qb.haschanged)&&(Yf=d,Zf=c,b=!0,1==a?b=!1:x.onResize(null)),Ue&&!0!==a&&(b=!0,Ue=!1),255==(511&Zb)&&0==(1&ka)&&Wf(),b},Tc="",x.log=function(a){if("cls"==a)Fa.innerHTML="";else if("d"==a)Wf();else{var b=4>f.firefoxversion?4096:1e4;Tc+=a+"\n",Tc.length>b?(Tc=Tc.slice(-b/2,-1),Fa.innerHTML=Tc):Fa.firstChild?Fa.firstChild.nodeValue+="\n"+a:Fa.innerHTML+=a,Fa.scrollTop=Fa.scrollHeight,jd.so.vars&&za(jd.so.vars.consolelog)&&(b=B.console)&&b.log&&b.log(a)}},x.showlog=function(a){Se(null,a)},x.togglelog=Se,x.getMousePos=function(a,b){var c={},d=b?b:bb,e=d.getBoundingClientRect();return c.x=Math.round(a.clientX-e.left-d.clientLeft+d.scrollLeft),c.y=Math.round(a.clientY-e.top-d.clientTop+d.scrollTop),c},x.remove=function(){null!=Qc&&(clearInterval(Qc),Qc=null);try{V(B,_[136],x.onResize,!1),f.iphone&&f.safari&&V(B,_[129],Uf,!1),V(B,_[81],Sf,!1),f.fullscreensupport&&V(Q,f.browser.events.fullscreenchange,Tf),x.htmltarget.removeChild(db),x.htmltarget=null,x.viewerlayer=null,x.controllayer=null,x.panolayer=null,x.pluginlayer=null,bb=db=ub=Fa=Wa=x.hotspotlayer=null}catch(a){}},nd=null,va={},$f=function(a){var c,d,e,f,g,b=a.pointerType;if(4!=b&&_[17]!=b)for(a=a.changedTouches?a.changedTouches:[a],b=a.length,c=0;b>c;c++)if(d=a[c],e=d.pointerId?d.pointerId:d.identifier,void 0!==e){for(d=gb(d),d={id:e,lx:d.x/P,ly:d.y/P},g=fa.length,f=0;g>f;f++)if(fa[f].id==e)return fa[f]=d,void 0;fa.push(d)}},Ve=function(a){var c,d,e,f,b=a.pointerType;if(4!=b&&_[17]!=b)for(a=a.changedTouches?a.changedTouches:[a],b=a.length,c=0;b>c;c++)if(d=a[c],d=d.pointerId?d.pointerId:d.identifier,void 0!==d)for(f=fa.length,e=0;f>e;e++)if(fa[e].id==d){fa.splice(e,1);break}},Ac=function(){var a=C(aa.usercontrol);return _[17]==a||"all"==a},Ld=function(a){return a&&(a=a.pointerType,4==a||_[17]==a)?!0:!1},bg=function(a,b,c,d){for(var e=Zb;0<Xa.length&&!(c-Xa[0].t<=ag)&&!(1>=e-Xa[0].f);)Xa.shift();e=Xa.length-1,e>=0&&a==Xa[e].x&&b==Xa[e].y?Xa[e].t=c:Xa.push({x:a,y:b,t:c,f:d})},od=function(a,b,c,d){b=p.inverseProject(a,b);var e=p.inverseProject(c,d);return d=(Math.atan2(e.z,e.x)-Math.atan2(b.z,b.x))/U,b=-(Math.atan2(b.y,Math.sqrt(b.x*b.x+b.z*b.z))-Math.atan2(e.y,Math.sqrt(e.x*e.x+e.z*e.z)))/U,(a>c&&0>d||c>a&&d>0)&&(d=-d),{h:d,v:b}},cg=function(a,b,c,d){Ac()?(a=od(a,b,c,d),Uc=!1,Ba=a.h,Ma=a.v,a=p.hlookat+Ba,b=p.vlookat+Ma,Vc+=Ba,pd+=Ma,c=p._limits,aa.bouncinglimits&&c&&(360>c[0]&&(a<c[1]?(Wc=!0,a=Vc*Hb+c[1]*(1-Hb)):a>c[2]&&(Wc=!0,a=Vc*Hb+c[2]*(1-Hb))),b<c[4]?(Wc=!0,b=pd*Hb+c[4]*(1-Hb)):b>c[5]&&(Wc=!0,b=pd*Hb+c[5]*(1-Hb))),p.hlookat=a,p.vlookat=b,Sa.updateview(),p.haschanged=!0):Ma=Ba=0},vb=function(a){(Q.hidden||Q.webkitHidden||Q.mozHidden||Q.msHidden)&&Xc(a)},Xc=function(a){Yc(),a&&(_[58]==a.type&&!1===a.persisted&&(Ee=!0),z.down&&Md(a));for(var b in Bc)1==Bc[b]&&(s.keycode=b,oa(_[119]),Bc[b]=!1);s.keycode=0,dg()},dg=function(){s.hlookat_moveforce=s.vlookat_moveforce=s.fov_moveforce=0,Rb=Zc=Uc=!1,hb=We=Nd=$c=Ba=Ma=Ib=$b=wb=Jb=0},rd=function(a){var c,b=0;1!=aa.disablewheel&&(la(a),sb=Ea(),Ac())&&(a.wheelDelta?b=a.wheelDelta/-120:a.detail&&(b=a.detail,0==f.mac&&(b/=3)),c=b*aa.mousefovchange,aa.zoomtocursor?(qd=!0,Xe(a),xb=z.x,yb=z.y,c>0&&0==aa.zoomoutcursor&&(qd=!1)):qd=!1,Rb=!0,ac=0,hb+=.001*c,s.wheeldelta_raw=-b,s.wheeldelta=3*-b,oa(_[95]))},fg=function(a){var b=G.viewerlayer;0!=(Q.activeElement==b)&&B.activekrpanowindow==b.id&&(b=a.keyCode,0==(a.altKey||a.ctrlKey||a.shiftKey||b>111&&124>b)&&la(a),s.keycode=b,Bc[b]=!0,oa(_[339]),79==b&&(s.logkey||!(1&ka))&&G.togglelog(),eg(b,1),27==b&&(Yc(),G.fullscreen&&(G.fsbkup||f.opera)&&G.setFullscreen(!1)))},gg=function(a){var b=G.viewerlayer;0!=(Q.activeElement==b)&&B.activekrpanowindow==b.id&&(a=a.keyCode,s.keycode=a,Bc[a]=!1,oa(_[119]),eg(a,0))},eg=function(a,b){var c=C(aa.usercontrol);("all"==c||"keyb"==c)&&(a=","+a+",",0<=(","+aa.keycodesin+",").indexOf(a)?s.fov_moveforce=-b:0<=(","+aa.keycodesout+",").indexOf(a)?s.fov_moveforce=+b:0<=(","+aa.keycodesleft+",").indexOf(a)?s.hlookat_moveforce=-b:0<=(","+aa.keycodesright+",").indexOf(a)?s.hlookat_moveforce=+b:0<=(","+aa.keycodesup+",").indexOf(a)?s.vlookat_moveforce=aa.keybinvert?+b:-b:0<=(","+aa.keycodesdown+",").indexOf(a)&&(s.vlookat_moveforce=aa.keybinvert?-b:+b))},Xe=function(a){sb=Ea(),a=gb(a),z.x=a.x/P,z.y=a.y/P,z.moved=!0},sd=function(a){var b,c,d,e,g,h;for(sb=Ea(),d=a.changedTouches?a.changedTouches:[a],c=d.length,e=C(a.type),g=0<=e.indexOf("start")||0<=e.indexOf("down"),-99!=Cc&&g&&(ad=!0),b=0;c>b;b++)if(e=d[b],h=e.pointerId?e.pointerId:e.identifier,-99==Cc&&g&&(Cc=h),Cc==h){c=gb(e),z.x=c.x/P,z.y=c.y/P,z.moved=!0,0==(16&ka)&&(0==f.realDesktop||10<=f.ieversion&&!Ld(a))&&z.x>Pb/P-22&&z.y>pb/P-32&&a.type==da.touchstart&&(hg=e.pageY,O(R,da.touchend,ig,!0));break}},ig=function(a){a=a.changedTouches?a.changedTouches:[a],V(R,da.touchend,ig,!0),-120>a[0].pageY-hg&&G.showlog(!0)},Yc=function(){if(bc){try{R.removeChild(bc),R.removeChild(td)}catch(a){}td=bc=null}},Ye=function(a){if(bc)Yc();else{la(a),a.stopPropagation();var b=gb(a.changedTouches?a.changedTouches[0]:a);bc=ch(b.x,b.y,Yc,0<=C(a.type).indexOf("touch")),null!=bc&&(td=ja(),a=td.style,a.position=_[0],f.androidstock||(a.zIndex=99999999998,a[Ta]=_[19]),a.width="100%",a.height="100%",R.appendChild(td),R.appendChild(bc))}},Ze=function(a,b){var c=0|a.timeStamp;c>500&&500>c-rb?rb=0:(B.activekrpanowindow=G.viewerlayer.id,G.viewerlayer.focus(),sb=Ea(),la(a),!$.isblocked()&&0==(0|a.button)&&(Yc(),1!=b?(O(B,_[10],ud,!0),O(B,_[4],vd,!0),f.topAccess&&O(top,_[4],Md,!0)):O(f.topAccess?top:B,da.touchend,wd,!0),c=gb(a),ib=c.x,zb=c.y,Dc=a.timeStamp,Vc=p.hlookat,pd=p.vlookat,oc=0,z.down=!0,z.up=!1,z.moved=!1,z.downx=z.x=c.x/P,z.downy=z.y=c.y/P,oa(_[101])))},ud=function(a){var b,c;la(a),b=gb(a),z.x=b.x/P,z.y=b.y/P,z.moved=!0,_[40]==C(aa.mousetype)?(Zc=!0,c=od(ib,zb,b.x,b.y).h,-180>c?c=360+c:c>180&&(c=-360+c),oc+=c):cg(ib,zb,b.x,b.y),ib=b.x,zb=b.y,Dc=a.timeStamp,(0===a.buttons||void 0===a.buttons&&0===a.which)&&vd(a,!0)},vd=function(a,b){sb=Ea(),la(a),V(B,_[10],ud,!0),V(B,_[4],vd,!0),f.topAccess&&V(top,_[4],Md,!0),Uc=!0,z.down=!1,0==z.up&&(z.up=!0,oa(_[107]),!0!==b&&(0==z.moved||5>Math.abs(z.x-z.downx)&&5>Math.abs(z.y-z.downy))&&oa(_[123]))},Md=function(a){vd(a,!0)},$e=function(a){1==s.control.preventTouchEvents&&la(a)},jg=function(a){Sb&&(jb++,2==jb&&(af=1),Ab.addPointer(a.pointerId),R.setPointerCapture?R.setPointerCapture(a.pointerId):R.msSetPointerCapture&&R.msSetPointerCapture(a.pointerId))},kg=function(a){return jb--,0>jb&&(jb=0),2>jb&&Bb?(xd(a),!0):!1},lg=function(a){if(rb=0|a.timeStamp,ag=f.ios?100:49>Le?200:100,$f(a),Ec){if(0==s.control.preventTouchEvents)return;if(Ld(a))return a.currentPoint&&a.currentPoint.properties&&0==a.currentPoint.properties.isLeftButtonPressed&&(a.button=0),rb=0,Ze(a,!0),void 0;jg(a)}if(B.activekrpanowindow=G.viewerlayer.id,sb=Ea(),0==G.__scrollpage_yet&&$e(a),Yc(),!(Bb||0==cc&&1<fa.length||$.isblocked())){var b=a.changedTouches?a.changedTouches[0]:a,c=gb(b);bd=b.pointerId?b.pointerId:b.identifier,ib=c.x,zb=c.y,Dc=a.timeStamp,Xa=[],Vc=p.hlookat,pd=p.vlookat,oc=0,z.down=!0,z.up=!1,z.moved=!1,z.downx=z.x=c.x/P,z.downy=z.y=c.y/P,Fc={t:rb},oa(_[101])}},ng=function(a){var d,e,f,c,g,h,i,b=a.pointerType;if(4!=b&&_[17]!=b)for(b=a.changedTouches?a.changedTouches:[a],c=b.length,d=0;c>d;d++)if(e=b[d],f=e.pointerId?e.pointerId:e.identifier,void 0!==f)for(h=fa.length,g=0;h>g;g++)if(fa[g].id==f){e=gb(e),f=e.y/P,g=fa[g],g.lx=e.x/P,g.ly=f;break}if(Ec){if(Ld(a))return z.down&&ud(a),void 0;if(jb>1)return}if((b=Ac())&&0==cc&&1<fa.length){for(h=e=fa[0].lx,i=f=fa[0].ly,g=fa.length,d=1;g>d;d++)b=fa[d].lx,c=fa[d].ly,e>b&&(e=b),b>h&&(h=b),f>c&&(f=c),c>i&&(i=c);b=h-e,c=i-f,b=Math.sqrt(b*b+c*c),1>b&&(b=1),0==yd?(yd=!0,mg=b,ke(a)):bf(a,b/mg)}else sb=Ea(),0==G.__scrollpage_yet&&$e(a),Bb||0==b||(b=a.changedTouches?a.changedTouches[0]:a,bd!=(b.pointerId?b.pointerId:b.identifier))||(b=gb(b),_[40]==C(aa.touchtype)?(Zc=!0,c=od(ib,zb,b.x,b.y).h,-180>c?c=360+c:c>180&&(c=-360+c),oc+=c):cg(ib,zb,b.x,b.y),ib=b.x,zb=b.y,Dc=a.timeStamp,bg(ib,zb,Dc,Zb),-99==Cc&&(z.x=b.x/P,z.y=b.y/P),Fc&&16<z.dd&&(Fc=null),la(a))},wd=function(a){var b,c,d;if(Ve(a),Cc=-99,ad=!1,Ec){if(V(f.topAccess?top:B,da.touchend,wd,!0),kg(a))return;if(Ld(a))return vd(a),void 0}yd&&(xd(a),yd=!1),0==G.__scrollpage_yet&&$e(a),Bb?bd=-99:(b=a.changedTouches?a.changedTouches[0]:a,bd==(b.pointerId?b.pointerId:b.identifier)&&(bd=-99,b=gb(b),z.x=b.x/P,z.y=b.y/P,ib=b.x,zb=b.y,Dc=a.timeStamp,bg(ib,zb,Dc,Zb),_[40]!=C(aa.touchtype)&&(Ac()&&1<Xa.length?(c=Xa[0],d=Xa[Xa.length-1],b=(d.t-c.t)/15,b>0&&(c=od(c.x,c.y,d.x,d.y),Uc=!0,Ba=c.h/b,Ma=c.v/b)):(Uc=!1,Ma=Ba=0)),z.down=!1,0==z.up&&(z.up=!0,Fc&&32>z.dd&&550<(0|a.timeStamp)-Fc.t&&Ye(a),oa(_[107]),(0==z.moved||5>Math.abs(z.x-z.downx)&&5>Math.abs(z.y-z.downy))&&oa(_[123])),Fc=null))},og=function(a){Ve(a),yd=!1,Cc=bd=-99,Bb=!1,jb=0,Fc=null},ke=function(a){0!=s.control.preventTouchEvents&&!(Sb&&2>jb)&&(la(a),Bb=!0,Fc=null,pg=p.fov,bd=-99,z.down=!1)},bf=function(a,b){var c,d,e;if(0!=s.control.preventTouchEvents){if(c=void 0!==b?b:a.scale,Sb){if(2>jb)return;0==Bb&&ke(a),c=af*=c}if(la(a),sb=Ea(),Ac()){if(Ma=Ba=0,d=2/U,e=1/Math.tan(pg/d),d=Math.atan(1/(e*c))*d,e=d>p.fov?-3:3,s.wheeldelta=e,s.wheeldelta_raw=e/3,s.wheeldelta_touchscale=c,0==aa.touchzoom&&(d=p.fov),aa.bouncinglimits&&(d<p.fovmin?(d=Kb(d),c=Kb(p.fovmin),hb=.5*-(d-c),Rb=!0,ac=1,d+=hb,hb=1e-9,d=cf(d)):d>p.fovmax&&(d=Kb(d),c=Kb(p.fovmax),hb=.75*-(d-c),Rb=!0,ac=1,d+=hb,hb=1e-9,d=cf(d))),aa.zoomtocursor&&(e>0||1==aa.zoomoutcursor)){if(e=fa.length,e>0){for(qd=!0,i=yb=xb=0;e>i;i++)c=fa[i],xb+=c.lx,yb+=c.ly;xb/=e,yb/=e,p.updateView(),e=p.screentosphere(xb,yb),p.fov=d,p.updateView(),c=p.screentosphere(xb,yb),d=p.hlookat+(e.x-c.x),e=p.vlookat+(e.y-c.y),(c=p._limits)&&(360>c[0]&&(d<c[1]?d=c[1]:d>c[2]&&(d=c[2])),e<c[4]?e=c[4]:e>c[5]&&(e=c[5])),p.hlookat=d,p.vlookat=e}}else p.fov=d,p.updateView();oa(_[95]),p.haschanged=!0}}},xd=function(a){0!=s.control.preventTouchEvents&&(Bb&&(Bb=!1),ad=!1,fa=[],la(a))},Kb=function(a){return qg*Math.log(1/Math.tan(.5*a*U))},cf=function(a){return 2*Math.atan(1/Math.exp(a/qg))/U},Qa=va,Qa.mouse=!1,Qa.touch=!1,Fc=null,gb=null,da=null,R=null,Bc=[],Bb=!1,hg=0,cc=!1,yd=!1,mg=1,pg=90,bd=-99,Vc=0,pd=0,ib=0,zb=0,Dc=0,Xa=[],Cc=-99,ad=!1,ag=100,fa=[],Ec=!1,Sb=!1,Ab=null,jb=0,af=1,Uc=!1,Ba=0,Ma=0,Zc=!1,Nd=0,$c=0,We=0,oc=0,Rb=!1,hb=0,ac=0,qd=!1,xb=0,yb=0,Ib=0,$b=0,Wc=!1,Hb=.5,wb=0,Jb=0,bc=null,td=null,Qa.registerControls=function(a){R=a,da=f.browser.events,gb=G.getMousePos,f.ie&&(Sb=(Ec=Ja.msPointerEnabled||Ja.pointerEnabled)&&(1<Ja.msMaxTouchPoints||1<Ja.maxTouchPoints)),cc=Sb||0==f.simulator&&f.ios||void 0!==Q.documentElement.ongesturestart,(f.chrome||f.android)&&(cc=!1),a=!(0==f.simulator&&f.ios||f.android||10<=f.ieversion&&f.touchdeviceNS);var b=f.touchdeviceNS;b&&(f.mobile||f.tablet)&&0==f.simulator&&(a=!1),Qa.mouse=a,Qa.touch=b,da.mouse=a,da.touch=b,O(Q,_[121],fg,!1),O(Q,"keyup",gg,!1),O(f.topAccess?top:B,_[30],Xc,!0),O(f.topAccess?top:B,_[58],Xc,!0),O(Q,_[84],vb),O(Q,_[75],vb),O(Q,_[78],vb),O(Q,_[80],vb),(a||Ec)&&(O(R,_[92],rd,!1),O(R,_[104],rd,!1)),(a||Ec)&&O(B,_[10],Xe,!0),a&&O(R,_[6],Ze,!1),(a&&f.realDesktop||f.ie)&&O(R,_[30],Ye,!0),b&&(O(R,da.touchstart,sd,!0),O(R,da.touchmove,sd,!0),O(R,da.touchstart,lg,!1),O(R,da.touchmove,ng,!0),O(R,da.touchend,wd,!0),O(R,da.touchcancel,og,!0),cc&&(O(R,da.gesturestart,ke,!1),O(R,da.gesturechange,bf,!1),O(R,da.gestureend,xd,!0),Sb&&(O(R,_[91],xd,!0),Ab=new MSGesture,Ab.target=R)))},Qa.domUpdate=function(){if(Ab){var a=R;jb=0,Qa.unregister(),Qa.registerControls(a)}},Qa.unregister=function(){Ab&&(Ab=Ab.target=null),V(Q,_[121],fg,!1),V(Q,"keyup",gg,!1),V(f.topAccess?top:B,_[30],Xc,!0),V(f.topAccess?top:B,_[58],Xc,!0),f.topAccess&&V(top,_[4],Md,!0),V(Q,_[84],vb),V(Q,_[75],vb),V(Q,_[78],vb),V(Q,_[80],vb),V(B,_[10],Xe,!0),V(B,_[10],ud,!0),V(B,_[4],vd,!0),V(R,_[92],rd,!1),V(R,_[104],rd,!1),V(R,_[6],Ze,!1),V(R,_[30],Ye,!1),V(R,da.touchstart,sd,!0),V(R,da.touchmove,sd,!0),V(R,da.touchstart,lg,!1),V(R,da.touchmove,ng,!0),V(R,da.touchend,wd,!0),V(R,da.touchcancel,og,!0),V(R,da.gesturestart,ke,!1),V(R,da.gesturechange,bf,!1),V(R,da.gestureend,xd,!0),V(R,_[91],xd,!0),gb=da=R=null},Qa.handleFrictions=function(){var a,f,g,h,i,j,b=a=!1,c=s.hlookat_moveforce,d=s.vlookat_moveforce,e=s.fov_moveforce;if(0!=e&&(f=aa.keybfovchange,qd=!1,Rb=!0,ac=0,hb+=.001*f*e),(0!=c||0!=d||0!=Ib||0!=$b)&&(g=aa.keybfriction,b=aa.keybspeed,e=p.hlookat,f=p.vlookat,h=aa.keybaccelerate*Math.tan(Math.min(.5*Number(p.fov),45)*U),Ib+=c*h,c=$b+=d*h,d=Ib,Ib*=g,$b*=g,g=Math.sqrt(c*c+d*d),g>0?(c/=g,d/=g):d=c=0,g>b&&(g=b),d*=g,e=180>=(Math.floor(f)%360+450)%360?e+d:e-d,f+=c*g,p.hlookat=e,p.vlookat=f,.05*h>g&&($b=Ib=0),b=!0),a|=b,Uc?(c=Math.pow(aa.touchfriction,.92),Ba*=c,Ma*=c,c=Math.sqrt(Ma*Ma+Ba*Ba),d=Math.min(.04*Ud/p.r_zoom,.5),0!=c&&(p.hlookat+=Ba,p.vlookat+=Ma),d>c&&(Uc=!1,Ma=Ba=0),a|=1):Zc&&(c=z,d=We,b=Nd,e=$c,g=.025*aa.mouseaccelerate,i=aa.mousespeed,h=aa.mousefriction,f=!1,Ac()?(!c.down||c.x==c.downx&&c.y==c.downy||(j=od(c.downx,c.downy,c.x,c.y),j.h=oc,b=d*b-j.h*g,e=d*e-j.v*g,d=Math.sqrt(b*b+e*e),d>0&&(b/=d,e/=d,d>i&&(d=i))),g=p.hlookat,i=p.vlookat,i+=d*e*aa.mouseyfriction,p.hlookat=g+d*b,p.vlookat=i,d*=h,h=Math.min(.04*Ud/p.r_zoom,.5),0==c.down&&h>d&&(f=!0)):f=!0,f&&(Zc=!1,oc=e=b=d=0),We=d,Nd=b,$c=e,a|=1),Rb){a:{if(d=c=p.fov,b=hb,e=!1,0<Math.abs(b)){if(h=b,g=aa.fovspeed,e=p.fovmin,f=p.fovmax,b*=aa.fovfriction,Math.abs(h)>g&&(h=g*(h/Math.abs(h))),c=Kb(c),c=cf(c+h),aa.bouncinglimits&&ac>0){if(0!=Bb){c=void 0;break a}h=Kb(c),e>c?(b=Kb(e),b=.25*-(h-b)):c>f&&(b=Kb(f),b=.25*-(h-b))}else e>c&&(c=e,b=0),c>f&&(c=f,b=0);p.fov=c,hb=b,e=!0,qd&&(p.fov=d,p.updateView(),d=p.screentosphere(xb,yb),p.fov=c,p.updateView(),c=p.screentosphere(xb,yb),b=p.vlookat+(d.y-c.y),p.hlookat+=d.x-c.x,p.vlookat=b)}1e-5>Math.abs(hb)&&(ac=hb=0,Rb=!1),c=e}a|=c}return Wc&&(c=!1,z.down?c=!1:(d=p.hlookat,b=p.vlookat,d+=wb,b+=Jb,p.hlookat=d,p.vlookat=b,c=!0,wb*=.95,Jb*=.95,e=p._limits,aa.bouncinglimits&&e&&(360>e[0]&&(d<e[1]?wb=.15*-(d-e[1]):d>e[2]&&(wb=.15*-(d-e[2]))),b<e[4]?Jb=.15*-(b-e[4]):b>e[5]&&(Jb=.15*-(b-e[5]))),d=.15*Math.min(.04*Ud/p.r_zoom,.5),Math.sqrt(wb*wb+Jb*Jb)<d&&(wb=Jb=0,Wc=!1)),a|=c),a},Qa.stopFrictions=function(a){0==(0|a)&&(a=3),1&a&&(Nd=Ba=0),2&a&&($c=Ma=0),4&a&&(dg(),z.down=!1)},Qa.isMultiTouch=function(){return Bb||yd||jb>1||ad},Qa.isBouncing=function(){return ac>0||Wc},Qa.focusLoss=Xc,Qa.trackTouch=function(a){if(0==cc||Sb){var b=a.type;b==da.touchstart?Ec?jg(a):$f(a):b==da.touchend&&(Ec?kg(a):Ve(a))}},qg=-.1,Na=null,M=null,pc=!1,df=!1,Cb=0,qc=!1,le=!1,zd=!1,Sa={},me=function(a,b){!0!==b?p.haschanged=!0:(!0!==a&&(md=Ea()),oa(_[254]),p.updateView(),Na&&Ua.renderpano(Na,2),M&&Ua.renderpano(M,1),Yb(!0),oa(_[229]))},sg=function(a,b,c,d,e){if(xa.count++,xa.id=xa.count,rg()){$.busy=!0,s.xml.url="",s.xml.content=a;var f=(new DOMParser).parseFromString(a,_[34]);Z.resolvexmlincludes(f,function(){f=Z.xmlDoc,ef(f,b,c,d,e)})}},tg=function(a){var c,d,e,b=0!=(64&ba)&&0==(256&ba);if(!0===a&&(ba=b=0),0==(4&ba))for(d=La.getArray(),a=d.length,c=0;a>c;c++)e=d[c],!e||0!=b&&0!=e.keep||(e.sprite&&(e.visible=!1,e.parent=null,G.pluginlayer.removeChild(e.sprite)),e.destroy(),La.removeItem(c),c--,a--);if(0==(128&ba))for(d=Ha.getArray(),a=d.length,c=0;a>c;c++)if((e=d[c])&&(0==b||0==e.keep)){if(e.sprite){e.visible=!1,e.parent=null;try{G.hotspotlayer.removeChild(e.sprite)}catch(f){}if(e._poly){try{G.svglayer.removeChild(e._poly)}catch(g){}e._poly.kobject=null,e._poly=null}}e.destroy(),Ha.removeItem(c),c--,a--}for(b=Nb.getArray(),a=b.length,c=0;a>c;c++)(d=b[c])&&0==za(d.keep)&&(Nb.removeItem(c),c--,a--)},rg=function(){return 1<xa.count&&xa.removeid!=xa.id&&(xa.removeid=xa.id,oa(_[257],!0),xa.removeid!=xa.id)?!1:!0},ug=function(a){var b,c,d="";return a=fc(a),b=a.lastIndexOf("/"),c=a.lastIndexOf("\\"),c>b&&(b=c),b>=0&&(d=a.slice(0,b+1)),d},ef=function(a,b,c,d,e){wa.currentmovingspeed=0,Ad=!1,ba=M?64:0,c&&(c=C(c),0<=c.indexOf(_[284])&&(ba|=4),0<=c.indexOf(_[258])&&(ba|=128),0<=c.indexOf(_[334])&&(ba|=16),0<=c.indexOf(_[376])&&(ba|=32),0<=c.indexOf("merge")&&(ba|=16448),0<=c.indexOf(_[297])&&(ba|=256),0<=c.indexOf(_[374])&&(ba|=4),0<=c.indexOf(_[402])&&(ba|=36),0<=c.indexOf(_[337])&&(Ad=!0,ba|=65536),0<=c.indexOf(_[259])&&S(_[98],0)),tg(),0==Ad&&(0>=Cb&&d&&(d=C(d),c=d.indexOf(_[442]),c>=0&&(Cb=parseFloat(d.slice(c+6)),isNaN(Cb)||0>Cb))&&(Cb=2),M&&(0==qc?(Na&&(Na.destroy(),Na=null),Na=M,Na.stop(),M=null):(d=(Ea()-zd)/1e3/Cb,d=vg(d),d>.5?M&&(M.destroy(),M=null):(Na&&(Na.destroy(),Na=null),Na=M,Na.stop(),M=null),qc=!1)),32&ba&&(ra[0]=p.hlookat,ra[1]=p.vlookat,ra[2]=p.camroll,ra[3]=p.fov,ra[4]=p.fovtype,ra[5]=p.fovmin,ra[6]=p.fovmax,ra[7]=p.maxpixelzoom,ra[8]=p.fisheye,ra[9]=p.fisheyefovlink,ra[10]=p.stereographic,ra[12]=p.pannini,ra[13]=p.architectural,ra[14]=p.architecturalonlymiddle),0==(16384&ba)&&p.defaults(),p.limitview="auto",p.hlookatmin=Number.NaN,p.hlookatmax=Number.NaN,p.vlookatmin=Number.NaN,p.vlookatmax=Number.NaN,s.preview&&delete s.preview,s.image&&delete s.image,s.onstart=null,K=s.image={},K.type=null,K.multires=!1,K.multiresthreshold=.025,K.tiled=!1,K.tilesize=0,K.tiledimagewidth=0,K.tiledimageheight=0,K.baseindex=1,K.level=new nb,K.hfov=0,K.vfov=0,K.voffset=0,K.hres=0,K.vres=0,K.haschanged=!1,fb(K,"frame",1),K.frames=1),a&&a.documentElement&&_[31]==a.documentElement.nodeName?Aa(a.baseURI+_[20]):(Z.parsexml(a.childNodes,null,ba),s.xmlversion=s.version,s.version=s.buildversion,ne=e,xf(b),wg())},wg=function(){var a,e,g,h,i,j,k,l,m,n,o,q,r,c=s.plugin.getArray(),d=s.hotspot.getArray(),b=c.length;for(a=0;b>a;a++)if(g=c[a],g&&g.layer&&g.layer.isArray){for(h=g.layer.getArray(),e=h.length,b=0;e>b;b++)i=h[b],i&&(i.parent=g.name,i.keep=g.keep,La.createItem(i.name,i));g.plugin=null,g.layer=null,a--,b=c.length}for(b=c.length,a=0;b>a;a++)(g=c[a])&&0==g._pCD&&(g.loadstyle(),g._pCD=!0);for(b=d.length,a=0;b>a;a++)(c=d[a])&&0==c._pCD&&(c.loadstyle(),c._pCD=!0);if(0!=xg(!0)){if(0==Ad){for(32&ba&&(p.hlookat=ra[0],p.vlookat=ra[1],p.camroll=ra[2],p.fov=ra[3],p.fovtype=ra[4],p.fovmin=ra[5],p.fovmax=ra[6],p.maxpixelzoom=ra[7],p.fisheye=ra[8],p.fisheyefovlink=ra[9],p.stereographic=ra[10],p.pannini=ra[12],p.architectural=ra[13],p.architecturalonlymiddle=ra[14]),Sa.updateview(),Na&&Na.removemainpano(),a=0;4100>a;a++);void 0!==Ob.hardwarelimit&&(Oc=parseFloat(Ob.hardwarelimit),isNaN(Oc)&&(Oc=0)),void 0!==Ob.usedesktopimages&&(Ef=za(Ob.usedesktopimages)),pc=!0,ie.progress=0,M=Ua.createPano(K),M.addToLayer(G.panolayer),Cb>0&&(le=!0,M.setblend(0),id=!0,yc=0)}if($.busy=!1,$.actions_autorun(_[408],!0),a=s.onstart,ne&&(a=ne,ne=null),d=xa.id,$.callaction(a,null,!0),d==xa.id&&($.actions_autorun(_[409],!1),oa(_[231]),s.xml&&s.xml.scene&&oa(_[298]),d==xa.id)){if(0==Ad){if(j=f.desktop||Ef,c=!1,a=K.type,g=parseFloat(K.hfov),b=parseFloat(K.vfov),d=parseFloat(K.voffset),isNaN(g)&&(g=0),isNaN(b)&&(b=0),isNaN(d)&&(d=0),e=!!(K.multires&&K.level&&0<K.level.count),h=!!K.mobile,i=!!K.tablet,j||0!=e||!h&&!i||(a="cube",c=!0),null==a?K.left||K.cube?a="cube":K.cubestrip?a=_[33]:K.sphere?a=_[38]:K.cylinder?a=_[22]:K.flat?a="flat":(h||i)&&(a="cube",c=!0):a=C(a),j=_[38]==a||_[22]==a,k=g>0&&1>=g&&45>=b&&j||"flat"==a,l="cube"==a||_[33]==a||null==a&&0==j&&0==k,l&&(g=360,b=180),K.type=a,K.hfov=g,K.vfov=b,K.voffset=d,m=C(N(_[265])),(d=N(_[273]))?(d=qa.parsePath(d),_[33]==m||"null"==m&&l?(m=N(_[177]),null!=m&&(m=C(m),n=[0,1,2,3,4,5],n[m.indexOf("l")]=0,n[m.indexOf("f")]=1,n[m.indexOf("r")]=2,n[m.indexOf("b")]=3,n[m.indexOf("u")]=4,n[m.indexOf("d")]=5,m=n),M.addCubestripPreview(d,m)):("flat"==m||("null"==m||_[38]==m||_[22]==m)&&k)&&M.addFlatLevel(d,0,0,0,K.baseindex,!0),me(!1,!0)):0==m.indexOf("grid")?(d=ic(m))&&(d=d[0],"grid"==d.cmd&&(o=d.args,d=void 0==o[1]?64:parseInt(o[1]),m=void 0==o[2]?64:parseInt(o[2]),n=void 0==o[3]?512:parseInt(o[3]),q=void 0==o[4]?6710886:parseInt(o[4]),r=void 0==o[5]?2236962:parseInt(o[5]),o=void 0==o[6]?void 0==o[4]?16777215:q:parseInt(o[6]),q=ma(q),r=ma(r),o=ma(o),M.addGridPreview(n,d,m,r,q,o),me(!1,!0),ff())):ff(),d=!1,m=f.androidstock&&!f.webgl,k||l){if((c||l&&m)&&(i?d=oe(_[268]):h&&(d=oe(_[270]))),0==d)if("cube"==a){if(e)if(b=K.level.getArray(),c=b.length,b.sort(function(a,b){return+parseInt(a.tiledimagewidth,10)-parseInt(b.tiledimagewidth,10)}),0==f.multiressupport||m){for(h=f.iphone&&f.retina||f.tablet||f.android?1100:f.iphone?512:2560,Oc>0&&(h=Oc+256),g=c-1;g>=0&&(e=b[g].tiledimagewidth,!(h>=e));g--);g>=0&&(d=oe(_[46]+g+"]",!0))}else for(b.sort(function(a,b){return+parseInt(a.tiledimagewidth,10)-parseInt(b.tiledimagewidth,10)}),g=0;c>g;g++)b=_[46]+g+"]",e=N(b),(h=yg(b))&&(b=e.tilesize?e.tilesize:K.tilesize,e=parseInt(e.tiledimagewidth,10),b>0&&e>0&&(M.addCubeLevel(h,e,b,K.baseindex),d=!0));0==d&&(d=oe(_[69]))}else if(_[33]==a&&K.cubestrip)M.addCubestripPano(qa.parsePath(""+K.cubestrip.url)),d=!0;else if((_[38]==a||_[22]==a)&&1>=g&&45>=b||"flat"==a){if(f.multiressupport&&e)for(b=K.level.getArray(),c=b.length,b.sort(function(a,b){return+parseInt(a.tiledimagewidth,10)-parseInt(b.tiledimagewidth,10)}),g=0;c>g;g++)b=_[46]+g+"]",e=N(b),h=N(b+"."+a+".url"),(h=qa.parsePath(h))&&(b=e.tilesize?e.tilesize:K.tilesize,i=parseInt(e.tiledimagewidth,10),e=parseInt(e.tiledimageheight,10),b>0&&i>0&&e>0&&(M.addFlatLevel(h,i,e,b,K.baseindex,!1),d=!0));0==d&&(c=K[a])&&(M.addFlatLevel(qa.parsePath(""+c.url),0,0,0,K.baseindex,!1),d=!0)}}else j&&0==e&&f.webgl&&(g=qa.parsePath(N(_[424]+a+".url")))&&(c=[Number(K.hfov),Number(K.vfov),Number(K.voffset)],b=0,0<=(b=C(g).indexOf(_[386]))?f.panovideosupport&&(g=g.slice(b+7),g=La.getItem(g))&&(g.renderToBitmap=!0,g.visible=!1,M.addRoundPano(a,null,c,g),d=!0):(M.addRoundPano(a,g,c),d=!0));d&&(pc=df=!0),M.finalize(),0==d&&null!=a&&na(2,_[152]),me(!1,!0)}for(a=Ha.getArray(),d=a.length,c=0;d>c;c++)(g=a[c])&&null==g.sprite&&(g.create(),G.hotspotlayer.appendChild(g.sprite));xg(),oa(_[57]),Sa.updateview(),$.processactions()}}},xg=function(a){var d,f,g,b=La.getArray(),c=b.length,e=!0;for(d=0;c>d;d++)f=b[d],f&&(g=!1,1==a?1==f.preload&&_[14]!=f.type&&0==f.loaded&&(f.onloaded=wg,f.altonloaded=null,g=!0,e=!1):(1==f.preload&&(f.preload=!1,f.onloaded=null),g=!0),g&&null==f.sprite&&(f.create(),null==f._parent&&G.pluginlayer.appendChild(f.sprite)));return e},ff=function(){oa(_[184])},yg=function(a){var d,e,b=_[71].split(" "),c=Array(6);if(d=N(a+"."+b[6]+".url")){if(d=qa.parsePath(d))for(e=0;6>e;e++)c[e]=d.split("%s").join(b[e].charAt(0))}else for(e=0;6>e;e++){if(!(d=qa.parsePath(N(a+"."+b[e]+".url"))))return null;c[e]=d}return c},oe=function(a,b){var d,e,c=yg(a);return c?(b?(d=N(a),e=d.tilesize?d.tilesize:K.tilesize,d=parseInt(d.tiledimagewidth,10),M.addCubeLevel(c,d,e,K.baseindex)):M.addCubeLevel(c,0,0,1),!0):!1},vg=function(a){return a>1&&(a=1),a=1-a*a*a,0>a&&(a=0),a},Ya=Sa,Ya.loadpano=function(a,b,c,d,e){if(xa.count++,xa.id=xa.count,rg())if(0>C(c).indexOf(_[299])&&S(_[98],0),"null"==C(a)&&(a=null),s.xml.content=null,s.xml.scene=null,a){$.busy=!0,null==qa.firstxmlpath?qa.firstxmlpath=ug(a):a=qa.parsePath(a,!0),qa.currentxmlpath=ug(a),s.xml.url=a;var f=xa.id;qa.loadxml(a,function(g,h){if(f==xa.id){if(g&&g.childNodes){var i=g.childNodes,j=i.length;0==j?g=null:2==j&&i[1]&&_[31]==i[1].nodeName&&(g=null)}g?(g=Z.resolvexmlencryption(g,a),null!=g&&Z.resolvexmlincludes(g,function(){g=Z.xmlDoc,ef(g,b,c,d,e)})):200==h?Aa(a+_[20]):Aa(a+_[72])}})}else s.xml.url=null,sg(_[183],b,c,d,e)},Ya.loadxml=sg,Ya.loadxmldoc=ef,Ya.updateview=me,Ya.updateplugins=function(a){var d,e,b=La.getArray(),c=b.length;for(d=0;c>d;d++)e=b[d],e&&(a||e.poschanged)&&e.loaded&&e.updatepos()},Ya.checkautorotate=function(a){var c,d,e,f,g,b=Ea();return a&&(md=b),md>sb&&(sb=md),a=b-sb,a>1e3*s.idletime&&sb!=Bf&&(Bf=sb,oa(_[432])),a=b-md,wa.enabled&&a>1e3*wa.waittime?(c=p._hlookat,a=p._vlookat,b=p._fov,d=Math.tan(Math.min(.5*b,45)*U),e=wa.accel,f=wa.speed,g=wa.currentmovingspeed,e/=60,f/=60,f>0?(g+=e*e,g>f&&(g=f)):(g-=e*e,f>g&&(g=f)),wa.currentmovingspeed=g,c+=d*g,d=Math.abs(d*g),p._hlookat=c,c=parseFloat(wa.horizon),isNaN(c)||(c=(c-a)/60,e=Math.abs(c),e>0&&(e>d&&(c=d*c/e),a+=c,p._vlookat=a)),a=parseFloat(wa.tofov),isNaN(a)||(a<p.fovmin&&(a=p.fovmin),a>p.fovmax&&(a=p.fovmax),a=(a-b)/60,c=Math.abs(a),c>0&&(c>d&&(a=d*a/c),b+=a,p._fov=b)),!0):(wa.currentmovingspeed=0,!1)},Ya.previewdone=ff,Ya.havepanosize=function(a){M&&M.id==a.id&&(K.hfov=a.hfov,K.vfov=a.vfov,K.hres=a.hres,K.vres=a.vres,oa(_[351]),p.haschanged=!0)},Ya.removeelements=tg,Ya.isLoading=function(){return pc},Ya.isBlending=function(){return le||qc},ra=[],xa={count:0,id:0},ba=0,Ad=!1,ne=null,Ya.checkHovering=function(){if(1!=(1&Zb)&&!$.blocked){var b,c,d,e,f,a=[La.getArray(),Ha.getArray()];for(f=0;2>f;f++)for(b=a[f],d=b.length,e=0;d>e;e++)(c=b[e])&&c._visible&&c.hovering&&c.onhover&&$.callaction(c.onhover,c)}},Ya.handleloading=function(){var b,a=!1;return 0==qc&&(Na&&(a|=Na.doloading()),M&&(a|=M.doloading())),pc=M&&M.isloading(),b=Ua.handleloading(),df&&1!=pc&&(df=!1,oa(_[226])),1&b&&(pc=!0),2&b&&(a=!0),M&&Na&&(0==qc?M.previewcheck()&&(qc=!0,zd=-1):(a=0,Cb>0&&(-1==zd&&(zd=Ea()),a=(Ea()-zd)/1e3/Cb,a=vg(a),le=!0,M.setblend(1-a),id=!0,yc=1-a),0==a&&(Cb=0,Na&&(Na.destroy(),Na=null),le=qc=!1),a=!0)),a},Ua={},zg=function(a){return"#ifdef GL_ES\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\n#endif\nuniform float aa;uniform sampler2D sm;varying vec2 tt;void main(){vec4 c=texture2D(sm,vec2(tt.s,tt.t)"+(a?",-1.0":"")+");gl_FragColor=vec4(c.rgb,c.a*aa);}"},fh=function(){var b,c,d,e,a=Za;try{if(b=a.COMPILE_STATUS,c=a.createShader(a.VERTEX_SHADER),a.shaderSource(c,"attribute vec3 vx;attribute vec2 tx;uniform float sh;uniform float ch;uniform mat4 wm;uniform mat4 pm;uniform mat4 ot;varying vec2 tt;void main(){vec3 vr=vec3(ot*vec4(vx,1));vec3 vs=1000.0*normalize(vr);vec2 c2=vec2(vr.x,vr.z);c2=c2/max(1.0,length(c2));vec3 vc=1000.0*vec3(c2.x,clamp(vr.y*inversesqrt(1.0+vr.x*vr.x+vr.z*vr.z),-30.0,+30.0),c2.y);vec3 vv=vr*(1.0-sh)+sh*(vs*(1.0-ch)+vc*ch);gl_Position=pm*wm*vec4(vv,1);tt=tx;}"),a.compileShader(c),!a.getShaderParameter(c,b))return!1;if(d=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(d,zg(!0)),a.compileShader(d),!a.getShaderParameter(d,b)){if(!f.ie)return!1;if(a.shaderSource(d,zg(!1)),a.compileShader(d),!a.getShaderParameter(d,b))return!1}if(e=a.createProgram(),a.attachShader(e,c),a.attachShader(e,d),a.linkProgram(e),!a.getProgramParameter(e,a.LINK_STATUS))return!1;a.useProgram(e),pe=a.getAttribLocation(e,"vx"),qe=a.getAttribLocation(e,"tx"),Ag=a.getUniformLocation(e,"sh"),Bg=a.getUniformLocation(e,"ch"),Cg=a.getUniformLocation(e,"aa"),Dg=a.getUniformLocation(e,"sm"),Eg=a.getUniformLocation(e,"pm"),Fg=a.getUniformLocation(e,"wm"),gf=a.getUniformLocation(e,"ot"),a.enableVertexAttribArray(pe),a.enableVertexAttribArray(qe),Tb.sh=e,Tb.vs=c,Tb.ps=d}catch(g){return!1}return!0},Gg=function(a,b,c,d){this.tcnt=a,this.vxd=b,this.txd=c,this.ixd=d,this.ix=this.tx=this.vx=null},hf=function(a){var b=Za;b.bindBuffer(Ub,a.vx=b.createBuffer()),b.bufferData(Ub,a.vxd,Od),b.bindBuffer(Ub,a.tx=b.createBuffer()),b.bufferData(Ub,a.txd,Od),b.bindBuffer(Pd,a.ix=b.createBuffer()),b.bufferData(Pd,a.ixd,Od)},Hg=function(a,b){var h,i,j,k,l,d=2*(b+1)*(b+1),c=6*b*b,e=new Float32Array(3*(b+1)*(b+1)),f=new Float32Array(d),g=new Uint16Array(c);for((isNaN(b)||0>=b)&&(b=1),a*=2,i=c=d=0;b>=i;i++)for(h=0;b>=h;h++)j=h/b,k=i/b,f[d]=j,f[d+1]=k,d+=2,e[c]=a*(j-.5),e[c+1]=a*(k-.5),e[c+2]=0,c+=3;for(i=c=0;b>i;i++)for(h=0;b>h;h++)d=h+i*(b+1),j=d+1,k=d+(b+1),l=k+1,g[c]=d,g[c+1]=j,g[c+2]=k,g[c+3]=j,g[c+4]=l,g[c+5]=k,c+=6;return new Gg(6*b*b,e,f,g)},jf=function(a,b,c,d,e){var f=!1;0==d&&(b=c=d=1024,dc=f=!0),this.type=0,this.preview=!1,this.needsize=f,this.w=b,this.h=c,this.mp=b*c*a>>20,this.tilesize=d,this.htiles=0|(b+d-1)/d,this.vtiles=0|(c+d-1)/d,this.addedtiles=this.loadedtiles=0,this.totaltiles=a*this.htiles*this.vtiles,this.i=e,this.planeurls=Array(a),this.planemapping=6==a?[0,1,2,3,4,5]:[1],this.invplanemapping=6==a?[0,1,2,3,4,5]:[0,0,0,0,0,0],this.completelyadded=this.complete=!1,this.vfov=this.hfov=90,this.voffset=this.hoffset=0,this.vscale=1},Ig=function(a,b){return a.preview?-1:b.preview?1:a.w-b.w},Jg=function(a,b,c,d,e){for(b.hfov=1,b.vfov=d>0?b.hfov*e/d:1,b.hoffset=0,b.voffset=b.hfov/2-b.vfov/2,b.vscale=1,d=a.levels,c&&d.push(b),d.sort(Ig),b=d.length-1,c=e=0;b>=c;c++)d[c].needsize||(e=d[c].vfov);if(e>0){for(c=0;b>=c;c++)d[c].needsize||(d[c].vscale=e/d[c].vfov);a.fovlimits=[-.5,.5,-e/2,+e/2]}re(a)},re=function(a){var f,b=null,c=0==a.type,d=c||null!=a.fovlimits,e=a.levels;e&&(f=e.length,f>0&&(e=e[f-1],0==e.preview&&0==e.needsize&&d&&(b=e))),b&&a.done&&0==a.ready&&(a.ready=!0,a.hfov=c?360:b.hfov,a.vfov=c?180:b.vfov,a.hres=b.w,a.vres=b.h,Sa.havepanosize(a))},gh=function(){this.h=this.w=0,this.imgfov=null,this.loading=!0,this.texture=this.obj=null,this.texvalid=!1,this.mx=Ge(1,1,1)},hh=function(){this.layer=null,this.tiles=[],this.mx=this.texture=this.csobj=this.csobj0=null},jh=function(a){function b(a,b,c,d){var f,g,h,i,j,n,o,p,k,l,m,q,r,s,t,u,v,w;if(e(a),0==a.type){if(f=Za,c||(c=[0,1,2,3,4,5]),b){if(g=b.naturalWidth,h=b.naturalHeight,j=1,3*g==2*h)i=g/2;else if(2*g==3*h)i=g/3;else if(1*g==6*h)i=g/6;else{if(6*g!=1*h)return 0==a.type&&na(2,_[211]+b.src+_[159]),void 0;i=g/1}g/=i,h/=i
}else d&&(i=d.width,j=0,g=1,h=6,b=d);for(d=Ra?0:ce,k=i,l=new hh,m=new jf(6,k,k,k,1),q=[2,0,3,1,4,5],0==Ra&&(n=ja(),n.style.position=_[0],n.style.pointerEvents="none",l.layer=n),l.tiles=Array(6),o=0;h>o;o++)for(n=0;g>n;n++)r=c[o*g+n],s=new Kg("prev"+a.id+"s"+se[r],0,r,0,0,m,a),p=q[r],t=1==r||3==r?d:0,u=3>=r?d:0,v=ja(2),v.width=k+2*t,v.height=k+2*u,v.style.position=_[0],v.style[je]="0 0",w=v.getContext("2d"),w&&(u>0&&(w.drawImage(b,j*n*i,j*o*i,i,1,t,0,i,u),w.drawImage(b,j*n*i,j*o*i+i-1,i,1,t,k+u,i,u)),t>0&&(w.drawImage(b,j*n*i+0,j*o*i+0,1,i,0,t,t,i),w.drawImage(b,j*n*i+i-1,j*o*i+0,1,i,k+t,t,t,i)),w.drawImage(b,j*n*i,j*o*i,i,i,t,u,k,k),kf&&w.getImageData(k>>1,k>>1,1,1)),s.canvas=v,0==Ra?(s.elmt=v,v=-k/2,s.transform=Lg[r]+_[47]+(v-t)+"px,"+(v-u)+"px,"+v+"px) "):(Mg(s,k,k),r=f.createTexture(),f.activeTexture(Vd),f.bindTexture(ya,r),f.texParameteri(ya,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(ya,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(ya,f.TEXTURE_MAG_FILTER,f.LINEAR),f.texParameteri(ya,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texImage2D(ya,0,rc,rc,Wd,v),f.bindTexture(ya,null),s.texture=r,s.mem=0),s.state=2,l.tiles[p]=s;dc=!0,a.cspreview=l}}function c(a,b){var c,d,e,f,g,i,j;h.imagefov=b,c=a.rppano,d=c.w,e=c.h,f=b[0],g=b[1],i=b[2],0>=f&&(f=360),0>=g&&(g=f,j=180,j=4==a.type?2*Math.atan(g/2*(e/d)*U)/U:g*e/d,j>180&&(j=180),g=j),a.hfov=f,a.vfov=g,a.hres=d,a.vres=e,c.imgfov=[f,g,i],c=-g/2+i,d=+g/2+i,4==a.type&&(d=Math.tan(.5*g*U),i=Math.sin(i*U),c=Math.atan(-d+i)/U,d=Math.atan(+d+i)/U),a.fovlimits=[-f/2,+f/2,c,d]}function d(a,b,c,d){var e,g,h,i,j,k,l,m,n,o;if(b=Za,e=a.rppano,g=b.createTexture(),b.activeTexture(Vd),b.bindTexture(ya,g),b.texParameteri(ya,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(ya,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(ya,b.TEXTURE_MAG_FILTER,b.LINEAR),b.texParameteri(ya,b.TEXTURE_MIN_FILTER,b.LINEAR),c){if(d=c.naturalWidth,h=c.naturalHeight,e.w=d,e.h=h,i=!1,d>Bd&&(i=!0,d=Bd),h>Bd&&(i=!0,h=Bd),i){if(i=ja(2),i.width=d,i.height=h,j=i.getContext("2d"),j.drawImage(c,0,0,d,h),f.ios){for(k=h,l=j.getImageData(0,0,1,k).data,m=0,n=k,o=k;o>m;)0==l[4*(o-1)+3]?n=o:m=o,o=n+m>>1;k=o/k,k>0&&1>k&&j.drawImage(c,0,0,d,h/k)}b.texImage2D(ya,0,rc,rc,Wd,i)}else b.texImage2D(ya,0,rc,rc,Wd,c);e.texvalid=!0}else d&&(e.videoplugin=d,e.videoready=!1);b.bindTexture(ya,null),e.texture=g,a.rppano=e,dc=!0}function e(a){var d,e,b=Za,c=a.cspreview;if(c)if(a.cspreview=null,b)for(a=0;6>a;a++)d=c.tiles[a],e=d.texture,e&&(b.deleteTexture(e),d.texture=null);else a.previewadded&&(a.layer.removeChild(c.layer),a.previewadded=!1)}var g=++ih,h=this;h.id=g,h.image=a,h.type=0,h.done=!1,h.ready=!1,h.fovlimits=null,h.hfov=0,h.vfov=0,h.hres=0,h.vres=0,h.levels=[],h.frame=0,h.currentlevel=-1,h.viewloaded=!1,h.stopped=!1,h.alpha=1,h.cspreview=null,h.rppano=null,h.previewadded=!1,h.previewloading=!1,h.addToLayer=function(a){if(0==Ra){var b=ja(),c=b.style;c.position=_[0],c.left=0,c.top=0,h.layer=b,a.appendChild(b)}},h.addGridPreview=function(a,c,d,e,g,i){a+=1;var j=f.desktop?1023:f.tablet||f.webgl?511:255,k=j>a?a:j,l=ja(2);for(l.width=k,l.height=k,j=k/a,d*=j,c*=j,j=l.getContext("2d"),j.fillStyle=e,j.fillRect(0,0,k,k),j.fillStyle=g,e=0;a>e;e+=d)j.fillRect(0,e,a,1);for(e=0;a>e;e+=c)j.fillRect(e,0,1,a);if(i!=g)for(j.fillStyle=i,g=0;a>g;g+=d)for(e=0;a>e;e+=c)j.fillRect(e,g,1,1);setTimeout(function(){b(h,null,null,l)},10)},h.addCubestripPreview=function(a,c){h.previewloading=!0,qa.loadimage(a,function(a){b(h,a,c),h.previewloading=!1,Sa.previewdone()},function(){na(3,_[49]+a+_[56]),h.previewloading=!1})},h.addCubestripPano=function(a){qa.loadimage(a,function(a){b(h,a,null)},function(){na(3,_[49]+a+_[56])})},h.addCubeLevel=function(a,b,c,d){b=new jf(6,b,b,c,d),b.planeurls[0]=a[0],b.planeurls[1]=a[1],b.planeurls[2]=a[2],b.planeurls[3]=a[3],b.planeurls[4]=a[4],b.planeurls[5]=a[5],a=h.levels,a.push(b),a.sort(Ig),re(h)},h.addFlatLevel=function(a,b,c,d,e,f){h.type=1,d=new jf(1,b,c,d,e),d.planeurls[0]=a,d.type=1,d.preview=f,Jg(h,d,!0,b,c)},h.addRoundPano=function(a,b,e,f){h.type=_[22]==C(a)?4:3,h.rppano=new gh,f?(h.updateFOV=c,d(h,a,null,f),f._panoid=h.id,h.imagefov=e,f.onvideoreadyCB=function(){var a=h.rppano;a.w=f.videowidth,a.h=f.videoheight,c(h,h.imagefov),p.updateView(),Sa.havepanosize(h),h.rppano.loading=!1,a.videoready=!0}):b&&qa.loadimage(b,function(b){d(h,a,b),c(h,e),p.updateView(),Sa.havepanosize(h),h.rppano.loading=!1})},h.finalize=function(){h.done=!0,re(h)},h.setblend=function(a){Ra?h.alpha=a:h.layer&&(h.layer.style.opacity=a)},h.removemainpano=function(){},h.stop=function(){h.stopped=!0},h.destroy=function(){var b,c,d,a=Za;e(h),a&&(b=h.rppano,b&&(c=b.texture,c&&a.deleteTexture(c),b.texture=null));for(d in sc)(b=sc[d])&&b.pano===h&&Ng(b);a||(h.layer.parentNode.removeChild(h.layer),h.layer=null)},h.previewcheck=function(){var a=h.rppano;return a&&a.videoplugin?a.texvalid:h.previewloading||0==h.type&&null==h.cspreview&&0<h.levels.length&&!h.viewloaded?!1:!0},h.doloading=function(){return!1},h.isloading=function(){if(h.previewloading)return!0;var a=h.levels,b=a.length;if(b>0){if(Og&&0==h.type&&(b=a[0].preview&&b>1?1:0,9>a[b].mp&&!a[b].complete)||!h.viewloaded)return!0}else if(a=h.rppano)return a.videoplugin?a.texvalid:a.loading;return!1}},Kg=function(a,b,c,d,e,f,g){this.id=a,this.pano=g,this.cubeside=c,this.levelindex=b,this.level=f,this.h=d,this.v=e,this.draworder=f?se[c]*f.htiles*f.vtiles+e*f.htiles+d:se[c],this.url=null,this.sh=this.ch=this.sv=0,this.mx=this.texture=this.canvas=this.image=this.elmt=null,this.lastusage_on_frame=this.mem=this.retries=this.state=0,this.overlap=this.transform=null,f&&(a=2*((d+.5)/f.htiles-.5),e=2*((e+.5)/f.vtiles-.5),a+=.5/f.htiles,e+=.5/f.vtiles,1==g.type&&(a*=Math.tan(.5*f.hfov*U),e*=Math.tan(.5*f.vfov*U)),0==c?(c=1,f=e,g=-a):1==c?(c=-a,f=e,g=-1):2==c?(c=-1,f=e,g=a):3==c?(c=a,f=e,g=1):4==c?(c=-a,g=-e,f=-1):(c=-a,g=e,f=1),a=-Math.atan2(c,g),e=-Math.atan2(-f,Math.sqrt(c*c+g*g)),this.sv=Math.sin(e),e=Math.cos(e),this.ch=Math.cos(a)*e,this.sh=Math.sin(a)*e)},Mg=function(a,b,c){var k,d=[[0,180],[0,90],[0,0],[0,270],[-90,90],[90,90]][a.cubeside],e=a.level,f=e.w/2,g=e.tilesize,h=1e3/f,i=1,j=e.vscale;1==e.type&&(i=Math.tan(.5*e.hfov*U)),k=(-f+a.h*g+b/2+2*e.hoffset*f/90)*h*i,e=(-f+a.v*g+c/2+2*e.voffset*f/e.hfov)*h*i*j,f*=h,b=Ge(b/1e3*i,c/1e3*i*j,1),h=Ge(h,h,h),k=jc([1,0,0,0,0,1,0,0,0,0,1,0,k,e,f,1]),c=d[1],i=-d[0]*U,d=Math.cos(i),i=Math.sin(i),d=jc([1,0,0,0,0,d,i,0,0,-i,d,0,0,0,0,1]),i=-c*U,c=Math.cos(i),i=Math.sin(i),c=jc([c,0,-i,0,0,1,0,0,i,0,c,0,0,0,0,1]),d=hd(d,c),b=hd(h,hd(hd(b,k),d)),a.mx=b},Pg=function(a){return a--,a|=a>>1,a|=a>>2,a|=a>>4,a|=a>>8,a|=a>>16,a++,a},Qg=function(a,b,c,d,e,f){if(f>0)setTimeout(function(){try{Qg(null,b,c,d,e,0)}catch(a){}},f);else{null==a&&(a=b.getContext("2d")),f=e[0];var g=e[1],h=e[2],i=e[3];f>0&&a.drawImage(c,0,0,1,d[1],0,g,f,d[3]),g>0&&a.drawImage(c,0,0,d[0],1,f,0,d[2],g),h>0&&a.drawImage(c,d[0]-1,0,1,d[1],f+d[2],g,h,d[3]),i>0&&a.drawImage(c,0,d[1]-1,d[0],1,f,g+d[3],d[2],i)}},Ng=function(a){var b=Za,c=a.texture;for(b&&c&&b.deleteTexture(c),(b=a.elmt)&&(c=b.parentNode)&&c.removeChild(b),c=ec.length,b=0;c>b;b++)if(ec[b]==a){ec.splice(b,1);break}b=a.id,sc[b]=null,delete sc[b],(b=a.level)&&(b.completelyadded=--b.addedtiles==b.totaltiles),Cd-=a.mem,a.state=0,a.image=null,a.canvas=null,a.texture=null,a.elmt=null,a.pano=null,a.level=null},nf=function(a){if(Ra){var b=Za,c=Rg,d=a.texture;c&&d&&(b.uniformMatrix4fv(gf,!1,a.mx),b.bindBuffer(Ub,c.vx),b.vertexAttribPointer(pe,3,de,!1,0,0),b.bindBuffer(Ub,c.tx),b.vertexAttribPointer(qe,2,de,!1,0,0),b.bindBuffer(Pd,c.ix),b.activeTexture(Vd),b.bindTexture(ya,d),b.drawElements(lf,c.tcnt,mf,0))}else a.elmt.style[Ta]=Sg+a.transform},te=function(a,b){var c=new xc;return c.x=a[0]*b[0]+a[1]*b[1]+a[2]*b[2],c.y=a[0]*b[3]+a[1]*b[4]+a[2]*b[5],c.z=-2*(a[0]*b[6]+a[1]*b[7]+a[2]*b[8]),c},Ga=Ua,ce=0,Og=!0,kf=!1,Tg=0,Ug=0,of=!1,ue=!1,Vg=0,pf=0,dc=!1,Xd=0,ve=0,ih=0,we=0,qf=0,xe=16.666,sc={},ec=[],Cd=0,ye=52428800,rf=!1,Dd=null,Ra=!1,eb=null,Za=null,Tb=null,Bd=0,Rg=null,se=[1,3,0,2,4,5,6],Lg="rotateY(90deg) ;;rotateY(-90deg) ;rotateY(180deg) ;rotateX(-90deg) ;rotateX(90deg) ;".split(";"),Sg="",sf="",ee=null,Ga.requiereredraw=!1,Ga.isloading=!1,Ga.setup=function(a){var b,d,c=null;if(2==a){d=null,(0<=C(jd.so.html5).indexOf(_[167])||f.mac&&f.firefox)&&(d={preserveDrawingBuffer:!0});try{for(eb=ja(2),eb.style.position=_[0],eb.style.left=0,b=eb.style.top=0;4>b&&!(c=eb.getContext([_[70],_[79],_[111],_[108]][b],d));b++);}catch(e){}eb&&c&&(Za=c,Tb={},fh()&&(ya=c.TEXTURE_2D,Vd=c.TEXTURE0,Ub=c.ARRAY_BUFFER,Pd=c.ELEMENT_ARRAY_BUFFER,rc=c.RGB,Wd=c.UNSIGNED_BYTE,mf=c.UNSIGNED_SHORT,de=c.FLOAT,lf=c.TRIANGLES,Od=c.STATIC_DRAW,b=s.bgcolor,c.clearColor((255&b>>16)/255,(255&b>>8)/255,(255&b)/255,1-(b>>24)/255),c.disable(c.DEPTH_TEST),c.depthFunc(c.NEVER),c.enable(c.BLEND),c.blendFunc(c.SRC_ALPHA,c.ONE_MINUS_SRC_ALPHA),c.enable(c.CULL_FACE),c.cullFace(c.FRONT),Bd=c.getParameter(c.MAX_TEXTURE_SIZE),2048>=Bd&&f.firefox&&!f.mac&&!f.android&&(f.css3d=!1),f.ios&&(Bd=2048),G.panolayer.appendChild(eb),Ga.infoString=_[355],Ra=!0)),0==Ra&&(Za=eb=null,a=1)}1==a&&(Ga.infoString="",f.webgl=!1),ce=0|f._tileOverlap,(6<f.iosversion||f.mac&&"7"<=f.safariversion)&&(kf=!0),f.multiressupport=f.androidstock&&0==f.webgl?!1:!0,(a=f.webgl)&&f.android&&(f.androidstock?a=!1:f.chrome&&35>f.chromeversion&&(a=!1)),f.panovideosupport=a,f.buildList()},Ga.reset=function(){Xd=0},Ga.size=function(a,b){var c,e,g,d,h;if(Ra){if(c=(f.android&&0==f.androidstock||f.blackberry||f.silk||f.mac)&&0==f.hidpi?f.pixelratio:1,(f.desktop||f.ios||f.ie)&&(c=B.devicePixelRatio),isNaN(c)&&(c=1),!f.desktop&&1!=c)a:{for(d=c,c=[320,360,400,480,640,720,768,800,1024,1080,1280,1366,1440,1920,2560],h=a*d,g=c.length,e=0;g>e;e++)if(2>Math.abs(c[e]-h)){c=c[e]/a;break a}c=d}d=0|a*c+.25,c=0|b*c+.25,eb.style.width=a+"px",eb.style.height=b+"px",(eb.width!=d||eb.height!=c)&&(eb.width=d,eb.height=c,e=0|Za.drawingBufferWidth,g=0|Za.drawingBufferHeight,f.desktop&&f.chrome&&300==e&&150==g&&(e=g=0),(0>=e||0>=g)&&(e=d,g=c),Za.viewport(0,0,e,g),f.gl={width:e,height:g})}else f.gl={width:0,height:0}},Ga.fps=function(){var b,c,a=Ea();qf>0&&(b=a-qf,b>5&&500>b&&(c=Math.min(b/160,.75),xe=xe*(1-c)+b*c,xe>0&&(Le=1e3/xe,Ob.currentfps=Le))),qf=a},Ga.startFrame=function(){if(dc=!1,ye=s.memory.maxmem<<20,Ra){var a=Za;a.clear(a.COLOR_BUFFER_BIT)}},Ga.finishFrame=function(){if(Xd++,ve=0,Ra){var a=Za;f.androidstock&&a.finish()}s.memory.usage=Cd>>20},Ga.createPano=function(a){return new jh(a)},Wg=0,Xg=0,tf=0,Ga.renderpano=function(a,b){var j,k,l,m,n,o,q,r,t,u,v,w,x,y,A,B,D,E,F,G,H,I,J,L,M,N,O,P,Q,R,S,T,V,W,X,Y,Z,$,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,vb,ob,pb,qb,rb,tb,ub,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Mb,Nb,Pb,Qb,Rb,Sb,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,fc,gc,hc,ic,kc,lc,nc,oc,pc,qc,tc,uc,vc,wc,yc,zc,Ac,Bc,Cc,Dc,Kb,Lb,mc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,vd,Fd,Id,ud,wd,xd,yd,zd,Ad,Ed,Gd,Hd,Jd,Kd,Ld,Md,Nd,Qd,Rd,Sd,Td,Yd,Zd,$d,_d,ae,fe,ge,he,ke,le,me,ne,oe,xe,Ae,Be,Ce,Ge,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,De,Ee,Fe,Ve,We,Xe,Ye,Ze,$e,_e,af,cf,c=a.panoview=a.stopped&&a.panoview?a.panoview:p.getState(),d=c.h,e=c.v,g=c.r,h=c.z,i=a.hasmoved=d!=Wg||e!=Xg||h!=tf;if(h!=tf&&(rf=!1),j=Ea(),i?("auto"==C(Ob.loadwhilemoving)&&(k=j-sb,j-Ug>200&&0==z.down&&k>200&&(of=!0)),Tg=j):10>j-Tg&&(a.hasmoved=i=!0),dc=i,Wg=d,Xg=e,tf=h,l=yf(d-90,-e,g),sf="",ee=null,a.image&&a.image.prealign&&(m=(""+a.image.prealign).split("|"),3==m.length&&(n=Number(m[0]),o=-Number(m[1]),q=-Number(m[2]),isNaN(n)||isNaN(o)||isNaN(q)||(sf=_[358]+o.toFixed(4)+_[241]+q.toFixed(4)+_[243]+n.toFixed(4)+"deg) ",r=-q*U,t=Math.cos(r),u=Math.sin(r),A=jc([1,0,0,0,0,t,u,0,0,-u,t,0,0,0,0,1]),r=-o*U,v=Math.cos(r),w=Math.sin(r),B=jc([v,0,-w,0,0,1,0,0,w,0,v,0,0,0,0,1]),r=-n*U,x=Math.cos(r),y=Math.sin(r),D=jc([x,y,0,0,-y,x,0,0,0,0,1,0,0,0,0,1]),ee=hd(D,hd(A,B)),l=hd(ee,l)))),c.mx=l,E=He(l),F=(f.android&&0==f.androidstock||f.blackberry||f.ios)&&0==f.hidpi?f.pixelratio:1,f.ios&&f.retina&&(F=1.5),F>1.4&&(F=1.4),G=1/(c.z/(ia/2)),.5>G&&(F=1),H=.25*Va*(Pa*F/Math.sin(Math.atan(G*(Pa/ia)))+ia*F/G),0==a.type?H*=2/Va:1==a.type&&(I=a.levels,H*=2/Va,H*=Math.tan(.5*I[I.length-1].vfov*U)),J=H,L=0,M=a.levels,N=M.length,O=1+(K?parseFloat(K.multiresthreshold):0),isNaN(O)&&(O=1),.1>O&&(O=.1),J=Math.ceil(J*O),N>0){for(;!(0==M[L].preview&&M[L].h>=J);)if(L++,L>=N){L=N-1;break}rf&&L>0&&(L-=1),a.currentlevel!=L&&(a.currentlevel=L)}if(1==b&&(P=a.currentlevel,s.multireslevel=P>0&&a.levels[0].preview?P-1:P),Q=c.zf,R=1/(c.z/(.5*Ud)),Q>0&&(S=Math.atan(R),R=Math.tan(S+Math.asin(Q/1e3*Math.sin(S))),isNaN(R)||0>=R))T=[0,0,1,1],c.vr=[T,T,T,T,T,T];else{for(V=R*ia/Pa,W=2*(c.yf/ia)*V,X=[R,V+W,-1],Y=[-R,V+W,-1],Z=[-R,-V+W,-1],$=[R,-V+W,-1],be(E,X),be(E,Y),be(E,Z),be(E,$),cb=1,db=null,eb=Array(40),fb=[null,null,null,null,null,null],ab=0;6>ab;ab++){for(gb=[],hb=[],gb.push(te(X,ze[ab])),gb.push(te(Y,ze[ab])),gb.push(te(Z,ze[ab])),gb.push(te($,ze[ab])),ib=0,jb=0,kb=0,lb=0,mb=0,bb=0;4>bb;bb++)db=gb[bb],jb=db.x,kb=db.y,lb=db.z/2,mb=1*(jb>-lb)+8*(lb>jb)+64*(lb>kb)+512*(kb>-lb)+4096*(-.1>-lb),eb[bb]=mb,ib+=mb;if(nb=0!=(18724&ib),0==ib)for(bb=0;4>bb;bb++)db=gb[bb],hb.push(db.x/db.z),hb.push(db.y/db.z);else{if(nb)continue;for(ob=4,pb=gb,qb=eb,rb=0,tb=[],ub=[],wb=0,wb=0;5>wb;wb++){for(xb=1<<3*wb,bb=0;ob>bb;bb++)yb=(bb+ob-1)%ob,zb=pb[yb],Ab=pb[bb],Bb=qb[yb],Cb=qb[bb],Db=0,0==(Cb&xb)?(Db|=2,Bb&xb&&(Db|=1)):0==(Bb&xb)&&(Db|=1),1&Db&&(4==wb?cb=(.1-zb.z/2)/(Ab.z-zb.z)/2:3==wb?cb=(-zb.y-zb.z/2)/(Ab.y-zb.y+(Ab.z-zb.z)/2):2==wb?cb=(zb.z/2-zb.y)/(Ab.y-zb.y-(Ab.z-zb.z)/2):1==wb?cb=(zb.z/2-zb.x)/(Ab.x-zb.x-(Ab.z-zb.z)/2):0==wb&&(cb=(-zb.z/2-zb.x)/(Ab.x-zb.x+(Ab.z-zb.z)/2)),vb=new xc,vb.x=zb.x+(Ab.x-zb.x)*cb,vb.y=zb.y+(Ab.y-zb.y)*cb,vb.z=zb.z+(Ab.z-zb.z)*cb,jb=vb.x,kb=vb.y,lb=vb.z/2,mb=1*(jb>-lb)+8*(lb>jb)+64*(lb>kb)+512*(kb>-lb)+4096*(-.1>-lb),tb.push(vb),ub.push(mb),rb++),2&Db&&(tb.push(Ab),ub.push(Cb),rb++);ob=rb,pb=tb,qb=ub,rb=0,tb=[],ub=[]}for(bb=0;ob>bb;bb++)db=pb[bb],hb.push(db.x/db.z),hb.push(db.y/db.z)}if(Eb=9,Fb=9,Gb=-9,Hb=-9,Ib=hb.length,Ib>4){for(Jb=hb,bb=0;Ib>bb;bb++)Jb[bb]+=.5;for(bb=0;Ib>bb;bb+=2)Jb[bb+0]<Eb&&(Eb=Jb[bb+0]),Jb[bb+1]<Fb&&(Fb=Jb[bb+1]),Jb[bb+0]>Gb&&(Gb=Jb[bb+0]),Jb[bb+1]>Hb&&(Hb=Jb[bb+1]);Eb>Gb||0>Eb&&0>Gb||Eb>1&&Gb>1||Fb>Hb||0>Fb&&0>Hb||Fb>1&&Hb>1||(0>Eb&&(Eb=0),0>Fb&&(Fb=0),Gb>1&&(Gb=1),Hb>1&&(Hb=1),fb[ab]=[Eb,Fb,Gb,Hb])}}c.vr=fb}if(Kb=a.panoview,Lb=a.id,mc=!1,Ec=!1,Fc=!1,Gc=!0,Hc=Ea(),Ra&&(Ic=Za,Jc=a.panoview,Kc=Jc.z,Lc=1/(.5*Pa),Mc=-1/(.5*ia),Nc=Jc.zf,Oc=Jc.yf,Pc=Math.min(Nc/200,1),Qc=Nc>0?Jc.ch:0,Rc=new Float32Array([Lc,0,0,0,0,Mc,0,0,0,0,65535/65536,1,0,0,65535/65536-1,0]),Sc=Jc.mx,Tc=jc([Kc,0,0,0,0,Kc,0,0,0,Oc,1,0,0,Nc*Oc,Nc,1]),Uc=hd(Sc,Tc),Ic.uniform1i(Dg,0),Ic.uniform1f(Cg,a.alpha),Ic.uniform1f(Ag,Pc),Ic.uniform1f(Bg,Qc),Ic.uniformMatrix4fv(Eg,!1,Rc),Ic.uniformMatrix4fv(Fg,!1,Uc),3>a.type&&(Vc=Tb.obj0,Wc=Tb.obj,null==Vc&&(Vc=Hg(500,1),Wc=Hg(500,19),hf(Vc),hf(Wc),Tb.obj0=Vc,Tb.obj=Wc),Rg=Nc>10?Wc:Vc)),Mb=+Kb.h,Nb=-Kb.v,Pb=Kb.z,Qb=Va-Mb*U,Rb=-Nb*U,Sb=Math.sin(Rb),Vb=Math.cos(Rb),Wb=Math.cos(Qb)*Vb,Xb=Math.sin(Qb)*Vb,ee&&(Xc=[Wb,Sb,Xb],be(He(ee),Xc),Wb=Xc[0],Sb=Xc[1],Xb=Xc[2]),Yb=a.levels,$b=Yb.length,_b=a.currentlevel,a.viewloaded=!1,5e3>Pb&&(Yc=1/Math.max(100,Pb),Zc=Math.abs(Math.cos(Mb*U)),$c=Math.cos(.25*Va),(1e-14>Zc||Zc>$c-1e-14&&$c+1e-14>Zc||Zc>1-1e-14||1e-14>Vb||Vb>1-1e-14)&&(Mb+=(.5+.5*Math.random())*Yc*(.5>Math.random()?-1:1),Nb+=(.5+.5*Math.random())*Yc*(.5>Math.random()?-1:1)),f.firefox&&(-(1-1e-14)>Sb&&(Nb+=.5),Sb>+(1-1e-14)&&(Nb-=.5))),Sg=_[47]+Pa/2+"px,"+ia/2+_[174]+Kb.yf.toFixed(16)+_[199]+Pb.toFixed(16)+(0<f.iosversion&&5>f.iosversion?"":"px")+_[105]+(-Kb.r).toFixed(16)+_[83]+Pb.toFixed(16)+_[251]+Nb.toFixed(16)+_[247]+Mb.toFixed(16)+"deg) "+sf,$b>0&&(_c=1==za(Ob.loadwhilemoving)?!0:0==a.hasmoved||of,ad=_b,we>=7&&(_c=!1),a.stopped?_c=!1:Og&&9>Yb[0].mp&&(0==Yb[0].complete&&(ad=0,mc=!0),0==_c&&0==Yb[0].completelyadded&&(ad=0,_c=mc=!0)),ue&&ad>5&&(ad-=3,ue=!1,dc=!0),_c)){for(Ug=Hc,of=!1,Bc=null,Dc=1e6,ac=ad;ac>=0;ac--){for(Zb=Yb[ac],fc=Zb.w,gc=Zb.h,hc=Zb.tilesize,ic=Zb.htiles,kc=Zb.vtiles,Ec=!0,bd=Zb.planeurls.length,cc=0;bd>cc;cc++)if(bc=Zb.planemapping[cc],lc=mc?[0,0,1,1]:Kb.vr[bc])for(zc="p"+Lb+"l"+ac+"s"+se[bc]+"h",cd=1,dd=1,1==a.type&&(cd=1/Math.tan(.5*Zb.hfov*U),dd=1/Math.tan(.5*Zb.vfov*U)),nc=Math.floor((cd*(lc[0]-.5)+.5)*fc/hc),oc=Math.ceil((cd*(lc[2]-.5)+.5)*fc/hc),0>nc&&(nc=0),oc>ic&&(oc=ic),pc=Math.floor((dd*(lc[1]-.5)+.5)*gc/hc),qc=Math.ceil((dd*(lc[3]-.5)+.5)*gc/hc),0>pc&&(pc=0),qc>kc&&(qc=kc),wc=pc;qc>wc;wc++)for(vc=nc;oc>vc;vc++){if(yc=zc+vc+"v"+wc,Ac=sc[yc],Ac||(Ac=new Kg(yc,ac,bc,vc,wc,Zb,a),sc[yc]=Ac,Ec=!1),0==Ac.state)Cc=Math.acos(Wb*Ac.ch+Xb*Ac.sh+Sb*Ac.sv),Dc>Cc&&(Bc=Ac,Dc=Cc),Ec=!1;else if(1==Ac.state)Ec=!1;else if(2==Ac.state){if(0==Ra&&nf(Ac),ed=Ac,fd=null,gd=null,0==Ra&&(fd=ed.elmt,gd=a.layer),0!=Ra||fd.parentNode!=gd){for(id=ec.length,jd=-1,kd=void 0,ld=void 0,md=ed.pano,nd=ed.levelindex,od=ed.draworder,pd=0,qd=0,ld=0;id>ld;ld++)if(kd=ec[ld],kd.pano===md&&(pd=kd.levelindex,qd=kd.draworder,pd>=nd&&qd>=od)){jd=ld;break}0>jd?(fd&&gd.appendChild(fd),ec.push(ed)):(fd&&gd.insertBefore(fd,ec[jd].elmt),ec.splice(jd,0,ed)),rd=ed.level,rd.completelyadded=++rd.addedtiles==rd.totaltiles}Ac.state=3}Ac.lastusage_on_frame=Xd}if(0==ue&&0==Ec&&ac==ad&&Hc-Vg>1e3&&(ue=!0,Vg=Hc),Ec){a.viewloaded=!0;break}}if(Bc){if(sd=Bc,td=function(){var a,b,c,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(ve>0)dc=!0,setTimeout(td,0);else if(we--,!(null==Ld||null==Ld.naturalWidth))if(a=Ld.naturalWidth,b=Ld.naturalHeight,c=4*a*b,d=!1,0==c&&(d=!0),d)sd.state=0,dc=!0;else if(e=sd.level){if(e.needsize&&(e.w=a,e.h=b,e.tilesize=a>b?a:b,e.needsize=!1,1==e.type?Jg(sd.pano,e,!1,a,b):re(sd.pano),e.preview&&Sa.previewdone()),e.complete=++e.loadedtiles==e.totaltiles,d=1==e.htiles*e.vtiles,sd.state=2,sd.lastusage_on_frame=Xd,Ra?(Mg(sd,a,b),g=Za,h=f.opera?"":C(Ob.mipmapping),i="force"==h,(h=i||"auto"==h)&&((0!=(a&a-1)||0!=(b&b-1))&&(h=1024,d?(h=0,i&&(h=Bd)):!i&&0!=(e.tilesize&e.tilesize-1)&&(h=0),d=Pg(a),j=Pg(b),h>d&&h>j&&(e=ja(2),e.width=d,e.height=j,h=e.getContext("2d"),h.drawImage(Ld,0,0,d,j),Ld=e,a=d,b=j)),h=0==(a&a-1)&&0==(b&b-1)),h&&0==i&&!f.realDesktop&&sd.level&&2500<sd.level.h&&(h=!1),a=g.createTexture(),g.activeTexture(Vd),g.bindTexture(ya,a),g.texParameteri(ya,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texParameteri(ya,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(ya,g.TEXTURE_MAG_FILTER,g.LINEAR),g.texParameteri(ya,g.TEXTURE_MIN_FILTER,h?g.LINEAR_MIPMAP_LINEAR:g.LINEAR),g.texImage2D(ya,0,rc,rc,Wd,Ld),h&&g.generateMipmap(ya),g.bindTexture(ya,null),sd.texture=a,sd.image=Ld=null):(g=[a,b,a,b],i=!1,a==b&&1==e.htiles&&(h=Ob.hardwarelimit,a+2*ce>h&&(e.w=e.h=g[2]=g[3]=a=b=h-2*ce,i=!0)),k=[0,0,0,0],l=ce,m=sd.h,n=sd.v,e=sd.cubeside,o=sd.level,p=o.tilesize,h=o.vscale,q=-o.w/2,r=j=1,1==o.type&&(j=Math.tan(.5*o.hfov*U),e=6,l>2&&(l=2),f.ie||f.desktop&&f.safari)&&(r=252),-q>1e3&&l>4&&(l=4),s=q,t=s,k[2]=l,k[3]=l,0==e||2==e?0==m&&(k[0]=l):(1==e||3==e)&&m==o.vtiles-1&&(k[2]=0),e>=0&&3>=e?0==n&&(k[1]=l):(m==o.htiles-1&&(k[2]=0),n==o.vtiles-1&&(k[3]=0)),sd.overlap=k,s-=k[0],t-=k[1],k=(s+m*p)*j,n=(t+n*p-2*o.voffset*q/o.hfov)*j*h,o=j,p=j*h,r>1&&(k*=r,n*=r,q*=r,o*=r,p*=r),r=""+k,k=0<r.indexOf("e-")?k=k.toFixed(18):r,r=""+n,n=0<r.indexOf("e-")?n=n.toFixed(18):r,r=""+q,q=0<r.indexOf("e-")?q=q.toFixed(18):r,sd.transform=Lg[e]+_[47]+k+"px,"+n+"px,"+q+"px) ",(1!=j||1!=h)&&(sd.transform+=_[363]+o+","+p+",1) "),(j=sd.overlap)?(e=ja(2),e.width=a+j[0]+j[2],e.height=b+j[1]+j[3],e.style.overflow=_[5],c=4*e.width*e.height,q=r=0,h=e.getContext("2d"),j&&(r=j[0],q=j[1],Qg(h,e,Ld,g,j,d?0:250)),i?h.drawImage(Ld,0,0,g[0],g[1],r,q,a,b):h.drawImage(Ld,r,q),kf&&h.getImageData(g[0]>>1,g[1]>>1,1,1),sd.canvas=e,sd.elmt=e,sd.image=Ld=null):sd.elmt=Ld,sd.elmt.style.position=_[0],sd.elmt.style[je]="0 0"),sd.mem=c,Cd+=c,Cd>ye){for(dc=!0,ve++,a=null,b=0;;){for(u in sc)b++,c=sc[u],0<c.levelindex&&2<=c.state&&c.lastusage_on_frame<Xd-1&&(!a||c.lastusage_on_frame<a.lastusage_on_frame)&&(a=c);if(!a)break;if(Ng(a),a=null,ye-2097152>Cd)break}if(b>Math.max(2*ec.length,100)){a={};for(u in sc)(c=sc[u])&&((0<c.levelindex||8<c.level.mp)&&0==c.state&&c.lastusage_on_frame<Xd-2?(c.pano=null,c.level=null):a[u]=c);sc=a}Cd>ye&&(rf=!0)}dc=!0,ve++}},null==sd.url){for(ud=_[71].split(" ")[sd.cubeside].charAt(0),wd=sd.level.planeurls[sd.level.invplanemapping[sd.cubeside]],xd=sd.levelindex,yd=String(sd.h+sd.level.i),zd=String(sd.v+sd.level.i),Ad=[],Ed=wd.length,Gd=!1,Hd=0,Fd=0;Ed>Fd;Fd++)if(Jd=wd.charAt(Fd),Kd=Jd.charCodeAt(0),37==Kd)Gd=!0,Hd=0;else if(48==Kd)Gd?Hd++:Ad.push(Jd);else if(Gd)if(Gd=!1,Id=null,Kd>=65&&84>=Kd&&(Kd+=32),108==Kd?Id=xd:115==Kd?Id=ud:117==Kd||120==Kd||99==Kd||104==Kd?Id=yd:(118==Kd||121==Kd||114==Kd)&&(Id=zd),null!=Id){for(;Id.length<=Hd;)Id="0"+Id;Ad.push(Id)}else Ad.push("%"+Jd);else Gd=!1,Ad.push(Jd);vd=Ad.join(""),sd.url=vd}sd.state=1,Ld=qa.loadimage(sd.url,td,function(a,b){we--,b?sd.state=4:sd.retries<s.network.retrycount?(sd.retries++,sd.state=0,dc=!0):(sd.state=4,na(3,_[49]+sd.url+_[56]))}),sd.image=Ld,we++}}if(1!=a.viewloaded?(Fc=!0,pf=Hc):pf>0&&200>Hc-pf&&(Fc=!0),Ra&&10<Kb.zf&&(Fc=!0),Fc){if(Md=a.cspreview){for(Nd=Md.layer,tc=0;6>tc;tc++)Qd=Md.tiles[tc],nf(Qd),0==Ra&&2==Qd.state&&(Nd.appendChild(Qd.elmt),Qd.state=3);0==Ra&&!a.previewadded&&(0==a.layer.childNodes.length?a.layer.appendChild(Nd):a.layer.insertBefore(Nd,a.layer.childNodes[0]),a.previewadded=!0)}}else 0==Ra&&a.previewadded&&((Md=a.cspreview)&&a.layer.removeChild(Md.layer),a.previewadded=!1);if(a.previewloading&&(Gc=!1),Gc)for(uc=ec.length,tc=0;uc>tc;tc++)Ac=ec[tc],Ac.pano===a&&(Ac.levelindex>_b?(0==Ra&&Ac.pano.layer.removeChild(Ac.elmt),Ac.state=2,ec.splice(tc,1),tc--,uc--,Rd=Ac.level,Rd.completelyadded=--Rd.addedtiles==Rd.totaltiles):nf(Ac));if(0==$b&&Ra&&(Sd=a.rppano,2<a.type&&Sd&&(Td=Sd.texture,Yd=Sd.imgfov,Zd=Sd.videoplugin,$d=null,_d=!1,Zd&&Zd._panoid!=a.id&&(Zd=Sd.videoplugin=null),p.continuousupdates=!!Zd,Td&&Yd&&(ae=Yd[0],fe=Yd[1],ge=Yd[2],_d=Zd?($d=Zd.videoDOM)?Sd.videoready:Sd.texvalid:!0)))){if(he=Tb.objS,ke=a.type+"/"+ae+"x"+fe+"/"+ge,ke!=Tb.objS_i){for(le=a.type,me=ae,ne=fe,oe=ge,xe=he,Ae=15453,Be=10302,Ce=3e4,xe&&xe.tcnt!=Ce&&(xe=null),De=xe?xe.vxd:new Float32Array(Ae),Ee=xe?xe.txd:new Float32Array(Be),Fe=xe?xe.ixd:new Uint16Array(Ce),me*=U,ne*=U,oe*=U,4==le?(ne=1e3*Math.tan(.5*ne),oe=500*Math.sin(1*oe)):oe=-oe+.5*Va,Ie=Ae=Be=0;50>=Ie;Ie++)for(Ne=1-Ie/50,4==le?(Pe=1,Ke=ne*(Ne-.5)+oe):(Oe=(Ie/50-.5)*ne+oe,Pe=Math.sin(Oe),Qe=Math.cos(Oe),Ke=500*Qe),Ge=0;100>=Ge;Ge++)Oe=(Ge/100-.5)*me+Va,Re=Math.sin(Oe),Se=Math.cos(Oe),Je=500*Se*Pe,Le=500*Re*Pe,Me=1-Ge/100,De[Ae]=Je,De[Ae+1]=Ke,De[Ae+2]=Le,Ae+=3,Ee[Be]=Me,Ee[Be+1]=Ne,Be+=2;for(Ie=Ce=0;50>Ie;Ie++)for(Ge=0;100>Ge;Ge++)Te=101*Ie+Ge,Ue=Te+101,Fe[Ce]=Te,Fe[Ce+1]=Te+1,Fe[Ce+2]=Ue,Fe[Ce+3]=Ue,Fe[Ce+4]=Te+1,Fe[Ce+5]=Ue+1,Ce+=6;he=new Gg(3e4,De,Ee,Fe),Ve=Tb.objS,We=he,Ve&&Ve.tcnt==We.tcnt?(We.vx=Ve.vx,We.tx=Ve.tx,We.ix=Ve.ix,Ye=Za,Ye.bindBuffer(Ub,We.vx),Ye.bufferData(Ub,We.vxd,Od),Ye.bindBuffer(Ub,We.tx),Ye.bufferData(Ub,We.txd,Od),Ye.bindBuffer(Pd,We.ix),Ye.bufferData(Pd,We.ixd,Od)):(Ve&&Ve&&(Xe=Za,Xe.deleteBuffer(Ve.vx),Xe.deleteBuffer(Ve.tx),Xe.deleteBuffer(Ve.ix),Ve.vx=null,Ve.tx=null,Ve.ix=null,Ve.vxd=null,Ve.txd=null,Ve.ixd=null,Ve.tcnt=0),hf(We)),Tb.objS=he,Tb.objS_i=ke}if(Ze=Za,Ze.uniformMatrix4fv(gf,!1,Sd.mx),Ze.bindBuffer(Ub,he.vx),Ze.vertexAttribPointer(pe,3,de,!1,0,0),Ze.bindBuffer(Ub,he.tx),Ze.vertexAttribPointer(qe,2,de,!1,0,0),Ze.bindBuffer(Pd,he.ix),$e=null,$d&&(_e=60*$d.currentTime,af=_e!=$d._uf||f.android&&f.chrome&&0==$d.paused,Zd.isseeking&&0==Zd.iPhoneMode&&(af=!1),4>$d.readyState&&(af=!1,$d._uf=-1),af&&($d._uf=4>$d.readyState?-1:_e,f.ie&&f.desktop?(null==Dd&&(Dd=ja(2)),(Dd.width!=Sd.w||Dd.height!=Sd.h)&&(Dd.width=Sd.w,Dd.height=Sd.h),Dd.getContext("2d").drawImage($d,0,0,Sd.w,Sd.h),$e=Dd):$e=$d&&$d.paused&&5>(0|_e)&&Zd.posterDOM?Zd.posterDOM:$d)),Ze.activeTexture(Vd),Ze.bindTexture(ya,Td),$e)try{Ze.texImage2D(ya,0,rc,rc,Wd,$e),Sd.texvalid=!0}catch(bf){bf=""+bf,Zd&&Zd.error!=bf&&(Zd.error=bf,na(3,bf))}Sd.texvalid&&Ze.drawElements(lf,he.tcnt,mf,0)}cf=a.levels,0<cf.length&&(ie.progress=cf[0].loadedtiles/cf[0].totaltiles)},Ga.handleloading=function(){return dc?2:0},ze=[[-1,0,0,0,1,0,0,0,1],[0,0,1,0,1,0,1,0,0],[1,0,0,0,1,0,0,0,-1],[0,0,-1,0,1,0,-1,0,0],[0,0,1,-1,0,0,0,1,0],[0,0,1,1,0,0,0,-1,0]],kh=function(){function a(a,c,d){return a=C(a).charCodeAt(0),118==a?d:104==a?c:100==a?Math.sqrt(c*c+d*d):Math.max(c,d*b.mfovratio)}var e,c,d,g,b=this;b.haschanged=!1,c="hlookat vlookat camroll fov maxpixelzoom fisheye fisheyefovlink architectural tx ty tz".split(" "),d=[_[249],_[161]];for(e in c)fb(b,c[e],0);for(e in d)fb(b,d[e],!1);fb(b,_[390],"VFOV"),Lc(b,_[387],function(){return""+b._pannini},function(a){var c=Number(a),c=isNaN(c)?za(a)?1:0:0>c?0:c>1?1:c;b._pannini=c,b.haschanged=!0}),Lc(b,_[250],function(){var a=b.hlookatmax,c=b.hlookatmin,d=M&&M.fovlimits;return isNaN(c)&&(c=d?d[0]:-180),isNaN(a)&&(a=d?d[1]:180),a-c},function(){}),Lc(b,_[252],function(){var a=b.vlookatmax,c=b.vlookatmin,d=M&&M.fovlimits;return isNaN(c)&&(c=d?d[2]:-90),isNaN(a)&&(a=d?d[3]:90),a-c},function(){}),b.defaults=function(){b._hlookat=0,b._vlookat=0,b._architectural=0,b._architecturalonlymiddle=!1,b._fov=90,b._fovtype=f.desktop?"VFOV":"MFOV",b._camroll=0,b.mfovratio=4/3,b._maxpixelzoom=Number.NaN,b._stereographic=!0,b._pannini=0,b._fisheye=0,b._fisheyefovlink=.5,b.fovmin=1,b.fovmax=179,b.r_zoom=1,b.r_yoff=0,b.r_zoff=0,b.haschanged=!1,b.limitview="auto",b.hlookatmin=Number.NaN,b.hlookatmax=Number.NaN,b.vlookatmin=Number.NaN,b.vlookatmax=Number.NaN,b.continuousupdates=!1,b._limits=null},b.inverseProject=function(a,c){var d,e,f,g,h,i,j,k;return f=-1e3,h=f/b.r_zoom,d=(a-Pa/2)*h,e=(c-ia/2-b.r_yoff)*h,h=1/Math.sqrt(d*d+e*e+f*f),d*=h,e*=h,f*=h,g=b.r_zoff,g>0&&(0==b._stereographic&&(k=Math.atan(1e3/g)/U-1,(1>-f?Math.acos(-f)/U:0)>k)&&(i=-e,j=d,h=i*i+j*j,h>0&&(h=1/Math.sqrt(h),i*=h,j*=h),k*=U,h=Math.sin(k),d=h*j,e=-h*i,f=-Math.cos(k)),i=g*f,j=i*i-(g*g-1e6),j>0&&(h=-i+Math.sqrt(j),d*=h,e*=h,f=f*h- -g,h=1/Math.sqrt(d*d+e*e+f*f),d*=h,e*=h,f*=h)),g=new xc,g.x=d,g.y=e,g.z=f,g},g=b.fovRemap=function(b,c,d,e,f){return e||(e=Pa),f||(f=ia),b=Math.tan(b/360*Va),c=a(c,e,f),d=a(d,e,f),b=360*Math.atan(b*d/c)/Va},b.screentosphere=function(a,c){var d=new xc,e=b.inverseProject(a*P,c*P),f=He(b.r_rmatrix);return Mc(f,e),e=e.to_euler_xyz(),e.x*=-1,e.y+=90,180<e.y&&(e.y-=360),d.x=e.y,d.y=e.x,d.z=0,d},b.spheretoscreen=function(a,c){var d=new xc,e=(180-a)*U,f=c*U;return d.x=1e3*Math.cos(f)*Math.cos(e),d.z=1e3*Math.cos(f)*Math.sin(e),d.y=1e3*Math.sin(f),Mc(b.r_rmatrix,d),e=d.z+b.r_zoff,e>=10?(e=b.r_zoom/e,d.x=(d.x*e+.5*Pa)/P,d.y=(d.y*e+.5*ia)/P+b.r_yoff):(d.x=kd,d.y=kd),d},b.updateView=function(){var c,d,e,h,i,j,k,l,m,n,o,q,r,s,t,u,v,w,x,y,z,a=b._maxpixelzoom;switch(isNaN(a)||0==a||(c=1e-6,M&&M.ready&&(d=M.vres,e=M.vfov,0==M.type&&(d=.5*d*Math.PI),d>50&&e>0&&(c=Pa,h=ia,a=360/Math.PI*Math.atan(Math.tan(2*Math.atan(1/(2/Math.PI*d*a/(e/180)/(.5*c))))/(c/h)),(isNaN(a)||1e-4>a)&&(a=b.fovmax),a>90&&(a=90),c=g(a,"VFOV",b._fovtype))),b.fovmin=c),e=b._fov,c=b._hlookat,h=b._vlookat,a=b._camroll,i=f.webgl?b._fisheye:0,j=b._fisheyefovlink,k=b._stereographic,d=0,l=0==aa.bouncinglimits||0==va.isBouncing(),l&&(e<b.fovmin&&(e=b.fovmin),e>b.fovmax&&(e=b.fovmax)),e>179&&(e=179),i>0&&(m=g(e,b._fovtype,"VFOV"),k?(e>170&&(e=170),d=1e3*i*Math.sin(.5*Math.pow(Math.min(m/130,1),2*j)*Va),d>1e3&&(d=1e3)):(i+=Math.pow(Math.min(i,1),10)/10,d=i*Math.sin(.5*Math.pow(m/180,j)*Va),d=3e3*d*d)),n=C(b.limitview),o=M&&M.fovlimits,q=0,r=0,s=0,j=Number(b.hlookatmin),m=Number(b.hlookatmax),t=Number(b.vlookatmin),u=Number(b.vlookatmax),"auto"==n&&(j=m=t=u=Number.NaN),isNaN(j)&&(j=o?o[0]:-180),isNaN(m)&&(m=o?o[1]:180),isNaN(t)&&(t=o?o[2]:-90),isNaN(u)&&(u=o?o[3]:90),"auto"==n&&(p.hlookatmin=j,p.hlookatmax=m,p.vlookatmin=t,p.vlookatmax=u,n="range"),t>u&&(o=t,t=u,u=o),j>m&&(o=j,j=m,m=o),v=!1,w=!1,x=_[117]!=n,y=!0,y=180,o=m-j,z=u-t,n){case"off":case _[18]:o=360,j=-180,m=180,t=-1e5,u=1e5,x=!1;break;case _[338]:x=!0;case _[117]:w=!0;case"range":((v=360>o)||180>z)&&(s=g(e,b._fovtype,"HFOV"),s>o&&(y=!0,w&&g(o,"HFOV","VFOV")<z&&(y=v=!1),s=o,x&&y&&(e=g(s,"HFOV",b._fovtype))),q=g(e,b._fovtype,"VFOV"),q>z&&(y=!0,w&&g(z,"VFOV","HFOV")<o&&(y=v=!1),q=z,x&&y&&(e=g(q,"VFOV",b._fovtype))),g(e,b._fovtype,"HFOV"),y=q,r=q*=.5,s*=.5,-89.9>=t&&(q=0),u>=89.9&&(r=0))}n=[360,-180,180,q+r,t+q,u-r],l&&(t>h-q?(h=t+q,va.stopFrictions(2)):h+r>u&&(h=u-r,va.stopFrictions(2))),v&&(s=-h*U,r=.5*Pa,q=.5*ia,t=q/Math.tan(.5*y*U),s>0&&(q=-q),r=1/Math.sqrt(1+(r*r+q*q)/(t*t)),q=q/t*r,t=Math.acos(-r*Math.sin(s)+q*Math.cos(s))-Va/2,isNaN(t)&&(t=-Va/2),r=Math.acos((r*Math.cos(s)+q*Math.sin(s))/Math.sin(t+Va/2)),isNaN(r)&&(r=0),s=180*r/Va,2*s>=o&&(x&&(s=g(o,"HFOV",b._fovtype),e>s&&(e=s)),s=o/2)),360>o&&(x=!1,n[0]=o,n[1]=j+s,n[2]=m-s,l&&(j>c-s?(c=j+s,x=!0):c+s>m&&(c=m-s,x=!0)),x&&(va.stopFrictions(1),0!=wa.currentmovingspeed&&(wa.currentmovingspeed=0,wa.speed*=-1))),b._limits=n,b._fov=e,b._hlookat=c,b._vlookat=h,e=g(e,b._fovtype,"MFOV"),i>0&&0==k?(m=g(e,"MFOV","VFOV"),i=Math.asin(1e3*Math.sin(.5*m*U)/(1e3+.72*d)),i=.5*ia/Math.tan(i)):i=.5*Ud/Math.tan(e/114.591559),b.hfov=g(e,"MFOV","HFOV"),b.vfov=g(e,"MFOV","VFOV"),b.r_fov=e,b.r_zoom=i,b.r_zoff=d,b.r_vlookat=h,k=Number(b._architectural),l=0,k>0&&(0==b._architecturalonlymiddle&&(l=Math.abs(h/90),l>1&&(l=1),l=Math.tan(.25*l*Va),k*=1-l),l=k*(-h*(ia/Math.tan(g(e,"MFOV","VFOV")/114.591559))/90),l=Math.floor(1e6*l)/1e6,h*=1-k),b.r_yoff=l,b.r_rmatrix=yf(c-90,-h,a),c=Math.floor(1e6*c)/1e6,h=Math.floor(1e6*h)/1e6,a=Math.floor(1e6*a)/1e6,b.r_hlookat=c,b.r_vlookatA=h,b.r_roll=a,e=0==f.realDesktop&&f.ios&&5>f.iosversion||f.androidstock||Cf?"":"px",lc=0==f.simulator&&(f.iphone||f.ipad)?.25:1,f.ie&&(lc=10*(p.r_zoom/1e3)),(f.androidstock||f.android&&f.chrome||f.blackberry)&&(lc=p.r_zoom/1e3/4),Af=_[253]+i+e+_[105]+-a+_[83]+(i-lc*(d/2))+"px) ",b.haschanged=!1},b.getState=function(){return{h:b._hlookat,v:b.r_vlookatA,z:b.r_zoom,r:b._camroll,zf:b.r_zoff,yf:b.r_yoff,ch:b._pannini,vr:null,mx:null}},b.defaults()},lh=function(){var a=this;a.defaults=function(){a.usercontrol="all",a.mousetype=_[40],a.touchtype=_[451],a.mouseaccelerate=1,a.mousespeed=10,a.mousefriction=.8,a.mouseyfriction=1,a.mousefovchange=1,a.keybaccelerate=.5,a.keybspeed=10,a.keybfriction=.9,a.keybfovchange=.75,a.keybinvert=!1,a.fovspeed=3,a.fovfriction=.9,a.camrollreset=!0,a.keycodesleft="37",a.keycodesright="39",a.keycodesup="38",a.keycodesdown="40",a.keycodesin="",a.keycodesout="",a.touchfriction=.87,a.touchzoom=!0,a.zoomtocursor=!1,a.zoomoutcursor=!0,a.disablewheel=!1,a.bouncinglimits=!1,a.preventTouchEvents=!0},a.defaults()},mh=function(){var a=this;a.haschanged=!1,a.mode=_[43],a.pixelx=0,a.pixely=0,a.pixelwidth=0,a.pixelheight=0,fb(a,_[43],_[60]),fb(a,"x","0"),fb(a,"y","0"),fb(a,_[41],"100%"),fb(a,_[26],"100%"),fb(a,"left","0"),fb(a,"top","0"),fb(a,_[3],"0"),fb(a,_[2],"0"),a.calc=function(b,c){var d=1/P,e=_[67]==C(a.mode),f=e?a._left:a._x,g=e?a._top:a._y,h=e?a._right:a._width,i=e?a._bottom:a._height,f=0<f.indexOf("%")?parseFloat(f)/100*b*d:Number(f),h=0<h.indexOf("%")?parseFloat(h)/100*b*d:Number(h),g=0<g.indexOf("%")?parseFloat(g)/100*c*d:Number(g),i=0<i.indexOf("%")?parseFloat(i)/100*c*d:Number(i),f=f/d,g=g/d,h=h/d,i=i/d;return e?(h=b-f-h,i=c-g-i):(e=C(a._align),0<=e.indexOf("left")||(f=0<=e.indexOf(_[3])?b-h-f:(b-h)/2+f),0<=e.indexOf("top")||(g=0<=e.indexOf(_[2])?c-i-g:(c-i)/2+g)),a.pixelx=Math.round(f*d),a.pixely=Math.round(g*d),e=!1,f=Math.round(h),h=Math.round(i),(Pa!=f||ia!=h)&&(e=!0,Pa=f,ia=h),a.pixelwidth=f*d,a.pixelheight=h*d,a.haschanged=!1,e}},Gd=function(){function a(){var a=Number(h._alpha);_[1]==h._type&&(a*=yc),h.sprite&&(h.sprite.style.opacity=a),h._poly&&(h._poly.style.opacity=a),h._autoalpha&&(a=a>0,a!=h._visible&&(h.visible=a))}function b(){if(h.sprite&&null!=h._zorder){var a=parseInt(h._zorder);!isNaN(a)&&a>=0?(h.sprite.style.zIndex=D+a,h._zdeep=a,h._deepscale=100/(200+a)):(h._zdeep=0,h._deepscale=.5)}}function c(){h.sprite&&(h.sprite.style.overflow=h._maskchildren?_[5]:_[16],w&&f.safari&&m())
}function d(a,b){var c,e,f,g;if(b&&(b=a._enabled)&&_[14]==a.type&&(b=0!=a.bgcapture),a._enabledstate=1*b+2*a._handcursor,c=a.sprite.style,c.cursor=b&&a._handcursor?_[24]:_[7],c.pointerEvents=b?"auto":"none",0==b&&a.hovering&&(a.hovering=!1),c=a._childs)for(f=c.length,e=0;f>e;e++)(g=c[e])&&g.sprite&&d(g,b)}function e(){if(h.sprite){var a=h._enabled;if(w&&(a&=h.bgcapture),a&&h._parent)a:{for(a=j(h._parent);a;){if(0==a._enabled||0==a.children){a=!1;break a}if(!a._parent)break;a=j(a._parent)}a=!0}1*a+2*h._handcursor!=h._enabledstate&&d(h,a)}}function j(a){var c,d,b=null;if(a){if(b=a=C(a),c=La,d=a.indexOf("["),d>0&&(b=a.slice(0,d),_[1]==b&&(c=Ha),a=a.slice(d+1,a.indexOf("]"))),"stage"==b)return null==ab.sprite&&(ab.sprite=G.viewerlayer,ab.loaded=!0),ab;if(_[397]==b)return null==cb.sprite&&(a=ja(),b=a.style,b.position=_[0],b.width="100%",b.height="100%",b.overflow=_[5],b.zIndex="0",b.pointerEvents="none",G.controllayer.parentNode.insertBefore(a,G.controllayer),cb.sprite=a,cb.loaded=!0),cb;b=c.getItem(a)}return b}function g(a){var b,c,d,f;if(h._parent!=a){if(h._parent&&(b=j(h._parent),b&&(c=b._childs))){for(f=c.length,d=0;f>d;d++)if(c[d]===h){c.splice(d,1),f--;break}0==f&&(c=null),b._childs=c,b.poschanged=!0}a&&((b=j(a))?b.sprite?(null==b._childs&&(b._childs=[]),b._use_css_scale=!1,h._use_css_scale=!1,b._childs.push(h),b.sprite.appendChild(h.sprite),b.poschanged=!0):setTimeout(function(){h._parent=null,g(a)},16):a=null),null==a&&G.pluginlayer.appendChild(h.sprite),h._parent=a,h.poschanged=!0,e()}}function p(){var a=this.kobject;a&&0==K&&(a=a.url,0<C(a).indexOf(".swf")?na(2,h._type+"["+h.name+_[76]+vc(a)):na(3,h._type+"["+h.name+_[82]+a))}function l(a){H&&(va.trackTouch(a),V(B,a.type,l,!0),_[4]==a.type?(Q.body.style.webkitUserSelect=Q.body.style.backupUserSelect,V(B,_[10],r,!0),V(B,_[4],l,!0)):(V(B,f.browser.events.touchmove,r,!0),V(B,f.browser.events.touchend,l,!0)),H.pressed)&&(H.pressed=!1,(H._ondowncrop||H._onovercrop)&&(H.hovering&&H._onovercrop?u(H,H._onovercrop):u(H,H._crop)),$.callaction(H.onup,H),x||$.blocked||$.callaction(H.onclick,H))}function r(a,b){var c=a.changedTouches&&0<a.changedTouches.length?a.changedTouches[0]:a,d=c.pageX,c=c.pageY;!0===b?F=[d,c]:F?0==x&&(d-=F[0],c-=F[1],Math.sqrt(d*d+c*c)>=(f.touchdevice?11:4))&&(x=!0):(F=null,V(B,a.type,r,!0))}function n(a,b){var e,g,i,c=0|a.timeStamp,d=!0;switch(a.type){case _[28]:case _[8]:case _[13]:for(1==b&&(c=_[14]==H.type,k(H)&&(!c||c&&H.bgcapture)&&H._handcursor)&&(h.sprite.style.cursor=_[24]),c=H.sprite,d=0;c&&(e=c.kobject,e);){if(g=e._enabled,0==f.pointerEvents&&(g=k(e)),0==g||d>0&&0==e.children)return;d++,c=c.parentNode}for(d=H.sprite;d&&(e=d.kobject);)e.enabled&&0==e.hovering&&(e.hovering=!0,0==e.pressed&&e._onovercrop&&u(e,e._onovercrop),$.blocked||$.callaction(e.onover,e)),d=d.parentNode;break;case _[29]:case _[9]:case _[15]:for(c=(d=a.relatedTarget)?d.kobject:null;d&&null==c&&(d=d.parentNode);)c=d.kobject;for(d=H.sprite;d&&(e=d.kobject);){for(g=!1,i=c;i;){if(e==i){g=!0;break}if(!i.sprite||!i.sprite.parentNode)break;i=i.sprite.parentNode.kobject}if(0!=g)break;1==e.hovering&&(e.hovering=!1,0==e.pressed&&e._onovercrop&&u(e,e._crop),$.callaction(e.onout,e)),d=d.parentNode}break;case _[6]:if(c>500&&500>c-rb){rb=0;break}(d=0==(0|a.button))&&(Q.body.style.backupUserSelect=Q.body.style.webkitUserSelect,Q.body.style.webkitUserSelect="none",r(a,!0),O(B,_[4],l,!0),O(B,_[10],r,!0),x=!1,H.pressed=!0,H._ondowncrop&&u(H,H._ondowncrop),$.blocked||$.callaction(H.ondown,H));break;case f.browser.events.touchstart:if(rb=c,va.trackTouch(a),va.isMultiTouch())break;x=!1,(d=0==(0|a.button))&&(r(a,!0),O(B,f.browser.events.touchend,l,!0),O(B,f.browser.events.touchmove,r,!0),H.pressed=!0,H._ondowncrop&&u(H,H._ondowncrop),$.blocked||$.callaction(H.ondown,H))}}function q(a,b){if(a===b)return!1;for(;b&&b!==a;)b=b.parentNode;return b===a}function k(a){if(a._enabled){for(a=a.sprite;a;)if((a=a.parentNode)&&a.kobject&&0==a.kobject._enabled)return!1;return!0}return!1}function v(a){var b,c,d,g,j,l,i,m,o;if(sb=Ea(),b=a.type,(_[6]!=b&&b!=f.browser.events.touchstart||!$.isblocked())&&(c=a.target.kobject,_[28]==b?b=_[8]:_[29]==b&&(b=_[9]),null==c&&(c=h),(_[8]!=b&&_[9]!=b||4==a.pointerType||_[17]==a.pointerType)&&c)){if(c=a.timeStamp,d=h._eP,c!=h._eT&&(d=0),_[13]==b||_[8]==b){if(g=a.relatedTarget,this===g||q(this,g))return}else if((_[15]==b||_[9]==b)&&(g=a.relatedTarget,this===g||q(this,g)))return;if(0==c&&(_[13]==b&&0==h.hovering?d=0:_[15]==b&&1==h.hovering&&(d=0)),b=h._enabled,0==f.pointerEvents&&(b=k(h)),b&&(!w||w&&h.bgcapture))0==h.children&&a.stopPropagation(),0==d&&(0==h.children&&1==a.eventPhase||2<=a.eventPhase)&&(d=1,h.jsplugin&&h.jsplugin.hittest&&(b=G.getMousePos(a.changedTouches?a.changedTouches[0]:a,h.sprite),h.jsplugin.hittest(b.x*h.imagewidth/h.pixelwidth,b.y*h.imageheight/h.pixelheight)||(d=2)),1==d&&(H=h,n(a),h.capture&&((null==h.jsplugin||!q(G.controllayer,h.sprite))&&0==(a.target&&"A"==a.target.nodeName)&&la(a),a.stopPropagation())));else if(0==f.pointerEvents&&Q.msElementsFromPoint&&0==d&&2==a.eventPhase&&(g=a.type,b=_[4]==g||_[15]==g||_[29]==g||_[9]==g||g==f.browser.events.touchend,_[6]==g||_[13]==g||_[28]==g||_[8]==g||g==f.browser.events.touchstart||b)&&(g=Q.msElementsFromPoint(a.clientX,a.clientY))){for(i=[],m=null,m=null,j=0;j<g.length&&(m=g[j],m=m.kobject);j++)i.push(m);if(b&&e(),b&&Y)for(j=0;j<Y.length;j++){for(m=Y[j],o=!1,l=0;l<i.length;l++)i[l]===m&&(o=!0);0==o&&(d=1,H=m,n(a,!0),m.capture&&(null==h.jsplugin&&la(a),a.stopPropagation()))}for(j=0;j<g.length&&(m=g[j],m=m.kobject);j++)if(l=_[14]==m.type,(1==(k(m)&&(!l||l&&m.bgcapture))||b)&&(d=1,H=m,n(a,!0),m.capture)){null==h.jsplugin&&la(a),a.stopPropagation();break}Y=i}h._eT=c,h._eP=d}}function m(){var b,c,d,e,g,i,j,l,m,k,n,o,p,a=h.sprite;if(a){if(a=a.style,b=Number(h._bgcolor),c=Number(h._bgalpha),d=P,isNaN(b)&&(b=0),isNaN(c)&&(c=0),e=(""+h._bgborder).split(" "),g=kc(e[0],d,","),i=0|e[1],e=Number(e[2]),isNaN(e)&&(e=1),(g[0]!=y[0]||g[3]!=y[3])&&(y=g,h.poschanged=!0),0==c?a.background="none":a.backgroundColor=ma(b,c),b=kc(h.bgroundedge,d*h._scale," "),c="",j=h.bgshadow,j)for(k=(""+j).split(","),m=k.length,l=0;m>l;l++)n=ca(k[l]).split(" "),o=n.length,o>4&&(p=o>5?1:0,""!=c&&(c+=", "),c+=n[0]*d+"px "+n[1]*d+"px "+n[2]*d+"px "+(p?n[3]*d:0)+"px "+ma(0|n[3+p],n[4+p])+(o>6?" "+n[6]:""));(f.safari||f.ios)&&(a.webkitMaskImage=h._maskchildren&&!j&&0<b[0]+b[1]+b[2]+b[3]?_[147]:""),a[gd]=c,a.borderStyle="solid",a.borderColor=ma(i,e),a.borderWidth=g.join("px ")+"px",a.borderRadius=b.join("px ")+"px"}}function u(a,b){var c=0,d=0,e=a.loader;e&&(c=e.naturalWidth,d=e.naturalHeight),b&&(b=String(b).split("|"),4==b.length&&(c=b[2],d=b[3])),null==a.jsplugin&&0==a._isNE()&&(a.imagewidth=c,a.imageheight=d,e=a._gOSF(),1&e&&(a._width=String(c)),2&e&&(a._height=String(d))),a.updatepos()}var x,K,w,y,D,I,M,E,L,J,A,F,H,Y,W,h=this;for(h.prototype=hc,h._id=null,h._class=null,this.prototype.call(this),h._type=_[25],h.layer=h.plugin=new nb(Gd),h.createvar=function(a,b,c){var d="_"+a;h[d]=void 0===b?null:b,h.__defineGetter__(a,function(){return h[d]}),void 0!==c?h.__defineSetter__(a,function(a){h[d]=a,c()}):h.__defineSetter__(a,function(a){h[d]=a,h.poschanged=!0})},x=!1,K=!1,w=!1,y=[0,0,0,0],D=0,I=3,M=!1,h._isNE=function(){return K},h._gOSF=function(){return I},h.haveUserWidth=function(){return 0==(1&I)},h.haveUserHeight=function(){return 0==(2&I)},h.sprite=null,h.loader=null,h.jsplugin=null,h._use_css_scale=!1,h._finalxscale=1,h._finalyscale=1,h._hszscale=1,h._eT=0,h._eP=0,h._pCD=!1,h.__defineGetter__("type",function(){return _[51]==h.url?_[14]:_[69]}),h.__defineSetter__("type",function(a){_[14]==C(a)&&(h.url=_[51])}),h.imagewidth=0,h.imageheight=0,h.pixelwidth=0,h.pixelheight=0,h._pxw=0,h._pxh=0,h.pressed=!1,h.hovering=!1,h.loading=!1,h.loaded=!1,h.loadedurl=null,h.loadingurl=null,h.preload=!1,h._ispreload=!1,h.keep=!1,h.poschanged=!1,h.style=null,h.capture=!0,h.children=!0,h.pixelx=0,h.pixely=0,h._deepscale=.5,h._zdeep=0,h.accuracy=0,h._dyn=!1,h.onloaded=null,h.altonloaded=null,h.maxwidth=0,h.minwidth=0,h.maxheight=0,h.minheight=0,h.onover=null,h.onhover=null,h.onout=null,h.onclick=null,h.ondown=null,h.onup=null,h.onloaded=null,E=h.createvar,L=function(a,b){var c="_"+a;h[c]=null,h.__defineGetter__(a,function(){return h[c]}),h.__defineSetter__(a,b)},E("id",null),E("class",null),E(_[421],!0,e),E(_[306],!0,e),E(_[256],!1,c),E(_[378],null,function(){var a=h._jsborder;0>=parseInt(a)&&(h._jsborder=a=null),h.sprite&&(h.sprite.style.border=a),null!=a&&(h._use_css_scale=!1)}),E(_[446],null,function(){if(null!=h.sprite){var a=h._alturl;h._alturl=null,h.url=a}}),E("url",null,function(){(""==h._url||"null"==h._url)&&(h._url=null),null!=h._url?h.reloadurl():(h.jsplugin&&h.jsplugin.unloadplugin&&h.jsplugin.unloadplugin(),h.jsplugin=null,h.loadedurl=null,h.loadingurl=null,h.loading=!1,h.loaded=!1)}),E("scale",1,function(){h.poschanged=!0,w&&m()}),E(_[239],!1,function(){M=!0}),E(_[448],0),E("alpha",1,a),E(_[329],!1,a),E(_[454],null,b),L(_[16],function(a){if(a=za(a),h._visible!=a&&(h._visible=a,h._poly&&(h._poly.style.visibility=a?_[16]:_[5]),h.sprite)){var b=!0;h.jsplugin&&h.jsplugin.onvisibilitychanged&&(b=!0!==h.jsplugin.onvisibilitychanged(a)),b&&(0==a?h.sprite.style.display="none":h.poschanged=!0)}}),h._visible=!0,E("crop",null,function(){u(h,h._crop)}),h._childs=null,h._parent=null,h.__defineGetter__(_[125],function(){return h._parent}),h.__defineSetter__(_[125],function(a){(null==a||""==a||"null"==C(a))&&(a=null),h.sprite?g(a):h._parent=a}),J=[_[43],"edge",_[311],_[313]],A=0;A<J.length;A++)E(J[A]);L(_[41],function(a){0==0*parseFloat(a)?I&=2:a&&"prop"==a.toLowerCase()?(a="prop",I&=2):(a=null,I|=1),h._width=a,h.poschanged=!0}),L(_[26],function(a){0==0*parseFloat(a)?I&=1:a&&"prop"==a.toLowerCase()?(a="prop",I&=1):(a=null,I|=2),h._height=a,h.poschanged=!0}),L("x",function(a){0!=0*parseFloat(a)&&(a=null),h._x=a,h.poschanged=!0}),L("y",function(a){0!=0*parseFloat(a)&&(a=null),h._y=a,h.poschanged=!0}),L("ox",function(a){0!=0*parseFloat(a)&&(a=null),h._ox=a,h.poschanged=!0}),L("oy",function(a){0!=0*parseFloat(a)&&(a=null),h._oy=a,h.poschanged=!0}),h.loadstyle=function(a){var b,c,d,e,f,g;if(null==a&&(a=h.style),a)for(h.style=a,a=a.split("|"),c=a.length,b=0;c>b;b++)if(d=N(_[453]+a[b]+"]"))for(e in d)f=C(e),"name"!=f&&"index"!=f&&"_type"!=f&&(g=d[e],_[11]!==typeof g&&(h[f]=_[61]==typeof h[f]?za(g):g))},h.getmouse=function(a){var b=0,c=0,c=G.controllayer,d=h.sprite,e=c.getBoundingClientRect(),f=d.getBoundingClientRect(),b=z.x-f.left-d.clientLeft+e.left+c.clientLeft,c=z.y-f.top-d.clientTop+e.top+c.clientTop;return a&&(b=b*h.imagewidth/h.pixelwidth,c=c*h.imageheight/h.pixelheight),{x:b,y:c}},h._assignEvents=function(a){va.touch&&(O(a,f.browser.events.touchstart,v,!0),O(a,f.browser.events.touchstart,v,!1)),va.mouse&&(O(a,_[6],v,!0),O(a,_[6],v,!1)),f.desktop&&(va.mouse||f.ie)&&(0==va.mouse&&f.ie?(O(a,f.browser.events.pointerover,v,!0),O(a,f.browser.events.pointerover,v,!1),O(a,f.browser.events.pointerout,v,!0),O(a,f.browser.events.pointerout,v,!1)):(O(a,_[13],v,!0),O(a,_[13],v,!1),O(a,_[15],v,!0),O(a,_[15],v,!1)))},h.create=function(){h._pCD=!0,h.alturl&&(h.url=h.alturl,h._alturl=null),h.altscale&&(h.scale=h.altscale,delete h.altscale);var d=h.sprite=ja(),f=h.loader=ja(1);null!=h._id&&(d.id=h._id),null!=h._class&&(d.className=h._class),d.kobject=h,f.kobject=h,d.style.display="none",d.style.position=_[0],D=_[25]==h._type?3001:2001,d.style.zIndex=D,c(),e(),a(),b(),h._jsborder&&(h.jsborder=h._jsborder),h._assignEvents(d),O(f,_[42],p,!0),O(f,"load",h.loadurl_done,!1),(d=h._parent)&&(h._parent=null,g(d)),null!=h._url&&h.reloadurl()},h.destroy=function(){var a,b,c;if(h.jsplugin&&h.jsplugin.unloadplugin&&h.jsplugin.unloadplugin(),h.jsplugin=null,h.loaded=!1,h._destroyed=!0,h.parent=null,a=h._childs){for(a=a.slice(),c=a.length,b=0;c>b;b++)a[b].parent=null;h._childs=null}},h.getfullpath=function(){return h._type+"["+h.name+"]"},h.changeorigin=function(){var d,e,f,g,i,k,l,m,n,o,a=arguments,b=null,c=null;0<a.length&&(d=null,e=0,f=0,g=0,i=0,k=P,l=Pa/k,m=ia/k,n=h._parent,n&&(n=j(n))&&(0==h._use_css_scale?(l=n._pxw*k,m=n._pxh*k):(l=n.imagewidth*k,m=n.imageheight*k)),k=h.imagewidth,n=h.imageheight,b=0,d=String(h._width),""!=d&&null!=d&&(0<d.indexOf("%")?k=parseFloat(d)/100*l:"prop"==d.toLowerCase()?b=1:k=d),d=String(h._height),""!=d&&null!=d&&(0<d.indexOf("%")?n=parseFloat(d)/100*m:"prop"==d.toLowerCase()?b=2:n=d),1==b?k=n*h.imagewidth/h.imageheight:2==b&&(n=k*h.imageheight/h.imagewidth),b=c=C(a[0]),1<a.length&&(c=C(a[1])),a=String(h._align),o=h._edge?C(h._edge):"null",("null"==o||_[452]==o)&&(o=a),(d=String(h._x))&&(e=0<d.indexOf("%")?parseFloat(d)/100*l:parseFloat(d)),isNaN(e)&&(e=0),(d=String(h._y))&&(f=0<d.indexOf("%")?parseFloat(d)/100*m:parseFloat(d)),isNaN(f)&&(f=0),(d=a)&&(g=0<=d.indexOf("left")?0+e:0<=d.indexOf(_[3])?l-e:l/2+e,i=0<=d.indexOf("top")?0+f:0<=d.indexOf(_[2])?m-f:m/2+f),1!=h._scale&&(k*=h._scale,n*=h._scale),g=0<=o.indexOf("left")?g+0:0<=o.indexOf(_[3])?g+-k:g+-k/2,i=0<=o.indexOf("top")?i+0:0<=o.indexOf(_[2])?i+-n:i+-n/2,d=a=0,a=0<=b.indexOf("left")?0+e:0<=b.indexOf(_[3])?l-e:l/2+e,d=0<=b.indexOf("top")?0+f:0<=b.indexOf(_[2])?m-f:m/2+f,a=0<=c.indexOf("left")?a+0:0<=c.indexOf(_[3])?a+-k:a+-k/2,d=0<=c.indexOf("top")?d+0:0<=c.indexOf(_[2])?d+-n:d+-n/2,h._align=b,h._edge=c,h._x=0<=b.indexOf(_[3])?String(e+a-g):String(e-a+g),h._y=0<=b.indexOf(_[2])?String(f+d-i):String(f-d+i))},h.resetsize=function(){h.loaded&&(h._width=String(h.imagewidth),h._height=String(h.imageheight),I=3,h.poschanged=!0)},h.registercontentsize=function(a,b){null!=a&&(h.imagewidth=Number(a),1&I&&(h._width=String(a))),null!=b&&(h.imageheight=Number(b),2&I&&(h._height=String(b))),h.poschanged=!0},F=null,H=null,Y=null,h.reloadurl=function(){var a,b,c;if(h.sprite){if(a=qa.parsePath(h.url),h.loading){if(h.loadingurl==a)return;h.loader.kobject=null,V(h.loader,_[42],p,!0),V(h.loader,"load",h.loadurl_done,!1),Nc(h),O(h.loader,_[42],p,!0),O(h.loader,"load",h.loadurl_done,!1)}h.loadedurl!=a&&(K=!1,h.loadedurl=null,_[51]==a?(w=K=!0,Nc(h),h.loadedurl=a,h.createvar(_[417],h.bgcolor?Number(h.bgcolor):0,m),h.createvar(_[391],h.bgalpha?Number(h.bgalpha):0,m),h.createvar(_[280],h.bgroundedge?h.bgroundedge:"0",m),h.createvar(_[381],h.bgborder?h.bgborder:"0",m),h.createvar(_[365],h.bgshadow?h.bgshadow:"",m),h.createvar(_[327],za(h.bgcapture),e),e(),m(),b={},b.ss=P,b.onresize=function(a,c){return a=h.pixelwidth,c=h.pixelheight,h.imagewidth=a/h.scale,h.imageheight=c/h.scale,b.ss!=P&&(b.ss=P,m()),M=!0,!1},h.jsplugin=b,h.loadurl_done()):0<=a.indexOf(_[236])?(K=!0,Nc(h),h.loadedurl=a,c=new nh,c.registerplugin(s,h.getfullpath(),h),h.jsplugin=c,0==h._dyn?(c.updatehtml(),h.loadurl_done()):setTimeout(function(){c.updatehtml(),h.loadurl_done()},7)):0<=a.indexOf(".js")?(K=!0,Nc(h),h.loading=!0,h.loaded=!1,h.loadingurl=a,qa.loadfile2(a,_[88],function(b){if(h.loading=!1,h.loaded=!0,h.loadedurl=a,b=b.data,null!=b){var c='the file "'+a+'" is not a krpano plugin!';try{eval(b+";")}catch(d){c='parsing "'+a+'" failed: '+d}_[11]==typeof krpanoplugin?(b=new krpanoplugin,b.registerplugin(s,h.getfullpath(),h),h._nativeelement=!0,h.jsplugin=b,h.loadurl_done()):na(3,c)}})):C(a).indexOf(".swf")==a.length-4?na(2,h._type+"["+h.name+_[76]+vc(a)):h.loader.src!=a&&(h.loaded&&h.preload&&(h._ispreload=!0,h.preload=!1,h.onloaded=null),qa.DMcheck(a)?(h.loading=!0,h.loaded=!1,h.loadingurl=a,h.loader.src=a):(h.loading=!1,na(3,h._type+"["+h.name+_[82]+a))))}},h.loadurl_done=function(){1!=h._destroyed&&(0==K&&(h.sprite.style.backgroundImage='url("'+h.loader.src+'")'),u(h,h._crop),h.loading=!1,M=h.loaded=!0,0==K&&(h.loadedurl=h.loadingurl),h.poschanged=!0,0==(f.iphone&&f.retina&&7>f.iosversion)&&null==h.jsborder&&0==K&&null==h.parent&&null==h._childs&&(h._use_css_scale=!0),0==h.preload&&0==h._ispreload&&(h._busyonloaded=$.busy||$.blocked,h._busyonloaded&&$.callaction(_[160],h,!0)),$.callaction(null!=h.altonloaded?h.altonloaded:h.onloaded,h,!0))},W=null,h.updatepluginpos=h.updatepos=function(){var b,c,d,e,g,i,k,l,m,n,o,p,q,r,s,t,u,v,w,x,z,A,C,D,E,F,J,G,H,I,Q,R,L,N,O,a=_[1]==h._type;if(h.poschanged=!1,b=h.sprite,c=h.loader,b&&(c||0!=K)){if(K&&(c=null),d=h._align,e=h._scale,d||(d=_[60]),g=h._use_css_scale,i=h.imagewidth,k=h.imageheight,l=!1,m=h._crop,h.pressed&&h._ondowncrop?m=h._ondowncrop:h.hovering&&h._onovercrop&&(m=h._onovercrop),m&&(m=String(m).split("|"),4==m.length?(m[0]|=0,m[1]|=0,m[2]|=0,m[3]|=0):m=null),n=h.scale9grid,n&&(n=String(n).split("|"),4<=n.length?(n[0]|=0,n[1]|=0,n[2]|=0,n[3]|=0,g=h._use_css_scale=!1,h._scalechildren=!1):n=null),o=P,p=Pa,q=ia,a&&h.distorted&&(o=1,p=q=1e3),r=1,s=1,t=h._parent,u=!0,t&&(v=j(t),v?(v.poschanged&&v.updatepos(),0==g?(p=v._pxw*o,q=v._pxh*o):(p=v.imagewidth*o,q=v.imageheight*o),v._scalechildren?(r=0!=v.imagewidth?p/o/v.imagewidth:1,s=0!=v.imageheight?q/o/v.imageheight:1):(r*=v._finalxscale,s*=v._finalyscale),0==v.loaded&&(u=!1,b.style.display="none")):na(3,'no parent "'+t+'" found')),w=h._width,x=h._height,z=h._x,A=h._y,t=h._ox,C=h._oy,isNaN(i)&&(i=0),isNaN(k)&&(k=0),w&&0<String(w).indexOf("%")?w=parseFloat(w)*(p/o)/(100*r):null==w&&(w=i),x&&0<String(x).indexOf("%")?x=parseFloat(x)*(q/o)/(100*s):null==x&&(x=k),D="prop"==w|("prop"==x)<<1,w=Number(w)*o,x=Number(x)*o,0>w&&(w=p/r+w,0>w&&(w=0)),0>x&&(x=q/s+x,0>x&&(x=0)),D&&(1&D?w=0!=k?Number(x)*i/k:0:x=0!=i?Number(w)*k/i:0),0<h.maxwidth&&w>o*h.maxwidth&&(w=o*h.maxwidth),0<h.minwidth&&w<o*h.minwidth&&(w=o*h.minwidth),0<h.maxheight&&x>o*h.maxheight&&(x=o*h.maxheight),0<h.minheight&&x<o*h.minheight&&(x=o*h.minheight),w=w*r*e,x=x*s*e,z&&0<String(z).indexOf("%")?z=parseFloat(z)*(p/o)/(100*r):null==z&&(z=0),A&&0<String(A).indexOf("%")?A=parseFloat(A)*(q/o)/(100*s):null==A&&(A=0),z=Number(z)*o*r,A=Number(A)*o*s,e=h._hszscale,t=t&&0<String(t).indexOf("%")?parseFloat(t)*w*e/100/o:null==t?0:t*r,C=C&&0<String(C).indexOf("%")?parseFloat(C)*x*e/100/o:null==C?0:C*s,t=Number(t)*o,C=Number(C)*o,0==h.accuracy&&!a&&(w=Math.round(w),x=Math.round(x)),e=0!=i?w/i:0,D=0!=k?x/k:0,E=w/o,F=x/o,(E!=h._pxw||F!=h._pxh)&&(h._pxw=E,h._pxh=F,h.pixelwidth=E/r,h.pixelheight=F/s,l=!0),this._scalechildren?(h._finalxscale=e,h._finalyscale=D):(h._finalxscale=r,h._finalyscale=s),g?(b.style.width=i+"px",b.style.height=k+"px"):(b.style.width=w+"px",b.style.height=x+"px"),n){if(F=n,G=w,H=x,I=m,m=h.sprite,k=h.loader,J=P,5==F.length&&(J*=Number(F[4])),c=k.naturalWidth,i=k.naturalHeight,null==I&&(I=[0,0,c,i]),k='url("'+k.src+'")',null==W)for(W=Array(9),r=0;9>r;r++)n=ja(),n.kobject=h,n.imgurl=null,n.style.position=_[0],n.style.overflow=_[5],W[r]=n,m.appendChild(n);for(r=[I[0]+0,I[0]+F[0],I[0]+F[0]+F[2],I[0]+I[2]],s=[I[1]+0,I[1]+F[1],I[1]+F[1]+F[3],I[1]+I[3]],E=[F[0],F[2],I[2]-F[0]-F[2]],F=[F[1],F[3],I[3]-F[1]-F[3]],G=[0|E[0]*J,G-(0|(E[0]+E[2])*J),0|E[2]*J],L=[0|F[0]*J,H-(0|(F[0]+F[2])*J),0|F[2]*J],N=[0,G[0],G[0]+G[1]],O=[0,L[0],L[0]+L[1]],I=0;3>I;I++)for(J=0;3>J;J++)n=W[3*I+J],H=n.style,Q=0!=E[J]?G[J]/E[J]:0,R=0!=F[I]?L[I]/F[I]:0,n.imgurl!=k&&(n.imgurl=k,H.backgroundImage=k),n=f.mac&&f.firefox?B.devicePixelRatio:1,H[Ne]=(0|c*Q*n)/n+"px "+(0|i*R*n)/n+"px",H.backgroundPosition=(0|-r[J]*Q*n)/n+"px "+(0|-s[I]*R*n)/n+"px",H.left=N[J]+"px",H.top=O[I]+"px",H.width=G[J]+"px",H.height=L[I]+"px";m.style.background="none"}else{if(W){try{for(i=0;9>i;i++)W[i].kobject=null,b.removeChild(W[i])}catch(S){}W=null,h.sprite&&h.loader&&(h.sprite.style.backgroundImage='url("'+h.loader.src+'")')}m?(i=-m[0],m=-m[1],g||(i*=e,m*=D),b.style.backgroundPosition=i+"px "+m+"px"):b.style.backgroundPosition="0 0",c&&(b.style[Ne]=0==g?c.naturalWidth*e+"px "+c.naturalHeight*D+"px":c.naturalWidth+"px "+c.naturalHeight+"px")}if(h.jsplugin&&h.jsplugin.onresize&&(h._pxw!=h.imagewidth||h._pxh!=h.imageheight)&&(m=[h.imagewidth,h.imageheight],h.imagewidth=h._pxw,h.imageheight=h._pxh,!0===h.jsplugin.onresize(h._pxw,h._pxh)&&(h.imagewidth=m[0],h.imageheight=m[1])),h._oxpix=t,h._oypix=C,k="",c=m=0,0==a&&(m=h._edge,(null==m||""==m)&&(m=d),a=i=0,i=0<=m.indexOf("left")?i+0:0<=m.indexOf(_[3])?i+-w:i+(0==h.accuracy?-(w>>1):-w/2),a=0<=m.indexOf("top")?a+0:0<=m.indexOf(_[2])?a+-x:a+(0==h.accuracy?-(x>>1):-x/2),m=0<=d.indexOf("left")?z+i:0<=d.indexOf(_[3])?p-z+i:p/2+z+i,c=0<=d.indexOf("top")?A+a:0<=d.indexOf(_[2])?q-A+a:q/2+A+a,h.pixelx=(m+t)/o,h.pixely=(c+C)/o,m-=y[3],c-=y[0],g&&(o=d=1,p=h.imagewidth/2,q=h.imageheight/2,A=z=0,v&&0==v._scalechildren&&(d/=v.pixelwidth/v.imagewidth,o/=v.pixelheight/v.imageheight,z=-i*(1-d),A=-a*(1-o)),k=_[54]+(-p+z)+"px,"+(-q+A)+_[316]+e*d+","+D*o+_[261]+p+"px,"+q+"px) "),0==h.accuracy&&(m=Math.round(m),c=Math.round(c)),v=w/2+i,x=x/2+a,g&&(0!=e&&(v/=e,t/=e),0!=D&&(x/=D,C/=D)),k=_[54]+m+"px,"+c+"px) "+k+_[54]+-v+"px,"+-x+_[279]+h._rotate+_[219]+(v+t)+"px,"+(x+C)+"px)",2>Gb&&!0!==f.opera&&!f.edge?k=_[157]+k:f.androidstock&&(k=_[168]+k),Ta?b.style[Ta]=k:(b.style.left=m+"px",b.style.top=c+"px"),g=h._visible&&u?"":"none",g!=b.style.display&&(b.style.display=g)),l||M){if(b=h._childs)for(l=b.length,i=0;l>i;i++)b[i].updatepos();M=!1}}}},nh=function(){function a(a,c,d,e){l.registerattribute(c,d,function(d){m[c]!=d&&(m[c]=d,null!=e?e(c,d):b(a))},function(){return m[c]})}function b(a){o|=a,l&&null==n&&(n=setTimeout(c,0))}function c(){if(n=null,l){var a=!1;2==o&&(a=i()),0==a&&j(),o=0}}function d(a){return a&&0==a.indexOf("data:")&&((a=N("data["+a.slice(5)+_[32]))||(a="")),a}function e(a){if(a&&a.parentNode)try{a.parentNode.removeChild(a)}catch(b){}}function g(a){a&&(a.style.left=_[115],a.style.visibility=_[5],G.viewerlayer.appendChild(a))}function h(a){a.ontouchend=function(){a.click()}}function i(){var b,c,d,e,f,g,h,i,j,k,l,n,a=!1;return B&&(b=B.childNodes[0],b&&(a=b.style,b=za(m.background),c=za(m.border),d=parseInt(m.backgroundcolor),e=parseFloat(m.backgroundalpha),isNaN(e)&&(e=1),f=parseFloat(m.borderwidth),isNaN(f)&&(f=1),g=m.bordercolor,g=g?parseInt(g):0,h=parseFloat(m.borderalpha),isNaN(h)&&(h=1),i=Number(m.shadow),isNaN(i)&&(i=0),j=Number(m.textshadow),isNaN(j)&&(j=0),k=1==Kd?.78:.8,l=m.shadowangle*U,n=m.textshadowangle*U,a.backgroundColor=b?ma(d,e):"",a.borderColor=c&&f>0?ma(g,e*h):"",a.borderRadius=0<t[0]+t[1]+t[2]+t[3]?t.join("px ")+"px":"",a[gd]=i>0?Math.round(i*Math.cos(l))+"px "+Math.round(i*Math.sin(l))+"px "+k*m.shadowrange+"px "+ma(m.shadowcolor,e*m.shadowalpha):"",a.textShadow=j>0?Math.round(j*Math.cos(n))+"px "+Math.round(j*Math.sin(n))+"px "+k*m.textshadowrange+"px "+ma(m.textshadowcolor,e*m.textshadowalpha):"",a=!0)),a}function j(){var a,b,c,e,j,t,w,z,E,F,H;if(l){if(n&&(clearTimeout(n),n=null),a=2==p||1==p&&0==l.haveUserWidth(),b=2==q||1==q&&0==l.haveUserHeight(),c=m.html,e=m.css,c=c?d(c):"",e=e?d(e):"",za(m.background),j=za(m.border),t=parseFloat(m.borderwidth),isNaN(t)&&(t=1),c=Jc(c),w=e.split("}").join("{").split("{"),1<w.length){for(z=[],e=1;e<w.length;e+=2)E=ca(w[e-1]),F=w[e],H="p"==C(E)?"div":E,c=c.split("<"+E).join("<"+H+_[364]+F+"' "),c=c.split("</"+E+">").join("</"+H+">"),z.push(w[e]);e=""}if(c=_[171]+s[0]+"px "+s[1]+"px "+s[2]+"px "+s[3]+"px;"+e+"'>"+c+_[65],1==m.vcenter&&0==b&&(c="<table style='width:100%;height:100%;border-collapse:collapse;text-decoration:inherit;'><tr style='vertical-align:middle;'><td style='padding:0;'>"+c+_[179]),c=c.split("<p").join(_[144]),c=c.split("</p>").join(_[65]),e=_[181],(1==a||0==za(m.wordwrap))&&(e+=_[170]),0==b&&(e+=_[260]),u=1,j&&t>0?(u=t*P,e+=_[406]+Math.ceil(t)+_[166]):u=0,0==a&&(e+=_[440]+l.imagewidth+_[173]),c=unescape(c),c='<div style="'+e+'">'+c+_[65],l.sprite.style.color=_[23],l.sprite.style[_[45]]="none",B&&B.parentNode==l.sprite&&(A=B,B=null),null==B&&(B=ja(),D=B.style,za(m.selectable)&&(D.webkitUserSelect=D.MozUserSelect=D.msUserSelect=D.oUserSelect=D.userSelect="text",D.cursor="text"),D.position=_[0],D.left=D.top=-u+"px",_[1]==l._type&&1==l._distorted?(D.width="100%",D.height="100%",D[Ta]=""):(D[je]="0 0",D[Ta]=_[130]+P+")",D.width=100/P+"%",D.height=100/P+"%"),D.fontSize="12px",D.fontFamily="Arial",D.lineHeight=_[37]),B.innerHTML=c,i(),(a=B.getElementsByTagName("a"))&&(b=a.length,b>0))for(e=0;b>e;e++)(c=a[e])&&(j=""+c.href,_[438]==j.toLowerCase().slice(0,6)&&(c.href=_[153]+G.viewerlayer.id+_[347]+j.slice(6).split("'").join('"')+"','"+l.getfullpath()+"');"),f.touch&&h(c));_[1]==l._type&&(l.forceupdate=!0,Yb(!0,l.index)),g(B),r=!1,l.loaded=!0,l.scalechildren=l.scalechildren,x=0,null==v&&(v=setTimeout(k,y)),o=0}}function k(){var a,b,c,d,f;if(v=null,r=!1,l&&B){if(a=2==p||1==p&&0==l.haveUserWidth(),b=2==q||1==q&&0==l.haveUserHeight(),w=!0,c=B&&B.parentNode==l.sprite,d=0,f=0,0==a&&0==b)f=l.imageheight,1>f&&(f=1);else{try{d=B.childNodes[0].clientWidth,f=B.childNodes[0].clientHeight,3>f&&(f=0)}catch(h){}if(1>f&&c&&B.parentNode&&1>B.parentNode.clientHeight)return g(B),x=0,null==v&&(v=setTimeout(k,y)),w=!1,void 0}f>0?(l._enabledstate=null,l.enabled=l._enabled,D.top=D.left=-u+"px",r=!0,A&&A.parentNode==l.sprite?(D.visibility=_[16],l.sprite.replaceChild(B,A),A=null):(e(A),A=null,D.visibility=_[16],l.sprite.appendChild(B)),0==a&&0==b||(d=a?Math.round(d):l.imagewidth,f=b?Math.round(f):l.imageheight,d==l._width&&f==l._height)||(a&&(l._width=d),b&&(l._height=f),l.poschanged=!0,_[1]==l._type?Yb(!0,l.index):l.updatepluginpos(),l.onautosized&&$.callaction(l.onautosized,l,!0))):(x++,10>x?null==v&&(v=setTimeout(k,2*y)):(A&&A.parentNode==l.sprite&&(l.sprite.replaceChild(B,A),A=null),l.height=0)),w=!1}}var l=null,m={},n=null,o=0,p=1,q=1,r=!1,s=[0,0,0,0],t=[0,0,0,0],u=1,v=null,w=!1,x=0,y=10,z=P,A=null,B=null,D=null;this.registerplugin=function(c,d,e){l=e,c=l.html,d=l.css,delete l.html,delete l.css,l._istextfield=!0,l.accuracy=0,l.registerattribute(_[346],"auto",function(a){p="auto"==C(a)?1:2*za(a),b(1)},function(){return 1==p?"auto":2==p?"true":_[18]}),l.registerattribute(_[301],"auto",function(a){q="auto"==C(a)?1:2*za(a),b(1)},function(){return 1==q?"auto":2==q?"true":_[18]}),a(1,_[419],!1),a(1,_[118],"2",function(a,c){kc(c,1," ",s),b(1)}),a(2,_[106],!0),a(2,_[215],1),a(2,_[214],16777215),a(1,_[67],!1),a(1,_[100],1),a(2,_[97],1),a(2,_[99],0),a(2,_[342],"0",function(a,c){kc(c,1," ",t),b(2)}),a(2,_[433],0),a(2,_[276],4),a(2,_[292],45),a(2,_[289],0),a(2,_[285],1),a(2,_[315],0),a(2,_[205],4),a(2,_[203],45),a(2,_[202],0),a(2,_[201],1),a(1,_[303],!1),a(1,_[382],!0),a(1,_[455],""),l.registerattribute("blur",0),l.registerattribute(_[384],0),l.registerattribute(_[385],null,function(a){null!=a&&""!=a&&"none"!=(""+a).toLowerCase()&&(q=2,b(1))},function(){return 2==q?_[135]:"none"}),l.registercontentsize(400,300),l.sprite.style.pointerEvents="none",a(1,"html",c?c:""),a(1,"css",d?d:"")},this.unloadplugin=function(){l&&(l.loaded=!1,v&&clearTimeout(v),n&&clearTimeout(n),e(A),e(B)),l=n=v=D=B=A=null},this.onvisibilitychanged=function(a){return a&&_[1]==l._type&&(l.forceupdate=!0,Yb(!0,l.index)),!1},this.onresize=function(a,b){if(z!=P)return z=P,kc(m.padding,1," ",s),kc(m.roundedge,1," ",t),j(),!1;if(w)return!1;if(l){var c=2==p||1==p&&0==l.haveUserWidth(),d=2==q||1==q&&0==l.haveUserHeight();l.registercontentsize(a,b),B&&(_[1]==l._type&&1==l._distorted?(D[Ta]="",D.width="100%",D.height="100%"):(D[Ta]=_[130]+P+")",D.width=100/P+"%",D.height=100/P+"%"),r&&(D.left=D.top=-u+"px"),0==c&&(B.childNodes[0].style.width=a+"px"),0==d&&(B.childNodes[0].style.height=b+"px"),c||d?(r=!1,c&&(l.sprite.style.width=0),d&&(l.sprite.style.height=0),x=0,null==v&&(v=setTimeout(k,y))):(0==c&&(D.width=a+2*u+"px"),0==d&&(D.height=b+"px")))}return!1},this.updatehtml=j},id=!1,yc=1,oh=function(){function a(){0==f.css3d&&b._distorted&&(b._distorted=!1,b.zoom=!0),b.poschanged=!0,b.jsplugin&&b.jsplugin.onresize&&(b.forceupdate=!0,b.imagewidth=b.imageheight=0),b.sprite&&(b._visible&&b.loaded&&Yb(!0,b.index),b.sprite.style[Ta+_[131]]=b._distorted?"0 0":_[392])}var c,d,b=this;b.prototype=Gd,this.prototype.call(this),b._type=_[1],c=b.createvar,c("ath",0),c("atv",0),c(_[457],0),c("zoom",!1),c("rx",0),c("ry",0),c("rz",0),c(_[352],!1,a),b.accuracy=1,b.zorder2=0,b.inverserotation=!1,b.forceupdate=!1,b.point=new nb(null),d=b.create,b.create=function(){function c(){zf(b)}d(),b.createvar(_[324],b.fillcolor?Number(b.fillcolor):11184810,c),b.createvar(_[331],b.fillalpha?Number(b.fillalpha):.5,c),b.createvar(_[100],b.borderwidth?Number(b.borderwidth):3,c),b.createvar(_[99],b.bordercolor?Number(b.bordercolor):11184810,c),b.createvar(_[97],b.borderalpha?Number(b.borderalpha):1,c),a()},b.updatepos=function(){b.poschanged=!0},b.getcenter=function(){var h,i,j,e,f,g,k,l,m,n,o,p,q,r,s,a=0,c=0,d=25;if(b._url)a=b._ath,c=b._atv,d=25*Number(b.scale);else{for(e=b.point.getArray(),f=0,g=e.length,k=5e4,l=-5e4,m=5e4,n=-5e4,o=5e4,p=-5e4,q=0,r=0,s=0,f=0;g>f;f++)i=e[f],h=Number(i.ath),j=Number(i.atv),i=0>h?h+360:h,k>h&&(k=h),h>l&&(l=h),m>i&&(m=i),i>n&&(n=i),o>j&&(o=j),j>p&&(p=j),h=(180-h)*U,j*=U,q+=Math.cos(j)*Math.cos(h),s+=Math.cos(j)*Math.sin(h),r+=Math.sin(j);g>0&&(q/=g,r/=g,s/=g,a=90+Math.atan2(q,s)/U,c=-Math.atan2(-r,Math.sqrt(q*q+s*s))/U,a>180&&(a-=360),h=l-k,j=p-o,h>170&&(h=n-m),d=h>j?h:j)}return 1>d?d=1:d>90&&(d=90),e=new xc,e.x=a,e.y=c,e.z=d,d=arguments,2==d.length&&(S(d[0],a,!1,this),S(d[1],c,!1,this)),e}},Af="",lc=1,ah="translate3D(;;px,;;px,0px) ;;rotateX(;;deg) rotateY(;;deg) rotateY(;;deg) rotateX(;;deg) scale3D(;;) translateZ(;;px) rotate(;;deg) translate(;;px,;;px) rotate;;deg) rotate;;deg) rotate;;deg) scale(;;,;;) translate(;;px,;;px)".split(";"),bh="translate(;;px,;;px) translate(;;px,;;px) rotate(;;deg) translate(;;px,;;px) scale(;;,;;) translate(;;px,;;px)".split(";"),ph=function(){this.fullscreen=f.fullscreensupport,this.touch=this.versioninfo=!0,this.customstyle=null,this.enterfs=_[310],this.exitfs=_[221],this.item=new nb(function(){this.visible=this.enabled=!0,this.caption=null,this.separator=!1,this.onclick=null})},Yg=function(){uf&&(vf(),Be(Yg))},uf=!0,vf=null,Zg=0,Be=B.requestAnimationFrame||B.webkitRequestAnimationFrame||B.mozRequestAnimationFrame||B.oRequestAnimationFrame||B.msRequestAnimationFrame,Fe={start:function(a){(!Be||f.ios||f.linux&&f.chrome)&&(Be=function(a){var b=(new Date).getTime(),c=Math.max(0,16.66-(b-Zg));B.setTimeout(a,c),Zg=b+c}),uf=!0,vf=a,Be(Yg)},stop:function(){uf=!1,vf=null}},jd.init=function(a){var b,c,h,d,e,g,i,j,k,l,q,r,m,n,o,t,u,v,w,x,y,D;jd.so=a,f.runDetection(a),(f.css3d||f.webgl)&&(Ta=f.browser.css.transform,Df=Ta+"Style",je=Ta+_[131]),Ne=f.browser.css.backgroundsize,gd=f.browser.css.boxshadow,b=f.webkit&&534>f.webkitversion,c=0,f.ios&&0==f.simulator?(Gb=0,5<=f.iosversion&&1!=Ke&&(Gb=1,c=f._cubeOverlap=4)):f.android?(Gb=2,f._cubeOverlap=0,c=4,f.chrome?(Gb=1,Kd=0,f._cubeOverlap=4):f.firefox&&(c=0)):(f.windows||f.mac)&&b?(Cf=1,Kd=Gb=0,f._cubeOverlap=4):(Gb=1,Kd=0,c=2,f.desktop&&f.safari&&(c=8),f.chrome&&(22<=f.chromeversion&&25>=f.chromeversion?(f._cubeOverlap=64,c=16):f._cubeOverlap=1),f.ie&&(c=8)),f._tileOverlap=c,s=new hc,s.set=S,s.get=N,s.call=fd,s.trace=na,s["true"]=!0,s[_[18]]=!1,s.version=_[444],s.build=_[322],s.buildversion=s.version,s.debugmode=!1,s.tweentypes=ha,s.basedir=_[321],s.showtext=function(){},s.bgcolor=0,s[ld[0]]=s[ld[1]]=!0,s.haveexternalinterface=!0,s.havenetworkaccess=!0,s.device=f,s.browser=f.browser,s._have_top_access=f.topAccess,s._isrealdesktop=f.realDesktop,s.iosversion=f.iosversion,s.isphone=f.iphone,s.ispad=f.ipad,s.isandroid=f.android,s.ishtml5=!0,s.isflash=!1,s.ismobile=f.mobile,s.istablet=f.tablet,s.isdesktop=f.desktop,s.istouchdevice=f.touchdevice,s.isgesturedevice=f.gesturedevice,s.__defineGetter__(_[318],function(){return Pb/P}),s.__defineGetter__(_[290],function(){return pb/P}),Lc(s,_[317],function(){return P},function(a){a=Number(a),isNaN(a)&&(a=1),1e-4<Math.abs(a-P)&&(P=a,G.onResize(null,!0))}),qb=s.area=new mh,s.wheeldelta=0,s.wheeldelta_raw=Number.NaN,s.wheeldelta_touchscale=0,s.keycode=0,s.idletime=.5,s.__defineGetter__(_[340],Ea),s.__defineGetter__(_[436],Math.random),Lc(s,_[102],function(){return G.fullscreen},function(a){G.setFullscreen(za(a))}),Lc(s,_[343],function(){return qa.swfpath},function(a){qa.swfpath=a}),s.hlookat_moveforce=0,s.vlookat_moveforce=0,s.fov_moveforce=0,s.multireslevel=0,z=s.mouse={},z.down=!1,z.up=!1,z.moved=!1,z.downx=0,z.downy=0,z.x=0,z.y=0,z.__defineGetter__(_[428],function(){return z.x+qb.pixelx}),z.__defineGetter__(_[427],function(){return z.y+qb.pixely
}),z.__defineGetter__("dd",function(){var a=z.x-z.downx,b=z.y-z.downy;return Math.sqrt(a*a+b*b)}),p=s.view=new kh,s.screentosphere=p.screentosphere,s.spheretoscreen=p.spheretoscreen,s.loadFile=qa.loadfile,s.decodeLicense=qa.decodeLicense,s.haveLicense=mb(function(a){var b=!1,c=ka;switch(a.toLowerCase().charCodeAt(0)){case 107:b=0!=(1&c);break;case 109:b=0!=(128&c);break;case 98:b=0!=(16&c)}return b}),s.parsepath=s.parsePath=qa.parsePath,s.contextmenu=new ph,aa=s.control=new lh,K=s.image={},La=s.plugin=new nb(Gd),s.layer=La,Ha=s.hotspot=new nb(oh),Nb=s.events=new nb(null,!0),Nb.dispatch=oa,Ob=s.display={currentfps:60,mipmapping:"auto",loadwhilemoving:f.realDesktop?"true":"auto",hardwarelimit:f.realDesktop&&f.safari&&"6">f.safariversion?2e3:f.realDesktop&&!f.webgl?2560:f.iphone&&f.retina&&!f.iphone5?800:f.iphone&&!f.retina?600:f.ipod&&f.retina?640:f.mobile||f.tablet?1024:4096},s.memory={maxmem:f.realDesktop?Math.min(Math.max(150,48*screen.availWidth*screen.availHeight>>20),400):f.ios&&7.1>f.iosversion||f.iphone&&!f.iphone5?40:50},s.network={retrycount:2},ie=s.progress={},ie.progress=0,ab=new Gd,ab.name="STAGE",cb=new Gd,cb.name=_[422],La.alpha=1,La.visible=!0,Ha.alpha=1,Ha.visible=!0,s.xml={},s.xml.url="",s.xml.content=null,s.xml.scene=null,b=s.security={},Lc(b,"cors",function(){return Hd},function(a){Hd=a}),wa=s.autorotate={},wa.enabled=!1,wa.waittime=1.5,wa.accel=1,wa.speed=10,wa.horizon=0,wa.tofov=null,wa.currentmovingspeed=0,b=s,c=function(a){return function(b,c){void 0===c?S(b,Math[a](g(b))):S(b,Math[a](g(c)))}},d={},e=_[141].split(" "),g=function(a){var b=N(a);return Number(null!==b?b:a)};for(h in e)i=e[h],d[i]=c(i);if(d.pi=Va,d.atan2=function(a,b,c){S(a,Math.atan2(g(b),g(c)))},d.min=function(){var a=arguments,b=a.length,c=3>b?0:1,d=g(a[c]);for(c++;b>c;c++)d=Math.min(d,g(a[c]));S(a[0],d)},d.max=function(){var a=arguments,b=a.length,c=3>b?0:1,d=g(a[c]);for(c++;b>c;c++)d=Math.max(d,g(a[c]));S(a[0],d)},d.pow=$.pow,b.math=d,s.action=new nb,s.scene=new nb,s.data=new nb,s.addlayer=s.addplugin=function(a){wc(a,_[172]+a+")")&&(a=La.createItem(a))&&null==a.sprite&&(a._dyn=!0,a.create(),null==a._parent&&G.pluginlayer.appendChild(a.sprite))},s.removelayer=s.removeplugin=function(a){var b=La.getItem(a);b&&(b.visible=!1,b.parent=null,b.sprite&&G.pluginlayer.removeChild(b.sprite),b.destroy(),La.removeItem(a))},s.addhotspot=function(a){wc(a,_[282]+a+")")&&(a=Ha.createItem(a))&&(null==a.sprite&&(a._dyn=!0,a.create(),G.hotspotlayer.appendChild(a.sprite)),Ie=!0)},s.removehotspot=function(a){var b=Ha.getItem(a);if(b){if(b.visible=!1,b.parent=null,b.sprite){try{G.hotspotlayer.removeChild(b.sprite)}catch(c){}if(b._poly){try{G.svglayer.removeChild(b._poly)}catch(d){}b._poly.kobject=null,b._poly=null}}b.destroy(),Ha.removeItem(a)}},!G.build(a))return!1;if(aa.layer=G.controllayer,aa.getMousePos=G.getMousePos,Ob.htmltarget=G.htmltarget,Ob.viewerlayer=G.viewerlayer,na(1,_[122]+s.version+_[383]+s.build+(s.debugmode?_[405]:")")),h=!(f.android&&f.firefox&&22>f.firefoxversion),a.html5&&(b=C(a.html5),0<=b.indexOf(_[70])?h=!0:0<=b.indexOf("css3d")&&(h=!1)),f.webgl&&h?Ua.setup(2):Ua.setup(1),na(1,f.infoString+Ua.infoString),a&&a.basepath&&""!=a.basepath&&(qa.swfpath=a.basepath),G.onResize(null),va.registerControls(G.controllayer),Fe.start(dh),!f.css3d&&!f.webgl&&0>C(a.html5).indexOf(_[445]))Aa(_[140]);else{if(l=[],h=!0,b=0,i=[],m="360etours.net clickcwb.com.br afu360.com realtourvision.com webvr.net webvr.cn round.me aero-scan.ru shambalaland.com littlstar.com d3uo9a4kiyu5sk.cloudfront.net youvisit.com".split(" "),c="panofree freeuser figgler teameat eatusebuy no-mail chen44 .lestra. gfreidinger an37almk".split(" "),n=d=null,e=Id(100),o=C(_[143]).split(";"),null!=Kc&&""!=Kc){if(t=qa.b64u8(Kc),u=t.split(";"),(q=u[0]==o[0])&&(t=C(t),(0<=t.indexOf(o[6])||0<=t.indexOf(o[7])||0<=t.indexOf(o[8]))&&(q=!1)),t=Kc=null,t=u.length,t-=2,v=u[t],w=0,0==v.indexOf("ck=")?v=v.slice(3):q=!1,q)for(q=0;t>q;q++){for(x=u[q],y=x.length,r=0;y>r;r++)w+=255&x.charCodeAt(r);if(!(4>y)&&(r=x.slice(3),""!=r))switch(0|_[154].indexOf(x.slice(0,3))/3){case 1:ka=parseInt(r),h=0==(1&ka);break;case 2:j=r,l.push(o[1]+"="+r);break;case 3:k=r,l.push(o[2]+r);break;case 4:i.push(r),l.push(o[3]+"="+r);break;case 5:x=parseInt(r),d=new Date,d.setFullYear(x>>16,(15&x>>8)-1,63&x);break;case 6:n=r;break;case 7:if(y=x=r.length,128>x)for(;128>y;)r+=r.charAt(y%x),y++;Me=r;break;case 8:break;case 9:Da=r.split("|"),4!=Da.length&&(Da=null);break;case 10:break;default:l.push(x)}}if(w!=parseInt(v)&&(b=1),q=Q.location,q=C(q.search||q.hash),0<q.indexOf(_[89]))return Aa(l.join(", "),C(_[89]).toUpperCase()),void 0;0<q.indexOf(_[220])&&(null==a.vars&&(a.vars={}),a.vars.consolelog=!0,ka=14|1&ka),u=null}Jd=l=C(Q[o[3]]);try{throw Error("path")}catch(A){q=""+A.stack,u=q.indexOf("://"),u>0&&(u+=3,t=q.indexOf("/",u),q=q.slice(u,t),t=q.indexOf(":"),t>0&&(q=q.slice(0,t)),Jd=q)}if(0==l.indexOf(_[465])&&(l=l.slice(4)),q=""==l||_[333]==l||_[332]==l||0==l.indexOf(o[4]),f.browser.domain=q?null:l,0==(2&ka)&&q)b=3;else if(!q){for(q=l.indexOf(".")+1,0>l.indexOf(".",q)&&(q=0),o=l,l=l.slice(q),0==l.indexOf(_[403])&&_[103]!=l&&(b=2),q=0;q<m.length;q++)if(m[q]==l){b=2;break}if(0==b&&0<i.length)for(b=2,q=0;q<i.length;q++){if(!(m=l==i[q])){for(m=i[q],u=o,y="",t=0,v=1,x=w=0;1==v&&0==t;)r=m.indexOf("*",w),y="",0>r?(r=m.length,t=1):(y=m.indexOf("*",r+1),0>y&&(y=m.length),D=y-(r+1),y=m.substr(r+1,D)),D=r-w,D>0&&u.substr(x,t?void 0:D)!=m.substr(w,D)&&(v=0),w=r+1,""!=y&&(x=u.indexOf(y,x),0>x&&(v=0));m=!!v}if(m){b=0;break}}}if(j||k)for(k=("."+j+"."+k).toLowerCase(),q=0;q<c.length;q++)0<=k.indexOf(c[q])&&(b=1);if(null!=d&&new Date>d)Aa(_[218]),null!=n&&setTimeout(function(){B.location=n},500);else{if(!(b>0))return Da&&(ka&=-129,na(1,Da[0])),0==h&&(j?na(1,_[207]+j):h=!0),(h||0==(1&ka))&&G.log(e),j=null,a.xml&&(j=a.xml),a.vars&&(a.vars.xml&&(j=a.vars.xml),j||(j=a.vars.pano)),0==(4&ka)&&(a.vars=null),16&ka&&(s[ld[0]]=s[ld[1]]=!1),k=G.viewerlayer,8&ka?(k.get=mb(N),k.set=mb(S),k.call=Ce):(k.set=function(){na(2,_[156])},k.get=Da?mb(N):k.set,k.call=mb($.SAcall)),k.screentosphere=p.screentosphere,k.spheretoscreen=p.spheretoscreen,k.unload=De,a.initvars&&xf(a.initvars),$.loadpano(j,a.vars),a.onready&&a.onready(k),!0;Aa(_[93]+["",_[216],_[185]][b-1])}}}}var vc,lb,ca,mb,Mb,Eb,wc,Jc,Xb,wf,_,fc=Kc;for(Kc=null,vc=fc.length-3,Mb="",Eb="",wc=1,Jc=0,Xb=[],wf=[1,48,55,53,38,51,52,3],mb=fc.charCodeAt(4),lb=5;vc>lb;lb++)ca=fc.charCodeAt(lb),ca>=92&&ca--,ca>=34&&ca--,ca-=32,ca=(ca+3*lb+59+wf[7&lb]+mb)%93,mb=(23*mb+ca)%32749,ca+=32,124==ca?0==wc?Jc^=1:1==Jc?Jc=0:(Xb.push(Mb),Mb="",wc=0):(ca=String.fromCharCode(ca),0==Jc?Mb+=ca:Eb+=ca,wc++);for(wc>0&&Xb.push(Mb),ca=0,vc+=3;vc>lb;)ca=ca<<5|fc.charCodeAt(lb++)-53;ca!=mb&&(Xb=null),Kc=Eb,_=Xb,_&&_[112]!=typeof krpanoJS&&(new De).init(Ce)}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video {
    margin:0;
    padding:0;
    border:0;
    font-size:100%;
    font:inherit;
    vertical-align:baseline;
}
article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section {
    display:block;
}
body {
    font-family:'Helvetica Neue','Roboto',"microsoft yahei";
    line-height:1;
    -webkit-touch-callout:none;
    -webkit-text-size-adjust:none;
    -webkit-tap-highlight-color:rgba(0,0,0,0);
}
ol,ul {
    list-style:none;
}
blockquote,q {
    quotes:none;
}
blockquote:before,blockquote:after,q:before,q:after {
    content:'';
    content:none;
}
table {
    border-collapse:collapse;
    border-spacing:0;
}
html,body {
    width:100%;
    height:100%;
}
body {
    position:relative;
    overflow:hidden;
    background:#dad9d2 url(../img/bg_main.jpg) no-repeat center;
    -webkit-background-size:cover;
    background-size:cover;
}
.n-page {
    display:none;
    position:relative;
    width:100%;
    height:100%;
    overflow:hidden;
}
.m-recorder {
    display:none;
    position:absolute;
   